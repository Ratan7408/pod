var GN=t=>{throw TypeError(t)};var jb=(t,e,r)=>e.has(t)||GN("Cannot "+r);var _e=(t,e,r)=>(jb(t,e,"read from private field"),r?r.call(t):e.get(t)),qt=(t,e,r)=>e.has(t)?GN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ot=(t,e,r,n)=>(jb(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),fr=(t,e,r)=>(jb(t,e,"access private method"),r);var T1=(t,e,r,n)=>({set _(i){Ot(t,e,i,r)},get _(){return _e(t,e,n)}});function l9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t6={exports:{}},R2={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c9=Symbol.for("react.transitional.element"),u9=Symbol.for("react.fragment");function r6(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:c9,type:t,key:n,ref:e!==void 0?e:null,props:r}}R2.Fragment=u9;R2.jsx=r6;R2.jsxs=r6;t6.exports=R2;var l=t6.exports,n6={exports:{}},M2={},i6={exports:{}},a6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,le){var re=X.length;X.push(le);e:for(;0<re;){var ue=re-1>>>1,ge=X[ue];if(0<i(ge,le))X[ue]=le,X[re]=ge,re=ue;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var le=X[0],re=X.pop();if(re!==le){X[0]=re;e:for(var ue=0,ge=X.length,Ge=ge>>>1;ue<Ge;){var A=2*(ue+1)-1,M=X[A],R=A+1,B=X[R];if(0>i(M,re))R<ge&&0>i(B,M)?(X[ue]=B,X[R]=re,ue=R):(X[ue]=M,X[A]=re,ue=A);else if(R<ge&&0>i(B,re))X[ue]=B,X[R]=re,ue=R;else break e}}return le}function i(X,le){var re=X.sortIndex-le.sortIndex;return re!==0?re:X.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],h=1,f=null,d=3,p=!1,x=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(X){for(var le=r(u);le!==null;){if(le.callback===null)n(u);else if(le.startTime<=X)n(u),le.sortIndex=le.expirationTime,e(c,le);else break;le=r(u)}}function E(X){if(m=!1,T(X),!x)if(r(c)!==null)x=!0,P||(P=!0,O());else{var le=r(u);le!==null&&ae(E,le.startTime-X)}}var P=!1,j=-1,L=5,F=-1;function W(){return y?!0:!(t.unstable_now()-F<L)}function D(){if(y=!1,P){var X=t.unstable_now();F=X;var le=!0;try{e:{x=!1,m&&(m=!1,b(j),j=-1),p=!0;var re=d;try{t:{for(T(X),f=r(c);f!==null&&!(f.expirationTime>X&&W());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,d=f.priorityLevel;var ge=ue(f.expirationTime<=X);if(X=t.unstable_now(),typeof ge=="function"){f.callback=ge,T(X),le=!0;break t}f===r(c)&&n(c),T(X)}else n(c);f=r(c)}if(f!==null)le=!0;else{var Ge=r(u);Ge!==null&&ae(E,Ge.startTime-X),le=!1}}break e}finally{f=null,d=re,p=!1}le=void 0}}finally{le?O():P=!1}}}var O;if(typeof S=="function")O=function(){S(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,I=q.port2;q.port1.onmessage=D,O=function(){I.postMessage(null)}}else O=function(){v(D,0)};function ae(X,le){j=v(function(){X(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(X){switch(d){case 1:case 2:case 3:var le=3;break;default:le=d}var re=d;d=le;try{return X()}finally{d=re}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=d;d=X;try{return le()}finally{d=re}},t.unstable_scheduleCallback=function(X,le,re){var ue=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,X){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=re+ge,X={id:h++,callback:le,priorityLevel:X,startTime:re,expirationTime:ge,sortIndex:-1},re>ue?(X.sortIndex=re,e(u,X),r(c)===null&&X===r(u)&&(m?(b(j),j=-1):m=!0,ae(E,re-ue))):(X.sortIndex=ge,e(c,X),x||p||(x=!0,P||(P=!0,O()))),X},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(X){var le=d;return function(){var re=d;d=le;try{return X.apply(this,arguments)}finally{d=re}}}})(a6);i6.exports=a6;var h9=i6.exports,s6={exports:{}},nr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4=Symbol.for("react.transitional.element"),f9=Symbol.for("react.portal"),d9=Symbol.for("react.fragment"),p9=Symbol.for("react.strict_mode"),m9=Symbol.for("react.profiler"),g9=Symbol.for("react.consumer"),x9=Symbol.for("react.context"),v9=Symbol.for("react.forward_ref"),y9=Symbol.for("react.suspense"),b9=Symbol.for("react.memo"),o6=Symbol.for("react.lazy"),YN=Symbol.iterator;function w9(t){return t===null||typeof t!="object"?null:(t=YN&&t[YN]||t["@@iterator"],typeof t=="function"?t:null)}var l6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c6=Object.assign,u6={};function f0(t,e,r){this.props=t,this.context=e,this.refs=u6,this.updater=r||l6}f0.prototype.isReactComponent={};f0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};f0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h6(){}h6.prototype=f0.prototype;function M4(t,e,r){this.props=t,this.context=e,this.refs=u6,this.updater=r||l6}var F4=M4.prototype=new h6;F4.constructor=M4;c6(F4,f0.prototype);F4.isPureReactComponent=!0;var XN=Array.isArray,ln={H:null,A:null,T:null,S:null,V:null},f6=Object.prototype.hasOwnProperty;function I4(t,e,r,n,i,a){return r=a.ref,{$$typeof:R4,type:t,key:e,ref:r!==void 0?r:null,props:a}}function S9(t,e){return I4(t.type,e,void 0,void 0,void 0,t.props)}function B4(t){return typeof t=="object"&&t!==null&&t.$$typeof===R4}function _9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $N=/\/+/g;function kb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_9(""+t.key):e.toString(36)}function KN(){}function N9(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(KN,KN):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Pf(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case R4:case f9:s=!0;break;case o6:return s=t._init,Pf(s(t._payload),e,r,n,i)}}if(s)return i=i(t),s=n===""?"."+kb(t,0):n,XN(i)?(r="",s!=null&&(r=s.replace($N,"$&/")+"/"),Pf(i,e,r,"",function(u){return u})):i!=null&&(B4(i)&&(i=S9(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace($N,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=n===""?".":n+":";if(XN(t))for(var c=0;c<t.length;c++)n=t[c],a=o+kb(n,c),s+=Pf(n,e,r,a,i);else if(c=w9(t),typeof c=="function")for(t=c.call(t),c=0;!(n=t.next()).done;)n=n.value,a=o+kb(n,c++),s+=Pf(n,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return Pf(N9(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function C1(t,e,r){if(t==null)return t;var n=[],i=0;return Pf(t,n,"","",function(a){return e.call(r,a,i++)}),n}function T9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var QN=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function C9(){}nr.Children={map:C1,forEach:function(t,e,r){C1(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return C1(t,function(){e++}),e},toArray:function(t){return C1(t,function(e){return e})||[]},only:function(t){if(!B4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nr.Component=f0;nr.Fragment=d9;nr.Profiler=m9;nr.PureComponent=M4;nr.StrictMode=p9;nr.Suspense=y9;nr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ln;nr.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ln.H.useMemoCache(t)}};nr.cache=function(t){return function(){return t.apply(null,arguments)}};nr.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=c6({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!f6.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(n[s]=e[s]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];n.children=o}return I4(t.type,i,void 0,void 0,a,n)};nr.createContext=function(t){return t={$$typeof:x9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:g9,_context:t},t};nr.createElement=function(t,e,r){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)f6.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return I4(t,a,void 0,void 0,null,i)};nr.createRef=function(){return{current:null}};nr.forwardRef=function(t){return{$$typeof:v9,render:t}};nr.isValidElement=B4;nr.lazy=function(t){return{$$typeof:o6,_payload:{_status:-1,_result:t},_init:T9}};nr.memo=function(t,e){return{$$typeof:b9,type:t,compare:e===void 0?null:e}};nr.startTransition=function(t){var e=ln.T,r={};ln.T=r;try{var n=t(),i=ln.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(C9,QN)}catch(a){QN(a)}finally{ln.T=e}};nr.unstable_useCacheRefresh=function(){return ln.H.useCacheRefresh()};nr.use=function(t){return ln.H.use(t)};nr.useActionState=function(t,e,r){return ln.H.useActionState(t,e,r)};nr.useCallback=function(t,e){return ln.H.useCallback(t,e)};nr.useContext=function(t){return ln.H.useContext(t)};nr.useDebugValue=function(){};nr.useDeferredValue=function(t,e){return ln.H.useDeferredValue(t,e)};nr.useEffect=function(t,e,r){var n=ln.H;if(typeof r=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(t,e)};nr.useId=function(){return ln.H.useId()};nr.useImperativeHandle=function(t,e,r){return ln.H.useImperativeHandle(t,e,r)};nr.useInsertionEffect=function(t,e){return ln.H.useInsertionEffect(t,e)};nr.useLayoutEffect=function(t,e){return ln.H.useLayoutEffect(t,e)};nr.useMemo=function(t,e){return ln.H.useMemo(t,e)};nr.useOptimistic=function(t,e){return ln.H.useOptimistic(t,e)};nr.useReducer=function(t,e,r){return ln.H.useReducer(t,e,r)};nr.useRef=function(t){return ln.H.useRef(t)};nr.useState=function(t){return ln.H.useState(t)};nr.useSyncExternalStore=function(t,e,r){return ln.H.useSyncExternalStore(t,e,r)};nr.useTransition=function(){return ln.H.useTransition()};nr.version="19.1.0";s6.exports=nr;var C=s6.exports;const It=h0(C),z4=l9({__proto__:null,default:It},[C]);var d6={exports:{}},oa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A9=C;function p6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yc(){}var na={d:{f:yc,r:function(){throw Error(p6(522))},D:yc,C:yc,L:yc,m:yc,X:yc,S:yc,M:yc},p:0,findDOMNode:null},E9=Symbol.for("react.portal");function j9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E9,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var Bp=A9.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function F2(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}oa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=na;oa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(p6(299));return j9(t,e,null,r)};oa.flushSync=function(t){var e=Bp.T,r=na.p;try{if(Bp.T=null,na.p=2,t)return t()}finally{Bp.T=e,na.p=r,na.d.f()}};oa.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,na.d.C(t,e))};oa.prefetchDNS=function(t){typeof t=="string"&&na.d.D(t)};oa.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=F2(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?na.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&na.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};oa.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=F2(e.as,e.crossOrigin);na.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&na.d.M(t)};oa.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=F2(r,e.crossOrigin);na.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};oa.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=F2(e.as,e.crossOrigin);na.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else na.d.m(t)};oa.requestFormReset=function(t){na.d.r(t)};oa.unstable_batchedUpdates=function(t,e){return t(e)};oa.useFormState=function(t,e,r){return Bp.H.useFormState(t,e,r)};oa.useFormStatus=function(){return Bp.H.useHostTransitionStatus()};oa.version="19.1.0";function m6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m6)}catch(t){console.error(t)}}m6(),d6.exports=oa;var ng=d6.exports;const k9=h0(ng);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=h9,g6=C,O9=ng;function at(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ig(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function v6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JN(t){if(ig(t)!==t)throw Error(at(188))}function L9(t){var e=t.alternate;if(!e){if(e=ig(t),e===null)throw Error(at(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return JN(i),t;if(a===n)return JN(i),e;a=a.sibling}throw Error(at(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(at(189))}}if(r.alternate!==n)throw Error(at(190))}if(r.tag!==3)throw Error(at(188));return r.stateNode.current===r?t:e}function y6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=y6(t),e!==null)return e;t=t.sibling}return null}var nn=Object.assign,D9=Symbol.for("react.element"),A1=Symbol.for("react.transitional.element"),Lp=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),b6=Symbol.for("react.strict_mode"),p5=Symbol.for("react.profiler"),P9=Symbol.for("react.provider"),w6=Symbol.for("react.consumer"),Cl=Symbol.for("react.context"),U4=Symbol.for("react.forward_ref"),m5=Symbol.for("react.suspense"),g5=Symbol.for("react.suspense_list"),H4=Symbol.for("react.memo"),Lc=Symbol.for("react.lazy"),x5=Symbol.for("react.activity"),R9=Symbol.for("react.memo_cache_sentinel"),ZN=Symbol.iterator;function dp(t){return t===null||typeof t!="object"?null:(t=ZN&&t[ZN]||t["@@iterator"],typeof t=="function"?t:null)}var M9=Symbol.for("react.client.reference");function v5(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M9?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hf:return"Fragment";case p5:return"Profiler";case b6:return"StrictMode";case m5:return"Suspense";case g5:return"SuspenseList";case x5:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Lp:return"Portal";case Cl:return(t.displayName||"Context")+".Provider";case w6:return(t._context.displayName||"Context")+".Consumer";case U4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H4:return e=t.displayName||null,e!==null?e:v5(t.type)||"Memo";case Lc:e=t._payload,t=t._init;try{return v5(t(e))}catch{}}return null}var Dp=Array.isArray,Vt=g6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nr=O9.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ch={pending:!1,data:null,method:null,action:null},y5=[],qf=-1;function Zo(t){return{current:t}}function ui(t){0>qf||(t.current=y5[qf],y5[qf]=null,qf--)}function cn(t,e){qf++,y5[qf]=t.current,t.current=e}var Vo=Zo(null),mm=Zo(null),tu=Zo(null),dv=Zo(null);function pv(t,e){switch(cn(tu,e),cn(mm,t),cn(Vo,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?iC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=iC(e),t=I8(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ui(Vo),cn(Vo,t)}function Ud(){ui(Vo),ui(mm),ui(tu)}function b5(t){t.memoizedState!==null&&cn(dv,t);var e=Vo.current,r=I8(e,t.type);e!==r&&(cn(mm,t),cn(Vo,r))}function mv(t){mm.current===t&&(ui(Vo),ui(mm)),dv.current===t&&(ui(dv),Tm._currentValue=ch)}var w5=Object.prototype.hasOwnProperty,q4=Qn.unstable_scheduleCallback,Ob=Qn.unstable_cancelCallback,F9=Qn.unstable_shouldYield,I9=Qn.unstable_requestPaint,Wo=Qn.unstable_now,B9=Qn.unstable_getCurrentPriorityLevel,S6=Qn.unstable_ImmediatePriority,_6=Qn.unstable_UserBlockingPriority,gv=Qn.unstable_NormalPriority,z9=Qn.unstable_LowPriority,N6=Qn.unstable_IdlePriority,U9=Qn.log,H9=Qn.unstable_setDisableYieldValue,ag=null,Za=null;function Yc(t){if(typeof U9=="function"&&H9(t),Za&&typeof Za.setStrictMode=="function")try{Za.setStrictMode(ag,t)}catch{}}var es=Math.clz32?Math.clz32:W9,q9=Math.log,V9=Math.LN2;function W9(t){return t>>>=0,t===0?32:31-(q9(t)/V9|0)|0}var E1=256,j1=4194304;function Uu(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function I2(t,e,r){var n=t.pendingLanes;if(n===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=n&134217727;return o!==0?(n=o&~a,n!==0?i=Uu(n):(s&=o,s!==0?i=Uu(s):r||(r=o&~t,r!==0&&(i=Uu(r))))):(o=n&~a,o!==0?i=Uu(o):s!==0?i=Uu(s):r||(r=n&~t,r!==0&&(i=Uu(r)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,r=e&-e,a>=r||a===32&&(r&4194048)!==0)?e:i}function sg(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function G9(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T6(){var t=E1;return E1<<=1,!(E1&4194048)&&(E1=256),t}function C6(){var t=j1;return j1<<=1,!(j1&62914560)&&(j1=4194304),t}function Lb(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function og(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Y9(t,e,r,n,i,a){var s=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(r=s&~r;0<r;){var h=31-es(r),f=1<<h;o[h]=0,c[h]=-1;var d=u[h];if(d!==null)for(u[h]=null,h=0;h<d.length;h++){var p=d[h];p!==null&&(p.lane&=-536870913)}r&=~f}n!==0&&A6(t,n,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function A6(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-es(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&4194090}function E6(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-es(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function V4(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function W4(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function j6(){var t=Nr.p;return t!==0?t:(t=window.event,t===void 0?32:X8(t.type))}function X9(t,e){var r=Nr.p;try{return Nr.p=t,e()}finally{Nr.p=r}}var Nu=Math.random().toString(36).slice(2),zi="__reactFiber$"+Nu,Ca="__reactProps$"+Nu,d0="__reactContainer$"+Nu,S5="__reactEvents$"+Nu,$9="__reactListeners$"+Nu,K9="__reactHandles$"+Nu,eT="__reactResources$"+Nu,lg="__reactMarker$"+Nu;function G4(t){delete t[zi],delete t[Ca],delete t[S5],delete t[$9],delete t[K9]}function Vf(t){var e=t[zi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[d0]||r[zi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=oC(t);t!==null;){if(r=t[zi])return r;t=oC(t)}return e}t=r,r=t.parentNode}return null}function p0(t){if(t=t[zi]||t[d0]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Pp(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(at(33))}function ad(t){var e=t[eT];return e||(e=t[eT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ai(t){t[lg]=!0}var k6=new Set,O6={};function Rh(t,e){Hd(t,e),Hd(t+"Capture",e)}function Hd(t,e){for(O6[t]=e,t=0;t<e.length;t++)k6.add(e[t])}var Q9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tT={},rT={};function J9(t){return w5.call(rT,t)?!0:w5.call(tT,t)?!1:Q9.test(t)?rT[t]=!0:(tT[t]=!0,!1)}function Mx(t,e,r){if(J9(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function k1(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function pl(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}var Db,nT;function Rf(t){if(Db===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Db=e&&e[1]||"",nT=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Db+t+nT}var Pb=!1;function Rb(t,e){if(!t||Pb)return"";Pb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){d=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var c=s.split(`
`),u=o.split(`
`);for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===u.length)for(n=c.length-1,i=u.length-1;1<=n&&0<=i&&c[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==u[i]){if(n!==1||i!==1)do if(n--,i--,0>i||c[n]!==u[i]){var h=`
`+c[n].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=n&&0<=i);break}}}finally{Pb=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Rf(r):""}function Z9(t){switch(t.tag){case 26:case 27:case 5:return Rf(t.type);case 16:return Rf("Lazy");case 13:return Rf("Suspense");case 19:return Rf("SuspenseList");case 0:case 15:return Rb(t.type,!1);case 11:return Rb(t.type.render,!1);case 1:return Rb(t.type,!0);case 31:return Rf("Activity");default:return""}}function iT(t){try{var e="";do e+=Z9(t),t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ws(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eI(t){var e=L6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xv(t){t._valueTracker||(t._valueTracker=eI(t))}function D6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=L6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function vv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tI=/[\n"\\]/g;function Ns(t){return t.replace(tI,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _5(t,e,r,n,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ws(e)):t.value!==""+ws(e)&&(t.value=""+ws(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?N5(t,s,ws(e)):r!=null?N5(t,s,ws(r)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ws(o):t.removeAttribute("name")}function P6(t,e,r,n,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;r=r!=null?""+ws(r):"",e=e!=null?""+ws(e):r,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function N5(t,e,r){e==="number"&&vv(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function sd(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ws(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R6(t,e,r){if(e!=null&&(e=""+ws(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+ws(r):""}function M6(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(at(92));if(Dp(n)){if(1<n.length)throw Error(at(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=ws(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n)}function qd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var rI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aT(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||rI.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function F6(t,e,r){if(e!=null&&typeof e!="object")throw Error(at(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&aT(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&aT(t,a,e[a])}function Y4(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fx(t){return iI.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var T5=null;function X4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,od=null;function sT(t){var e=p0(t);if(e&&(t=e.stateNode)){var r=t[Ca]||null;e:switch(t=e.stateNode,e.type){case"input":if(_5(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ns(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[Ca]||null;if(!i)throw Error(at(90));_5(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&D6(n)}break e;case"textarea":R6(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&sd(t,!!r.multiple,e,!1)}}}var Mb=!1;function I6(t,e,r){if(Mb)return t(e,r);Mb=!0;try{var n=t(e);return n}finally{if(Mb=!1,(Wf!==null||od!==null)&&(X2(),Wf&&(e=Wf,t=od,od=Wf=null,sT(e),t)))for(e=0;e<t.length;e++)sT(t[e])}}function gm(t,e){var r=t.stateNode;if(r===null)return null;var n=r[Ca]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(at(231,e,typeof r));return r}var Ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C5=!1;if(Ul)try{var pp={};Object.defineProperty(pp,"passive",{get:function(){C5=!0}}),window.addEventListener("test",pp,pp),window.removeEventListener("test",pp,pp)}catch{C5=!1}var Xc=null,$4=null,Ix=null;function B6(){if(Ix)return Ix;var t,e=$4,r=e.length,n,i="value"in Xc?Xc.value:Xc.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Ix=i.slice(t,1<n?1-n:void 0)}function Bx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function O1(){return!0}function oT(){return!1}function ka(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?O1:oT,this.isPropagationStopped=oT,this}return nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=O1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=O1)},persist:function(){},isPersistent:O1}),e}var Mh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B2=ka(Mh),cg=nn({},Mh,{view:0,detail:0}),aI=ka(cg),Fb,Ib,mp,z2=nn({},cg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mp&&(mp&&t.type==="mousemove"?(Fb=t.screenX-mp.screenX,Ib=t.screenY-mp.screenY):Ib=Fb=0,mp=t),Fb)},movementY:function(t){return"movementY"in t?t.movementY:Ib}}),lT=ka(z2),sI=nn({},z2,{dataTransfer:0}),oI=ka(sI),lI=nn({},cg,{relatedTarget:0}),Bb=ka(lI),cI=nn({},Mh,{animationName:0,elapsedTime:0,pseudoElement:0}),uI=ka(cI),hI=nn({},Mh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fI=ka(hI),dI=nn({},Mh,{data:0}),cT=ka(dI),pI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gI[t])?!!e[t]:!1}function K4(){return xI}var vI=nn({},cg,{key:function(t){if(t.key){var e=pI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K4,charCode:function(t){return t.type==="keypress"?Bx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yI=ka(vI),bI=nn({},z2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uT=ka(bI),wI=nn({},cg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K4}),SI=ka(wI),_I=nn({},Mh,{propertyName:0,elapsedTime:0,pseudoElement:0}),NI=ka(_I),TI=nn({},z2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CI=ka(TI),AI=nn({},Mh,{newState:0,oldState:0}),EI=ka(AI),jI=[9,13,27,32],Q4=Ul&&"CompositionEvent"in window,zp=null;Ul&&"documentMode"in document&&(zp=document.documentMode);var kI=Ul&&"TextEvent"in window&&!zp,z6=Ul&&(!Q4||zp&&8<zp&&11>=zp),hT=" ",fT=!1;function U6(t,e){switch(t){case"keyup":return jI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gf=!1;function OI(t,e){switch(t){case"compositionend":return H6(e);case"keypress":return e.which!==32?null:(fT=!0,hT);case"textInput":return t=e.data,t===hT&&fT?null:t;default:return null}}function LI(t,e){if(Gf)return t==="compositionend"||!Q4&&U6(t,e)?(t=B6(),Ix=$4=Xc=null,Gf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z6&&e.locale!=="ko"?null:e.data;default:return null}}var DI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DI[t.type]:e==="textarea"}function q6(t,e,r,n){Wf?od?od.push(n):od=[n]:Wf=n,e=Mv(e,"onChange"),0<e.length&&(r=new B2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Up=null,xm=null;function PI(t){R8(t,0)}function U2(t){var e=Pp(t);if(D6(e))return t}function pT(t,e){if(t==="change")return e}var V6=!1;if(Ul){var zb;if(Ul){var Ub="oninput"in document;if(!Ub){var mT=document.createElement("div");mT.setAttribute("oninput","return;"),Ub=typeof mT.oninput=="function"}zb=Ub}else zb=!1;V6=zb&&(!document.documentMode||9<document.documentMode)}function gT(){Up&&(Up.detachEvent("onpropertychange",W6),xm=Up=null)}function W6(t){if(t.propertyName==="value"&&U2(xm)){var e=[];q6(e,xm,t,X4(t)),I6(PI,e)}}function RI(t,e,r){t==="focusin"?(gT(),Up=e,xm=r,Up.attachEvent("onpropertychange",W6)):t==="focusout"&&gT()}function MI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return U2(xm)}function FI(t,e){if(t==="click")return U2(e)}function II(t,e){if(t==="input"||t==="change")return U2(e)}function BI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var is=typeof Object.is=="function"?Object.is:BI;function vm(t,e){if(is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!w5.call(e,i)||!is(t[i],e[i]))return!1}return!0}function xT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vT(t,e){var r=xT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xT(r)}}function G6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=vv(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=vv(t.document)}return e}function J4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var zI=Ul&&"documentMode"in document&&11>=document.documentMode,Yf=null,A5=null,Hp=null,E5=!1;function yT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;E5||Yf==null||Yf!==vv(n)||(n=Yf,"selectionStart"in n&&J4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hp&&vm(Hp,n)||(Hp=n,n=Mv(A5,"onSelect"),0<n.length&&(e=new B2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yf)))}function Bu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xf={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionrun:Bu("Transition","TransitionRun"),transitionstart:Bu("Transition","TransitionStart"),transitioncancel:Bu("Transition","TransitionCancel"),transitionend:Bu("Transition","TransitionEnd")},Hb={},X6={};Ul&&(X6=document.createElement("div").style,"AnimationEvent"in window||(delete Xf.animationend.animation,delete Xf.animationiteration.animation,delete Xf.animationstart.animation),"TransitionEvent"in window||delete Xf.transitionend.transition);function Fh(t){if(Hb[t])return Hb[t];if(!Xf[t])return t;var e=Xf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in X6)return Hb[t]=e[r];return t}var $6=Fh("animationend"),K6=Fh("animationiteration"),Q6=Fh("animationstart"),UI=Fh("transitionrun"),HI=Fh("transitionstart"),qI=Fh("transitioncancel"),J6=Fh("transitionend"),Z6=new Map,j5="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");j5.push("scrollEnd");function ho(t,e){Z6.set(t,e),Rh(e,[t])}var bT=new WeakMap;function Ts(t,e){if(typeof t=="object"&&t!==null){var r=bT.get(t);return r!==void 0?r:(e={value:t,source:e,stack:iT(e)},bT.set(t,e),e)}return{value:t,source:e,stack:iT(e)}}var vs=[],$f=0,Z4=0;function H2(){for(var t=$f,e=Z4=$f=0;e<t;){var r=vs[e];vs[e++]=null;var n=vs[e];vs[e++]=null;var i=vs[e];vs[e++]=null;var a=vs[e];if(vs[e++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}a!==0&&ek(r,i,a)}}function q2(t,e,r,n){vs[$f++]=t,vs[$f++]=e,vs[$f++]=r,vs[$f++]=n,Z4|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function e3(t,e,r,n){return q2(t,e,r,n),yv(t)}function m0(t,e){return q2(t,null,null,e),yv(t)}function ek(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-es(r),t=a.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=r|536870912),a):null}function yv(t){if(50<Jp)throw Jp=0,K5=null,Error(at(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Kf={};function VI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(t,e,r,n){return new VI(t,e,r,n)}function t3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pl(t,e){var r=t.alternate;return r===null?(r=Ka(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function tk(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function zx(t,e,r,n,i,a){var s=0;if(n=t,typeof t=="function")t3(t)&&(s=1);else if(typeof t=="string")s=GB(t,r,Vo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x5:return t=Ka(31,r,e,i),t.elementType=x5,t.lanes=a,t;case Hf:return uh(r.children,i,a,e);case b6:s=8,i|=24;break;case p5:return t=Ka(12,r,e,i|2),t.elementType=p5,t.lanes=a,t;case m5:return t=Ka(13,r,e,i),t.elementType=m5,t.lanes=a,t;case g5:return t=Ka(19,r,e,i),t.elementType=g5,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P9:case Cl:s=10;break e;case w6:s=9;break e;case U4:s=11;break e;case H4:s=14;break e;case Lc:s=16,n=null;break e}s=29,r=Error(at(130,t===null?"null":typeof t,"")),n=null}return e=Ka(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function uh(t,e,r,n){return t=Ka(7,t,n,e),t.lanes=r,t}function qb(t,e,r){return t=Ka(6,t,null,e),t.lanes=r,t}function Vb(t,e,r){return e=Ka(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Qf=[],Jf=0,bv=null,wv=0,Ss=[],_s=0,hh=null,Al=1,El="";function Hu(t,e){Qf[Jf++]=wv,Qf[Jf++]=bv,bv=t,wv=e}function rk(t,e,r){Ss[_s++]=Al,Ss[_s++]=El,Ss[_s++]=hh,hh=t;var n=Al;t=El;var i=32-es(n)-1;n&=~(1<<i),r+=1;var a=32-es(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Al=1<<32-es(e)+i|r<<i|n,El=a+t}else Al=1<<a|r<<i|n,El=t}function r3(t){t.return!==null&&(Hu(t,1),rk(t,1,0))}function n3(t){for(;t===bv;)bv=Qf[--Jf],Qf[Jf]=null,wv=Qf[--Jf],Qf[Jf]=null;for(;t===hh;)hh=Ss[--_s],Ss[_s]=null,El=Ss[--_s],Ss[_s]=null,Al=Ss[--_s],Ss[_s]=null}var ra=null,bn=null,_r=!1,fh=null,Mo=!1,k5=Error(at(519));function wh(t){var e=Error(at(418,""));throw ym(Ts(e,t)),k5}function wT(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[zi]=t,e[Ca]=n,r){case"dialog":lr("cancel",e),lr("close",e);break;case"iframe":case"object":case"embed":lr("load",e);break;case"video":case"audio":for(r=0;r<Sm.length;r++)lr(Sm[r],e);break;case"source":lr("error",e);break;case"img":case"image":case"link":lr("error",e),lr("load",e);break;case"details":lr("toggle",e);break;case"input":lr("invalid",e),P6(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),xv(e);break;case"select":lr("invalid",e);break;case"textarea":lr("invalid",e),M6(e,n.value,n.defaultValue,n.children),xv(e)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||F8(e.textContent,r)?(n.popover!=null&&(lr("beforetoggle",e),lr("toggle",e)),n.onScroll!=null&&lr("scroll",e),n.onScrollEnd!=null&&lr("scrollend",e),n.onClick!=null&&(e.onclick=Q2),e=!0):e=!1,e||wh(t)}function ST(t){for(ra=t.return;ra;)switch(ra.tag){case 5:case 13:Mo=!1;return;case 27:case 3:Mo=!0;return;default:ra=ra.return}}function gp(t){if(t!==ra)return!1;if(!_r)return ST(t),_r=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||rS(t.type,t.memoizedProps)),r=!r),r&&bn&&wh(t),ST(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(at(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(e===0){bn=ao(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++;t=t.nextSibling}bn=null}}else e===27?(e=bn,Tu(t.type)?(t=aS,aS=null,bn=t):bn=e):bn=ra?ao(t.stateNode.nextSibling):null;return!0}function ug(){bn=ra=null,_r=!1}function _T(){var t=fh;return t!==null&&(xa===null?xa=t:xa.push.apply(xa,t),fh=null),t}function ym(t){fh===null?fh=[t]:fh.push(t)}var O5=Zo(null),Ih=null,jl=null;function Pc(t,e,r){cn(O5,e._currentValue),e._currentValue=r}function Rl(t){t._currentValue=O5.current,ui(O5)}function L5(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function D5(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var c=0;c<e.length;c++)if(o.context===e[c]){a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),L5(a.return,r,t),n||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(at(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),L5(s,r,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function hg(t,e,r,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(at(387));if(s=s.memoizedProps,s!==null){var o=i.type;is(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===dv.current){if(s=i.alternate,s===null)throw Error(at(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Tm):t=[Tm])}i=i.return}t!==null&&D5(e,t,r,n),e.flags|=262144}function Sv(t){for(t=t.firstContext;t!==null;){if(!is(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sh(t){Ih=t,jl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ui(t){return nk(Ih,t)}function L1(t,e){return Ih===null&&Sh(t),nk(t,e)}function nk(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},jl===null){if(t===null)throw Error(at(308));jl=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else jl=jl.next=e;return r}var WI=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},GI=Qn.unstable_scheduleCallback,YI=Qn.unstable_NormalPriority,Xn={$$typeof:Cl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function i3(){return{controller:new WI,data:new Map,refCount:0}}function fg(t){t.refCount--,t.refCount===0&&GI(YI,function(){t.controller.abort()})}var qp=null,P5=0,Vd=0,ld=null;function XI(t,e){if(qp===null){var r=qp=[];P5=0,Vd=A3(),ld={status:"pending",value:void 0,then:function(n){r.push(n)}}}return P5++,e.then(NT,NT),e}function NT(){if(--P5===0&&qp!==null){ld!==null&&(ld.status="fulfilled");var t=qp;qp=null,Vd=0,ld=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function $I(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var TT=Vt.S;Vt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&XI(t,e),TT!==null&&TT(t,e)};var dh=Zo(null);function a3(){var t=dh.current;return t!==null?t:en.pooledCache}function Ux(t,e){e===null?cn(dh,dh.current):cn(dh,e.pool)}function ik(){var t=a3();return t===null?null:{parent:Xn._currentValue,pool:t}}var dg=Error(at(460)),ak=Error(at(474)),V2=Error(at(542)),R5={then:function(){}};function CT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function D1(){}function sk(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(D1,D1),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ET(t),t;default:if(typeof e.status=="string")e.then(D1,D1);else{if(t=en,t!==null&&100<t.shellSuspendCounter)throw Error(at(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ET(t),t}throw Vp=e,dg}}var Vp=null;function AT(){if(Vp===null)throw Error(at(459));var t=Vp;return Vp=null,t}function ET(t){if(t===dg||t===V2)throw Error(at(483))}var Dc=!1;function s3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ru(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Pr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=yv(t),ek(t,null,r),e}return q2(t,n,e,r),yv(t)}function Wp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,E6(t,r)}}function Wb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var F5=!1;function Gp(){if(F5){var t=ld;if(t!==null)throw t}}function Yp(t,e,r,n){F5=!1;var i=t.updateQueue;Dc=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,h=u=c=null,o=a;do{var d=o.lane&-536870913,p=d!==o.lane;if(p?(mr&d)===d:(n&d)===d){d!==0&&d===Vd&&(F5=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,m=o;d=e;var y=r;switch(m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(y,f,d);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,d=typeof x=="function"?x.call(y,f,d):x,d==null)break e;f=nn({},f,d);break e;case 2:Dc=!0}}d=o.callback,d!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,c=f):h=h.next=p,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,a===null&&(i.shared.lanes=0),fu|=s,t.lanes=s,t.memoizedState=f}}function ok(t,e){if(typeof t!="function")throw Error(at(191,t));t.call(e)}function lk(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ok(r[t],e)}var Wd=Zo(null),_v=Zo(0);function jT(t,e){t=Vl,cn(_v,t),cn(Wd,e),Vl=t|e.baseLanes}function I5(){cn(_v,Vl),cn(Wd,Wd.current)}function o3(){Vl=_v.current,ui(Wd),ui(_v)}var uu=0,ar=null,Vr=null,zn=null,Nv=!1,cd=!1,_h=!1,Tv=0,bm=0,ud=null,KI=0;function An(){throw Error(at(321))}function l3(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!is(t[r],e[r]))return!1;return!0}function c3(t,e,r,n,i,a){return uu=a,ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vt.H=t===null||t.memoizedState===null?Bk:zk,_h=!1,a=r(n,i),_h=!1,cd&&(a=uk(e,r,n,i)),ck(t),a}function ck(t){Vt.H=Cv;var e=Vr!==null&&Vr.next!==null;if(uu=0,zn=Vr=ar=null,Nv=!1,bm=0,ud=null,e)throw Error(at(300));t===null||oi||(t=t.dependencies,t!==null&&Sv(t)&&(oi=!0))}function uk(t,e,r,n){ar=t;var i=0;do{if(cd&&(ud=null),bm=0,cd=!1,25<=i)throw Error(at(301));if(i+=1,zn=Vr=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Vt.H=nB,a=e(r,n)}while(cd);return a}function QI(){var t=Vt.H,e=t.useState()[0];return e=typeof e.then=="function"?pg(e):e,t=t.useState()[0],(Vr!==null?Vr.memoizedState:null)!==t&&(ar.flags|=1024),e}function u3(){var t=Tv!==0;return Tv=0,t}function h3(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function f3(t){if(Nv){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Nv=!1}uu=0,zn=Vr=ar=null,cd=!1,bm=Tv=0,ud=null}function ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?ar.memoizedState=zn=t:zn=zn.next=t,zn}function Hn(){if(Vr===null){var t=ar.alternate;t=t!==null?t.memoizedState:null}else t=Vr.next;var e=zn===null?ar.memoizedState:zn.next;if(e!==null)zn=e,Vr=t;else{if(t===null)throw ar.alternate===null?Error(at(467)):Error(at(310));Vr=t,t={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},zn===null?ar.memoizedState=zn=t:zn=zn.next=t}return zn}function d3(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pg(t){var e=bm;return bm+=1,ud===null&&(ud=[]),t=sk(ud,t,e),e=ar,(zn===null?e.memoizedState:zn.next)===null&&(e=e.alternate,Vt.H=e===null||e.memoizedState===null?Bk:zk),t}function W2(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pg(t);if(t.$$typeof===Cl)return Ui(t)}throw Error(at(438,String(t)))}function p3(t){var e=null,r=ar.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=ar.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=d3(),ar.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=R9;return e.index++,r}function Hl(t,e){return typeof e=="function"?e(t):e}function Hx(t){var e=Hn();return m3(e,Vr,t)}function m3(t,e,r){var n=t.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=r;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,c=null,u=e,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(mr&f)===f:(uu&f)===f){var d=u.revertLane;if(d===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Vd&&(h=!0);else if((uu&d)===d){u=u.next,d===Vd&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,s=a):c=c.next=f,ar.lanes|=d,fu|=d;f=u.action,_h&&r(a,f),a=u.hasEagerState?u.eagerState:r(a,f)}else d={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=d,s=a):c=c.next=d,ar.lanes|=f,fu|=f;u=u.next}while(u!==null&&u!==e);if(c===null?s=a:c.next=o,!is(a,t.memoizedState)&&(oi=!0,h&&(r=ld,r!==null)))throw r;t.memoizedState=a,t.baseState=s,t.baseQueue=c,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Gb(t){var e=Hn(),r=e.queue;if(r===null)throw Error(at(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);is(a,e.memoizedState)||(oi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function hk(t,e,r){var n=ar,i=Hn(),a=_r;if(a){if(r===void 0)throw Error(at(407));r=r()}else r=e();var s=!is((Vr||i).memoizedState,r);s&&(i.memoizedState=r,oi=!0),i=i.queue;var o=pk.bind(null,n,i,t);if(mg(2048,8,o,[t]),i.getSnapshot!==e||s||zn!==null&&zn.memoizedState.tag&1){if(n.flags|=2048,Gd(9,G2(),dk.bind(null,n,i,r,e),null),en===null)throw Error(at(349));a||uu&124||fk(n,e,r)}return r}function fk(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ar.updateQueue,e===null?(e=d3(),ar.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dk(t,e,r,n){e.value=r,e.getSnapshot=n,mk(e)&&gk(t)}function pk(t,e,r){return r(function(){mk(e)&&gk(t)})}function mk(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!is(t,r)}catch{return!0}}function gk(t){var e=m0(t,2);e!==null&&rs(e,t,2)}function B5(t){var e=ma();if(typeof t=="function"){var r=t;if(t=r(),_h){Yc(!0);try{r()}finally{Yc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:t},e}function xk(t,e,r,n){return t.baseState=r,m3(t,Vr,typeof n=="function"?n:Hl)}function JI(t,e,r,n,i){if(Y2(t))throw Error(at(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Vt.T!==null?r(!0):a.isTransition=!1,n(a),r=e.pending,r===null?(a.next=e.pending=a,vk(e,a)):(a.next=r.next,e.pending=r.next=a)}}function vk(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=Vt.T,s={};Vt.T=s;try{var o=r(i,n),c=Vt.S;c!==null&&c(s,o),kT(t,e,o)}catch(u){z5(t,e,u)}finally{Vt.T=a}}else try{a=r(i,n),kT(t,e,a)}catch(u){z5(t,e,u)}}function kT(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){OT(t,e,n)},function(n){return z5(t,e,n)}):OT(t,e,r)}function OT(t,e,r){e.status="fulfilled",e.value=r,yk(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,vk(t,r)))}function z5(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,yk(e),e=e.next;while(e!==n)}t.action=null}function yk(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bk(t,e){return e}function LT(t,e){if(_r){var r=en.formState;if(r!==null){e:{var n=ar;if(_r){if(bn){t:{for(var i=bn,a=Mo;i.nodeType!==8;){if(!a){i=null;break t}if(i=ao(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){bn=ao(i.nextSibling),n=i.data==="F!";break e}}wh(n)}n=!1}n&&(e=r[0])}}return r=ma(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bk,lastRenderedState:e},r.queue=n,r=Mk.bind(null,ar,n),n.dispatch=r,n=B5(!1),a=y3.bind(null,ar,!1,n.queue),n=ma(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=JI.bind(null,ar,i,a,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function DT(t){var e=Hn();return wk(e,Vr,t)}function wk(t,e,r){if(e=m3(t,e,bk)[0],t=Hx(Hl)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=pg(e)}catch(s){throw s===dg?V2:s}else n=e;e=Hn();var i=e.queue,a=i.dispatch;return r!==e.memoizedState&&(ar.flags|=2048,Gd(9,G2(),ZI.bind(null,i,r),null)),[n,a,t]}function ZI(t,e){t.action=e}function PT(t){var e=Hn(),r=Vr;if(r!==null)return wk(e,r,t);Hn(),e=e.memoizedState,r=Hn();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function Gd(t,e,r,n){return t={tag:t,create:r,deps:n,inst:e,next:null},e=ar.updateQueue,e===null&&(e=d3(),ar.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function G2(){return{destroy:void 0,resource:void 0}}function Sk(){return Hn().memoizedState}function qx(t,e,r,n){var i=ma();n=n===void 0?null:n,ar.flags|=t,i.memoizedState=Gd(1|e,G2(),r,n)}function mg(t,e,r,n){var i=Hn();n=n===void 0?null:n;var a=i.memoizedState.inst;Vr!==null&&n!==null&&l3(n,Vr.memoizedState.deps)?i.memoizedState=Gd(e,a,r,n):(ar.flags|=t,i.memoizedState=Gd(1|e,a,r,n))}function RT(t,e){qx(8390656,8,t,e)}function _k(t,e){mg(2048,8,t,e)}function Nk(t,e){return mg(4,2,t,e)}function Tk(t,e){return mg(4,4,t,e)}function Ck(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ak(t,e,r){r=r!=null?r.concat([t]):null,mg(4,4,Ck.bind(null,e,t),r)}function g3(){}function Ek(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&l3(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jk(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&l3(e,n[1]))return n[0];if(n=t(),_h){Yc(!0);try{t()}finally{Yc(!1)}}return r.memoizedState=[n,e],n}function x3(t,e,r){return r===void 0||uu&1073741824?t.memoizedState=e:(t.memoizedState=r,t=y8(),ar.lanes|=t,fu|=t,r)}function kk(t,e,r,n){return is(r,e)?r:Wd.current!==null?(t=x3(t,r,n),is(t,e)||(oi=!0),t):uu&42?(t=y8(),ar.lanes|=t,fu|=t,e):(oi=!0,t.memoizedState=r)}function Ok(t,e,r,n,i){var a=Nr.p;Nr.p=a!==0&&8>a?a:8;var s=Vt.T,o={};Vt.T=o,y3(t,!1,e,r);try{var c=i(),u=Vt.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=$I(c,n);Xp(t,e,h,ts(t))}else Xp(t,e,n,ts(t))}catch(f){Xp(t,e,{then:function(){},status:"rejected",reason:f},ts())}finally{Nr.p=a,Vt.T=s}}function eB(){}function U5(t,e,r,n){if(t.tag!==5)throw Error(at(476));var i=Lk(t).queue;Ok(t,i,e,ch,r===null?eB:function(){return Dk(t),r(n)})}function Lk(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ch,baseState:ch,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:ch},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Dk(t){var e=Lk(t).next.queue;Xp(t,e,{},ts())}function v3(){return Ui(Tm)}function Pk(){return Hn().memoizedState}function Rk(){return Hn().memoizedState}function tB(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=ts();t=ru(r);var n=nu(e,t,r);n!==null&&(rs(n,e,r),Wp(n,e,r)),e={cache:i3()},t.payload=e;return}e=e.return}}function rB(t,e,r){var n=ts();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Y2(t)?Fk(e,r):(r=e3(t,e,r,n),r!==null&&(rs(r,t,n),Ik(r,e,n)))}function Mk(t,e,r){var n=ts();Xp(t,e,r,n)}function Xp(t,e,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y2(t))Fk(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,is(o,s))return q2(t,e,i,0),en===null&&H2(),!1}catch{}finally{}if(r=e3(t,e,i,n),r!==null)return rs(r,t,n),Ik(r,e,n),!0}return!1}function y3(t,e,r,n){if(n={lane:2,revertLane:A3(),action:n,hasEagerState:!1,eagerState:null,next:null},Y2(t)){if(e)throw Error(at(479))}else e=e3(t,r,n,2),e!==null&&rs(e,t,2)}function Y2(t){var e=t.alternate;return t===ar||e!==null&&e===ar}function Fk(t,e){cd=Nv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ik(t,e,r){if(r&4194048){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,E6(t,r)}}var Cv={readContext:Ui,use:W2,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},Bk={readContext:Ui,use:W2,useCallback:function(t,e){return ma().memoizedState=[t,e===void 0?null:e],t},useContext:Ui,useEffect:RT,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,qx(4194308,4,Ck.bind(null,e,t),r)},useLayoutEffect:function(t,e){return qx(4194308,4,t,e)},useInsertionEffect:function(t,e){qx(4,2,t,e)},useMemo:function(t,e){var r=ma();e=e===void 0?null:e;var n=t();if(_h){Yc(!0);try{t()}finally{Yc(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=ma();if(r!==void 0){var i=r(e);if(_h){Yc(!0);try{r(e)}finally{Yc(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=rB.bind(null,ar,t),[n.memoizedState,t]},useRef:function(t){var e=ma();return t={current:t},e.memoizedState=t},useState:function(t){t=B5(t);var e=t.queue,r=Mk.bind(null,ar,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:g3,useDeferredValue:function(t,e){var r=ma();return x3(r,t,e)},useTransition:function(){var t=B5(!1);return t=Ok.bind(null,ar,t.queue,!0,!1),ma().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=ar,i=ma();if(_r){if(r===void 0)throw Error(at(407));r=r()}else{if(r=e(),en===null)throw Error(at(349));mr&124||fk(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,RT(pk.bind(null,n,a,t),[t]),n.flags|=2048,Gd(9,G2(),dk.bind(null,n,a,r,e),null),r},useId:function(){var t=ma(),e=en.identifierPrefix;if(_r){var r=El,n=Al;r=(n&~(1<<32-es(n)-1)).toString(32)+r,e="«"+e+"R"+r,r=Tv++,0<r&&(e+="H"+r.toString(32)),e+="»"}else r=KI++,e="«"+e+"r"+r.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:v3,useFormState:LT,useActionState:LT,useOptimistic:function(t){var e=ma();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=y3.bind(null,ar,!0,r),r.dispatch=e,[t,e]},useMemoCache:p3,useCacheRefresh:function(){return ma().memoizedState=tB.bind(null,ar)}},zk={readContext:Ui,use:W2,useCallback:Ek,useContext:Ui,useEffect:_k,useImperativeHandle:Ak,useInsertionEffect:Nk,useLayoutEffect:Tk,useMemo:jk,useReducer:Hx,useRef:Sk,useState:function(){return Hx(Hl)},useDebugValue:g3,useDeferredValue:function(t,e){var r=Hn();return kk(r,Vr.memoizedState,t,e)},useTransition:function(){var t=Hx(Hl)[0],e=Hn().memoizedState;return[typeof t=="boolean"?t:pg(t),e]},useSyncExternalStore:hk,useId:Pk,useHostTransitionStatus:v3,useFormState:DT,useActionState:DT,useOptimistic:function(t,e){var r=Hn();return xk(r,Vr,t,e)},useMemoCache:p3,useCacheRefresh:Rk},nB={readContext:Ui,use:W2,useCallback:Ek,useContext:Ui,useEffect:_k,useImperativeHandle:Ak,useInsertionEffect:Nk,useLayoutEffect:Tk,useMemo:jk,useReducer:Gb,useRef:Sk,useState:function(){return Gb(Hl)},useDebugValue:g3,useDeferredValue:function(t,e){var r=Hn();return Vr===null?x3(r,t,e):kk(r,Vr.memoizedState,t,e)},useTransition:function(){var t=Gb(Hl)[0],e=Hn().memoizedState;return[typeof t=="boolean"?t:pg(t),e]},useSyncExternalStore:hk,useId:Pk,useHostTransitionStatus:v3,useFormState:PT,useActionState:PT,useOptimistic:function(t,e){var r=Hn();return Vr!==null?xk(r,Vr,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:p3,useCacheRefresh:Rk},hd=null,wm=0;function P1(t){var e=wm;return wm+=1,hd===null&&(hd=[]),sk(hd,t,e)}function xp(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function R1(t,e){throw e.$$typeof===D9?Error(at(525)):(t=Object.prototype.toString.call(e),Error(at(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function MT(t){var e=t._init;return e(t._payload)}function Uk(t){function e(v,b){if(t){var S=v.deletions;S===null?(v.deletions=[b],v.flags|=16):S.push(b)}}function r(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function n(v){for(var b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(v,b){return v=Pl(v,b),v.index=0,v.sibling=null,v}function a(v,b,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<b?(v.flags|=67108866,b):S):(v.flags|=67108866,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,b,S,T){return b===null||b.tag!==6?(b=qb(S,v.mode,T),b.return=v,b):(b=i(b,S),b.return=v,b)}function c(v,b,S,T){var E=S.type;return E===Hf?h(v,b,S.props.children,T,S.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Lc&&MT(E)===b.type)?(b=i(b,S.props),xp(b,S),b.return=v,b):(b=zx(S.type,S.key,S.props,null,v.mode,T),xp(b,S),b.return=v,b)}function u(v,b,S,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Vb(S,v.mode,T),b.return=v,b):(b=i(b,S.children||[]),b.return=v,b)}function h(v,b,S,T,E){return b===null||b.tag!==7?(b=uh(S,v.mode,T,E),b.return=v,b):(b=i(b,S),b.return=v,b)}function f(v,b,S){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=qb(""+b,v.mode,S),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A1:return S=zx(b.type,b.key,b.props,null,v.mode,S),xp(S,b),S.return=v,S;case Lp:return b=Vb(b,v.mode,S),b.return=v,b;case Lc:var T=b._init;return b=T(b._payload),f(v,b,S)}if(Dp(b)||dp(b))return b=uh(b,v.mode,S,null),b.return=v,b;if(typeof b.then=="function")return f(v,P1(b),S);if(b.$$typeof===Cl)return f(v,L1(v,b),S);R1(v,b)}return null}function d(v,b,S,T){var E=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return E!==null?null:o(v,b,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case A1:return S.key===E?c(v,b,S,T):null;case Lp:return S.key===E?u(v,b,S,T):null;case Lc:return E=S._init,S=E(S._payload),d(v,b,S,T)}if(Dp(S)||dp(S))return E!==null?null:h(v,b,S,T,null);if(typeof S.then=="function")return d(v,b,P1(S),T);if(S.$$typeof===Cl)return d(v,b,L1(v,S),T);R1(v,S)}return null}function p(v,b,S,T,E){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return v=v.get(S)||null,o(b,v,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case A1:return v=v.get(T.key===null?S:T.key)||null,c(b,v,T,E);case Lp:return v=v.get(T.key===null?S:T.key)||null,u(b,v,T,E);case Lc:var P=T._init;return T=P(T._payload),p(v,b,S,T,E)}if(Dp(T)||dp(T))return v=v.get(S)||null,h(b,v,T,E,null);if(typeof T.then=="function")return p(v,b,S,P1(T),E);if(T.$$typeof===Cl)return p(v,b,S,L1(b,T),E);R1(b,T)}return null}function x(v,b,S,T){for(var E=null,P=null,j=b,L=b=0,F=null;j!==null&&L<S.length;L++){j.index>L?(F=j,j=null):F=j.sibling;var W=d(v,j,S[L],T);if(W===null){j===null&&(j=F);break}t&&j&&W.alternate===null&&e(v,j),b=a(W,b,L),P===null?E=W:P.sibling=W,P=W,j=F}if(L===S.length)return r(v,j),_r&&Hu(v,L),E;if(j===null){for(;L<S.length;L++)j=f(v,S[L],T),j!==null&&(b=a(j,b,L),P===null?E=j:P.sibling=j,P=j);return _r&&Hu(v,L),E}for(j=n(j);L<S.length;L++)F=p(j,v,L,S[L],T),F!==null&&(t&&F.alternate!==null&&j.delete(F.key===null?L:F.key),b=a(F,b,L),P===null?E=F:P.sibling=F,P=F);return t&&j.forEach(function(D){return e(v,D)}),_r&&Hu(v,L),E}function m(v,b,S,T){if(S==null)throw Error(at(151));for(var E=null,P=null,j=b,L=b=0,F=null,W=S.next();j!==null&&!W.done;L++,W=S.next()){j.index>L?(F=j,j=null):F=j.sibling;var D=d(v,j,W.value,T);if(D===null){j===null&&(j=F);break}t&&j&&D.alternate===null&&e(v,j),b=a(D,b,L),P===null?E=D:P.sibling=D,P=D,j=F}if(W.done)return r(v,j),_r&&Hu(v,L),E;if(j===null){for(;!W.done;L++,W=S.next())W=f(v,W.value,T),W!==null&&(b=a(W,b,L),P===null?E=W:P.sibling=W,P=W);return _r&&Hu(v,L),E}for(j=n(j);!W.done;L++,W=S.next())W=p(j,v,L,W.value,T),W!==null&&(t&&W.alternate!==null&&j.delete(W.key===null?L:W.key),b=a(W,b,L),P===null?E=W:P.sibling=W,P=W);return t&&j.forEach(function(O){return e(v,O)}),_r&&Hu(v,L),E}function y(v,b,S,T){if(typeof S=="object"&&S!==null&&S.type===Hf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case A1:e:{for(var E=S.key;b!==null;){if(b.key===E){if(E=S.type,E===Hf){if(b.tag===7){r(v,b.sibling),T=i(b,S.props.children),T.return=v,v=T;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Lc&&MT(E)===b.type){r(v,b.sibling),T=i(b,S.props),xp(T,S),T.return=v,v=T;break e}r(v,b);break}else e(v,b);b=b.sibling}S.type===Hf?(T=uh(S.props.children,v.mode,T,S.key),T.return=v,v=T):(T=zx(S.type,S.key,S.props,null,v.mode,T),xp(T,S),T.return=v,v=T)}return s(v);case Lp:e:{for(E=S.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(v,b.sibling),T=i(b,S.children||[]),T.return=v,v=T;break e}else{r(v,b);break}else e(v,b);b=b.sibling}T=Vb(S,v.mode,T),T.return=v,v=T}return s(v);case Lc:return E=S._init,S=E(S._payload),y(v,b,S,T)}if(Dp(S))return x(v,b,S,T);if(dp(S)){if(E=dp(S),typeof E!="function")throw Error(at(150));return S=E.call(S),m(v,b,S,T)}if(typeof S.then=="function")return y(v,b,P1(S),T);if(S.$$typeof===Cl)return y(v,b,L1(v,S),T);R1(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,b!==null&&b.tag===6?(r(v,b.sibling),T=i(b,S),T.return=v,v=T):(r(v,b),T=qb(S,v.mode,T),T.return=v,v=T),s(v)):r(v,b)}return function(v,b,S,T){try{wm=0;var E=y(v,b,S,T);return hd=null,E}catch(j){if(j===dg||j===V2)throw j;var P=Ka(29,j,null,v.mode);return P.lanes=T,P.return=v,P}finally{}}}var Yd=Uk(!0),Hk=Uk(!1),Es=Zo(null),Go=null;function Rc(t){var e=t.alternate;cn($n,$n.current&1),cn(Es,t),Go===null&&(e===null||Wd.current!==null||e.memoizedState!==null)&&(Go=t)}function qk(t){if(t.tag===22){if(cn($n,$n.current),cn(Es,t),Go===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Go=t)}}else Mc()}function Mc(){cn($n,$n.current),cn(Es,Es.current)}function kl(t){ui(Es),Go===t&&(Go=null),ui($n)}var $n=Zo(0);function Av(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||iS(r)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Yb(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:nn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var H5={enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ts(),i=ru(n);i.payload=e,r!=null&&(i.callback=r),e=nu(t,i,n),e!==null&&(rs(e,t,n),Wp(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ts(),i=ru(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=nu(t,i,n),e!==null&&(rs(e,t,n),Wp(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ts(),n=ru(r);n.tag=2,e!=null&&(n.callback=e),e=nu(t,n,r),e!==null&&(rs(e,t,r),Wp(e,t,r))}};function FT(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!vm(r,n)||!vm(i,a):!0}function IT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&H5.enqueueReplaceState(e,e.state,null)}function Nh(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=nn({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}var Ev=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vk(t){Ev(t)}function Wk(t){console.error(t)}function Gk(t){Ev(t)}function jv(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function BT(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function q5(t,e,r){return r=ru(r),r.tag=3,r.payload={element:null},r.callback=function(){jv(t,e)},r}function Yk(t){return t=ru(t),t.tag=3,t}function Xk(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){BT(e,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){BT(e,r,n),typeof i!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function iB(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&hg(e,r,i,!0),r=Es.current,r!==null){switch(r.tag){case 13:return Go===null?Q5():r.alternate===null&&Sn===0&&(Sn=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===R5?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),iw(t,n,i)),!1;case 22:return r.flags|=65536,n===R5?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),iw(t,n,i)),!1}throw Error(at(435,r.tag))}return iw(t,n,i),Q5(),!1}if(_r)return e=Es.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==k5&&(t=Error(at(422),{cause:n}),ym(Ts(t,r)))):(n!==k5&&(e=Error(at(423),{cause:n}),ym(Ts(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=Ts(n,r),i=q5(t.stateNode,n,i),Wb(t,i),Sn!==4&&(Sn=2)),!1;var a=Error(at(520),{cause:n});if(a=Ts(a,r),Qp===null?Qp=[a]:Qp.push(a),Sn!==4&&(Sn=2),e===null)return!0;n=Ts(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=q5(r.stateNode,n,t),Wb(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(iu===null||!iu.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=Yk(i),Xk(i,t,r,n),Wb(r,i),!1}r=r.return}while(r!==null);return!1}var $k=Error(at(461)),oi=!1;function gi(t,e,r,n){e.child=t===null?Hk(e,null,r,n):Yd(e,t.child,r,n)}function zT(t,e,r,n,i){r=r.render;var a=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return Sh(e),n=c3(t,e,r,s,a,i),o=u3(),t!==null&&!oi?(h3(t,e,i),ql(t,e,i)):(_r&&o&&r3(e),e.flags|=1,gi(t,e,n,i),e.child)}function UT(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!t3(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,Kk(t,e,a,n,i)):(t=zx(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!b3(t,i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:vm,r(s,n)&&t.ref===e.ref)return ql(t,e,i)}return e.flags|=1,t=Pl(a,n),t.ref=e.ref,t.return=e,e.child=t}function Kk(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(vm(a,n)&&t.ref===e.ref)if(oi=!1,e.pendingProps=n=a,b3(t,i))t.flags&131072&&(oi=!0);else return e.lanes=t.lanes,ql(t,e,i)}return V5(t,e,r,n,i)}function Qk(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if(e.flags&128){if(n=a!==null?a.baseLanes|r:r,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~n}else e.childLanes=0,e.child=null;return HT(t,e,n,r)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ux(e,a!==null?a.cachePool:null),a!==null?jT(e,a):I5(),qk(e);else return e.lanes=e.childLanes=536870912,HT(t,e,a!==null?a.baseLanes|r:r,r)}else a!==null?(Ux(e,a.cachePool),jT(e,a),Mc(),e.memoizedState=null):(t!==null&&Ux(e,null),I5(),Mc());return gi(t,e,i,r),e.child}function HT(t,e,r,n){var i=a3();return i=i===null?null:{parent:Xn._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&Ux(e,null),I5(),qk(e),t!==null&&hg(t,e,n,!0),null}function Vx(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(at(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function V5(t,e,r,n,i){return Sh(e),r=c3(t,e,r,n,void 0,i),n=u3(),t!==null&&!oi?(h3(t,e,i),ql(t,e,i)):(_r&&n&&r3(e),e.flags|=1,gi(t,e,r,i),e.child)}function qT(t,e,r,n,i,a){return Sh(e),e.updateQueue=null,r=uk(e,n,r,i),ck(t),n=u3(),t!==null&&!oi?(h3(t,e,a),ql(t,e,a)):(_r&&n&&r3(e),e.flags|=1,gi(t,e,r,a),e.child)}function VT(t,e,r,n,i){if(Sh(e),e.stateNode===null){var a=Kf,s=r.contextType;typeof s=="object"&&s!==null&&(a=Ui(s)),a=new r(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=H5,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},s3(e),s=r.contextType,a.context=typeof s=="object"&&s!==null?Ui(s):Kf,a.state=e.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(Yb(e,r,s,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&H5.enqueueReplaceState(a,a.state,null),Yp(e,n,a,i),Gp(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,c=Nh(r,o);a.props=c;var u=a.context,h=r.contextType;s=Kf,typeof h=="object"&&h!==null&&(s=Ui(h));var f=r.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&IT(e,a,n,s),Dc=!1;var d=e.memoizedState;a.state=d,Yp(e,n,a,i),Gp(),u=e.memoizedState,o||d!==u||Dc?(typeof f=="function"&&(Yb(e,r,f,n),u=e.memoizedState),(c=Dc||FT(e,r,c,n,d,u,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=s,n=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,M5(t,e),s=e.memoizedProps,h=Nh(r,s),a.props=h,f=e.pendingProps,d=a.context,u=r.contextType,c=Kf,typeof u=="object"&&u!==null&&(c=Ui(u)),o=r.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==c)&&IT(e,a,n,c),Dc=!1,d=e.memoizedState,a.state=d,Yp(e,n,a,i),Gp();var p=e.memoizedState;s!==f||d!==p||Dc||t!==null&&t.dependencies!==null&&Sv(t.dependencies)?(typeof o=="function"&&(Yb(e,r,o,n),p=e.memoizedState),(h=Dc||FT(e,r,h,n,d,p,c)||t!==null&&t.dependencies!==null&&Sv(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=c,n=h):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,Vx(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=Yd(e,t.child,null,i),e.child=Yd(e,null,r,i)):gi(t,e,r,i),e.memoizedState=a.state,t=e.child):t=ql(t,e,i),t}function WT(t,e,r,n){return ug(),e.flags|=256,gi(t,e,r,n),e.child}var Xb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $b(t){return{baseLanes:t,cachePool:ik()}}function Kb(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=As),t}function Jk(t,e,r){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:($n.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(_r){if(i?Rc(e):Mc(),_r){var o=bn,c;if(c=o){e:{for(c=o,o=Mo;c.nodeType!==8;){if(!o){o=null;break e}if(c=ao(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:hh!==null?{id:Al,overflow:El}:null,retryLane:536870912,hydrationErrors:null},c=Ka(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,ra=e,bn=null,c=!0):c=!1}c||wh(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return iS(o)?e.lanes=32:e.lanes=536870912,null;kl(e)}return o=n.children,n=n.fallback,i?(Mc(),i=e.mode,o=kv({mode:"hidden",children:o},i),n=uh(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,i=e.child,i.memoizedState=$b(r),i.childLanes=Kb(t,s,r),e.memoizedState=Xb,n):(Rc(e),W5(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(a)e.flags&256?(Rc(e),e.flags&=-257,e=Qb(t,e,r)):e.memoizedState!==null?(Mc(),e.child=t.child,e.flags|=128,e=null):(Mc(),i=n.fallback,o=e.mode,n=kv({mode:"visible",children:n.children},o),i=uh(i,o,r,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Yd(e,t.child,null,r),n=e.child,n.memoizedState=$b(r),n.childLanes=Kb(t,s,r),e.memoizedState=Xb,e=i);else if(Rc(e),iS(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,n=Error(at(419)),n.stack="",n.digest=s,ym({value:n,source:null,stack:null}),e=Qb(t,e,r)}else if(oi||hg(t,e,r,!1),s=(r&t.childLanes)!==0,oi||s){if(s=en,s!==null&&(n=r&-r,n=n&42?1:V4(n),n=n&(s.suspendedLanes|r)?0:n,n!==0&&n!==c.retryLane))throw c.retryLane=n,m0(t,n),rs(s,t,n),$k;o.data==="$?"||Q5(),e=Qb(t,e,r)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,bn=ao(o.nextSibling),ra=e,_r=!0,fh=null,Mo=!1,t!==null&&(Ss[_s++]=Al,Ss[_s++]=El,Ss[_s++]=hh,Al=t.id,El=t.overflow,hh=e),e=W5(e,n.children),e.flags|=4096);return e}return i?(Mc(),i=n.fallback,o=e.mode,c=t.child,u=c.sibling,n=Pl(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=Pl(u,i):(i=uh(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o===null?o=$b(r):(c=o.cachePool,c!==null?(u=Xn._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=ik(),o={baseLanes:o.baseLanes|r,cachePool:c}),i.memoizedState=o,i.childLanes=Kb(t,s,r),e.memoizedState=Xb,n):(Rc(e),r=t.child,t=r.sibling,r=Pl(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r)}function W5(t,e){return e=kv({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function kv(t,e){return t=Ka(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qb(t,e,r){return Yd(e,t.child,null,r),t=W5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),L5(t.return,e,r)}function Jb(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Zk(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(gi(t,e,n.children,r),n=$n.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GT(t,r,e);else if(t.tag===19)GT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(cn($n,n),i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Av(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Jb(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Av(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Jb(e,!0,r,null,a);break;case"together":Jb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ql(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fu|=e.lanes,!(r&e.childLanes))if(t!==null){if(hg(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(at(153));if(e.child!==null){for(t=e.child,r=Pl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Pl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function b3(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Sv(t)))}function aB(t,e,r){switch(e.tag){case 3:pv(e,e.stateNode.containerInfo),Pc(e,Xn,t.memoizedState.cache),ug();break;case 27:case 5:b5(e);break;case 4:pv(e,e.stateNode.containerInfo);break;case 10:Pc(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Rc(e),e.flags|=128,null):r&e.child.childLanes?Jk(t,e,r):(Rc(e),t=ql(t,e,r),t!==null?t.sibling:null);Rc(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(hg(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return Zk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cn($n,$n.current),n)break;return null;case 22:case 23:return e.lanes=0,Qk(t,e,r);case 24:Pc(e,Xn,t.memoizedState.cache)}return ql(t,e,r)}function e8(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)oi=!0;else{if(!b3(t,r)&&!(e.flags&128))return oi=!1,aB(t,e,r);oi=!!(t.flags&131072)}else oi=!1,_r&&e.flags&1048576&&rk(e,wv,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")t3(n)?(t=Nh(n,t),e.tag=1,e=VT(null,e,n,t,r)):(e.tag=0,e=V5(null,e,n,t,r));else{if(n!=null){if(i=n.$$typeof,i===U4){e.tag=11,e=zT(null,e,n,t,r);break e}else if(i===H4){e.tag=14,e=UT(null,e,n,t,r);break e}}throw e=v5(n)||n,Error(at(306,e,""))}}return e;case 0:return V5(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=Nh(n,e.pendingProps),VT(t,e,n,i,r);case 3:e:{if(pv(e,e.stateNode.containerInfo),t===null)throw Error(at(387));n=e.pendingProps;var a=e.memoizedState;i=a.element,M5(t,e),Yp(e,n,null,r);var s=e.memoizedState;if(n=s.cache,Pc(e,Xn,n),n!==a.cache&&D5(e,[Xn],r,!0),Gp(),n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=WT(t,e,n,r);break e}else if(n!==i){i=Ts(Error(at(424)),e),ym(i),e=WT(t,e,n,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bn=ao(t.firstChild),ra=e,_r=!0,fh=null,Mo=!0,r=Hk(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ug(),n===i){e=ql(t,e,r);break e}gi(t,e,n,r)}e=e.child}return e;case 26:return Vx(t,e),t===null?(r=cC(e.type,null,e.pendingProps,null))?e.memoizedState=r:_r||(r=e.type,t=e.pendingProps,n=Fv(tu.current).createElement(r),n[zi]=e,n[Ca]=t,Ni(n,r,t),ai(n),e.stateNode=n):e.memoizedState=cC(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return b5(e),t===null&&_r&&(n=e.stateNode=z8(e.type,e.pendingProps,tu.current),ra=e,Mo=!0,i=bn,Tu(e.type)?(aS=i,bn=ao(n.firstChild)):bn=i),gi(t,e,e.pendingProps.children,r),Vx(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&_r&&((i=n=bn)&&(n=DB(n,e.type,e.pendingProps,Mo),n!==null?(e.stateNode=n,ra=e,bn=ao(n.firstChild),Mo=!1,i=!0):i=!1),i||wh(e)),b5(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,n=a.children,rS(i,a)?n=null:s!==null&&rS(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=c3(t,e,QI,null,null,r),Tm._currentValue=i),Vx(t,e),gi(t,e,n,r),e.child;case 6:return t===null&&_r&&((t=r=bn)&&(r=PB(r,e.pendingProps,Mo),r!==null?(e.stateNode=r,ra=e,bn=null,t=!0):t=!1),t||wh(e)),null;case 13:return Jk(t,e,r);case 4:return pv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Yd(e,null,n,r):gi(t,e,n,r),e.child;case 11:return zT(t,e,e.type,e.pendingProps,r);case 7:return gi(t,e,e.pendingProps,r),e.child;case 8:return gi(t,e,e.pendingProps.children,r),e.child;case 12:return gi(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,Pc(e,e.type,n.value),gi(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,Sh(e),i=Ui(i),n=n(i),e.flags|=1,gi(t,e,n,r),e.child;case 14:return UT(t,e,e.type,e.pendingProps,r);case 15:return Kk(t,e,e.type,e.pendingProps,r);case 19:return Zk(t,e,r);case 31:return n=e.pendingProps,r=e.mode,n={mode:n.mode,children:n.children},t===null?(r=kv(n,r),r.ref=e.ref,e.child=r,r.return=e,e=r):(r=Pl(t.child,n),r.ref=e.ref,e.child=r,r.return=e,e=r),e;case 22:return Qk(t,e,r);case 24:return Sh(e),n=Ui(Xn),t===null?(i=a3(),i===null&&(i=en,a=i3(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:n,cache:i},s3(e),Pc(e,Xn,i)):(t.lanes&r&&(M5(t,e),Yp(e,null,null,r),Gp()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Pc(e,Xn,n)):(n=a.cache,Pc(e,Xn,n),n!==i.cache&&D5(e,[Xn],r,!0))),gi(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(at(156,e.tag))}function ml(t){t.flags|=4}function YT(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!q8(e)){if(e=Es.current,e!==null&&((mr&4194048)===mr?Go!==null:(mr&62914560)!==mr&&!(mr&536870912)||e!==Go))throw Vp=R5,ak;t.flags|=8192}}function M1(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?C6():536870912,t.lanes|=e,Xd|=e)}function vp(t,e){if(!_r)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sB(t,e,r){var n=e.pendingProps;switch(n3(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return fn(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Rl(Xn),Ud(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gp(e)?ml(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_T())),fn(e),null;case 26:return r=e.memoizedState,t===null?(ml(e),r!==null?(fn(e),YT(e,r)):(fn(e),e.flags&=-16777217)):r?r!==t.memoizedState?(ml(e),fn(e),YT(e,r)):(fn(e),e.flags&=-16777217):(t.memoizedProps!==n&&ml(e),fn(e),e.flags&=-16777217),null;case 27:mv(e),r=tu.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&ml(e);else{if(!n){if(e.stateNode===null)throw Error(at(166));return fn(e),null}t=Vo.current,gp(e)?wT(e):(t=z8(i,n,r),e.stateNode=t,ml(e))}return fn(e),null;case 5:if(mv(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&ml(e);else{if(!n){if(e.stateNode===null)throw Error(at(166));return fn(e),null}if(t=Vo.current,gp(e))wT(e);else{switch(i=Fv(tu.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}t[zi]=e,t[Ca]=n;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Ni(t,r,n),r){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ml(e)}}return fn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&ml(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(at(166));if(t=tu.current,gp(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=ra,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[zi]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||F8(t.nodeValue,r)),t||wh(e)}else t=Fv(t).createTextNode(n),t[zi]=e,e.stateNode=t}return fn(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=gp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(at(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(at(317));i[zi]=e}else ug(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),i=!1}else i=_T(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(kl(e),e):(kl(e),null)}if(kl(e),e.flags&128)return e.lanes=r,e;if(r=n!==null,t=t!==null&&t.memoizedState!==null,r){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return r!==t&&r&&(e.child.flags|=8192),M1(e,e.updateQueue),fn(e),null;case 4:return Ud(),t===null&&E3(e.stateNode.containerInfo),fn(e),null;case 10:return Rl(e.type),fn(e),null;case 19:if(ui($n),i=e.memoizedState,i===null)return fn(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)vp(i,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Av(t),a!==null){for(e.flags|=128,vp(i,!1),t=a.updateQueue,e.updateQueue=t,M1(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)tk(r,t),r=r.sibling;return cn($n,$n.current&1|2),e.child}t=t.sibling}i.tail!==null&&Wo()>Lv&&(e.flags|=128,n=!0,vp(i,!1),e.lanes=4194304)}else{if(!n)if(t=Av(a),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,M1(e,t),vp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_r)return fn(e),null}else 2*Wo()-i.renderingStartTime>Lv&&r!==536870912&&(e.flags|=128,n=!0,vp(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Wo(),e.sibling=null,t=$n.current,cn($n,n?t&1|2:t&1),e):(fn(e),null);case 22:case 23:return kl(e),o3(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),r=e.updateQueue,r!==null&&M1(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&ui(dh),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Rl(Xn),fn(e),null;case 25:return null;case 30:return null}throw Error(at(156,e.tag))}function oB(t,e){switch(n3(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(Xn),Ud(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return mv(e),null;case 13:if(kl(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(at(340));ug()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ui($n),null;case 4:return Ud(),null;case 10:return Rl(e.type),null;case 22:case 23:return kl(e),o3(),t!==null&&ui(dh),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Rl(Xn),null;case 25:return null;default:return null}}function t8(t,e){switch(n3(e),e.tag){case 3:Rl(Xn),Ud();break;case 26:case 27:case 5:mv(e);break;case 4:Ud();break;case 13:kl(e);break;case 19:ui($n);break;case 10:Rl(e.type);break;case 22:case 23:kl(e),o3(),t!==null&&ui(dh);break;case 24:Rl(Xn)}}function gg(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var a=r.create,s=r.inst;n=a(),s.destroy=n}r=r.next}while(r!==i)}}catch(o){Xr(e,e.return,o)}}function hu(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var c=r,u=o;try{u()}catch(h){Xr(i,c,h)}}}n=n.next}while(n!==a)}}catch(h){Xr(e,e.return,h)}}function r8(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{lk(e,r)}catch(n){Xr(t,t.return,n)}}}function n8(t,e,r){r.props=Nh(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){Xr(t,e,n)}}function $p(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(i){Xr(t,e,i)}}function Bo(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){Xr(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){Xr(t,e,i)}else r.current=null}function i8(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){Xr(t,t.return,i)}}function Zb(t,e,r){try{var n=t.stateNode;EB(n,t.type,r,e),n[Ca]=e}catch(i){Xr(t,t.return,i)}}function a8(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tu(t.type)||t.tag===4}function ew(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tu(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G5(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Q2));else if(n!==4&&(n===27&&Tu(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(G5(t,e,r),t=t.sibling;t!==null;)G5(t,e,r),t=t.sibling}function Ov(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(n===27&&Tu(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ov(t,e,r),t=t.sibling;t!==null;)Ov(t,e,r),t=t.sibling}function s8(t){var e=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ni(e,n,r),e[zi]=t,e[Ca]=r}catch(a){Xr(t,t.return,a)}}var Tl=!1,En=!1,tw=!1,XT=typeof WeakSet=="function"?WeakSet:Set,ni=null;function lB(t,e){if(t=t.containerInfo,eS=Uv,t=Y6(t),J4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===r&&++u===i&&(o=s),d===a&&++h===n&&(c=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(tS={focusedElem:t,selectionRange:r},Uv=!1,ni=e;ni!==null;)if(e=ni,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ni=t;else for(;ni!==null;){switch(e=ni,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var x=Nh(r.type,i,r.elementType===r.type);t=n.getSnapshotBeforeUpdate(x,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(m){Xr(r,r.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)nS(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nS(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(at(163))}if(t=e.sibling,t!==null){t.return=e.return,ni=t;break}ni=e.return}}function o8(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:bc(t,r),n&4&&gg(5,r);break;case 1:if(bc(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(s){Xr(r,r.return,s)}else{var i=Nh(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Xr(r,r.return,s)}}n&64&&r8(r),n&512&&$p(r,r.return);break;case 3:if(bc(t,r),n&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{lk(t,e)}catch(s){Xr(r,r.return,s)}}break;case 27:e===null&&n&4&&s8(r);case 26:case 5:bc(t,r),e===null&&n&4&&i8(r),n&512&&$p(r,r.return);break;case 12:bc(t,r);break;case 13:bc(t,r),n&4&&u8(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=xB.bind(null,r),RB(t,r))));break;case 22:if(n=r.memoizedState!==null||Tl,!n){e=e!==null&&e.memoizedState!==null||En,i=Tl;var a=En;Tl=n,(En=e)&&!a?jc(t,r,(r.subtreeFlags&8772)!==0):bc(t,r),Tl=i,En=a}break;case 30:break;default:bc(t,r)}}function l8(t){var e=t.alternate;e!==null&&(t.alternate=null,l8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&G4(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var sn=null,ga=!1;function gl(t,e,r){for(r=r.child;r!==null;)c8(t,e,r),r=r.sibling}function c8(t,e,r){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(ag,r)}catch{}switch(r.tag){case 26:En||Bo(r,e),gl(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:En||Bo(r,e);var n=sn,i=ga;Tu(r.type)&&(sn=r.stateNode,ga=!1),gl(t,e,r),Zp(r.stateNode),sn=n,ga=i;break;case 5:En||Bo(r,e);case 6:if(n=sn,i=ga,sn=null,gl(t,e,r),sn=n,ga=i,sn!==null)if(ga)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(r.stateNode)}catch(a){Xr(r,e,a)}else try{sn.removeChild(r.stateNode)}catch(a){Xr(r,e,a)}break;case 18:sn!==null&&(ga?(t=sn,sC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Em(t)):sC(sn,r.stateNode));break;case 4:n=sn,i=ga,sn=r.stateNode.containerInfo,ga=!0,gl(t,e,r),sn=n,ga=i;break;case 0:case 11:case 14:case 15:En||hu(2,r,e),En||hu(4,r,e),gl(t,e,r);break;case 1:En||(Bo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&n8(r,e,n)),gl(t,e,r);break;case 21:gl(t,e,r);break;case 22:En=(n=En)||r.memoizedState!==null,gl(t,e,r),En=n;break;default:gl(t,e,r)}}function u8(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Em(t)}catch(r){Xr(e,e.return,r)}}function cB(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new XT),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new XT),e;default:throw Error(at(435,t.tag))}}function rw(t,e){var r=cB(t);e.forEach(function(n){var i=vB.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}function Ia(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Tu(o.type)){sn=o.stateNode,ga=!1;break e}break;case 5:sn=o.stateNode,ga=!1;break e;case 3:case 4:sn=o.stateNode.containerInfo,ga=!0;break e}o=o.return}if(sn===null)throw Error(at(160));c8(a,s,i),sn=null,ga=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)h8(e,t),e=e.sibling}var Ks=null;function h8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ia(e,t),Ba(t),n&4&&(hu(3,t,t.return),gg(3,t),hu(5,t,t.return));break;case 1:Ia(e,t),Ba(t),n&512&&(En||r===null||Bo(r,r.return)),n&64&&Tl&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=Ks;if(Ia(e,t),Ba(t),n&512&&(En||r===null||Bo(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[lg]||a[zi]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),Ni(a,n,r),a[zi]=t,ai(a),n=a;break e;case"link":var s=hC("link","href",i).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(n),Ni(a,n,r),i.head.appendChild(a);break;case"meta":if(s=hC("meta","content",i).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break t}}a=i.createElement(n),Ni(a,n,r),i.head.appendChild(a);break;default:throw Error(at(468,n))}a[zi]=t,ai(a),n=a}t.stateNode=n}else fC(i,t.type,t.stateNode);else t.stateNode=uC(i,n,t.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?fC(i,t.type,t.stateNode):uC(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Zb(t,t.memoizedProps,r.memoizedProps)}break;case 27:Ia(e,t),Ba(t),n&512&&(En||r===null||Bo(r,r.return)),r!==null&&n&4&&Zb(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Ia(e,t),Ba(t),n&512&&(En||r===null||Bo(r,r.return)),t.flags&32){i=t.stateNode;try{qd(i,"")}catch(p){Xr(t,t.return,p)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,Zb(t,i,r!==null?r.memoizedProps:i)),n&1024&&(tw=!0);break;case 6:if(Ia(e,t),Ba(t),n&4){if(t.stateNode===null)throw Error(at(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(p){Xr(t,t.return,p)}}break;case 3:if(Yx=null,i=Ks,Ks=Iv(e.containerInfo),Ia(e,t),Ks=i,Ba(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Em(e.containerInfo)}catch(p){Xr(t,t.return,p)}tw&&(tw=!1,f8(t));break;case 4:n=Ks,Ks=Iv(t.stateNode.containerInfo),Ia(e,t),Ba(t),Ks=n;break;case 12:Ia(e,t),Ba(t);break;case 13:Ia(e,t),Ba(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(T3=Wo()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,rw(t,n)));break;case 22:i=t.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=Tl,h=En;if(Tl=u||i,En=h||c,Ia(e,t),En=h,Tl=u,Ba(t),n&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(r===null||c||Tl||En||qu(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){c=r=e;try{if(a=c.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){Xr(c,c.return,p)}}}else if(e.tag===6){if(r===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){Xr(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,rw(t,r))));break;case 19:Ia(e,t),Ba(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,rw(t,n)));break;case 30:break;case 21:break;default:Ia(e,t),Ba(t)}}function Ba(t){var e=t.flags;if(e&2){try{for(var r,n=t.return;n!==null;){if(a8(n)){r=n;break}n=n.return}if(r==null)throw Error(at(160));switch(r.tag){case 27:var i=r.stateNode,a=ew(t);Ov(t,a,i);break;case 5:var s=r.stateNode;r.flags&32&&(qd(s,""),r.flags&=-33);var o=ew(t);Ov(t,o,s);break;case 3:case 4:var c=r.stateNode.containerInfo,u=ew(t);G5(t,u,c);break;default:throw Error(at(161))}}catch(h){Xr(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f8(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;f8(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function bc(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)o8(t,e.alternate,e),e=e.sibling}function qu(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:hu(4,e,e.return),qu(e);break;case 1:Bo(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&n8(e,e.return,r),qu(e);break;case 27:Zp(e.stateNode);case 26:case 5:Bo(e,e.return),qu(e);break;case 22:e.memoizedState===null&&qu(e);break;case 30:qu(e);break;default:qu(e)}t=t.sibling}}function jc(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:jc(i,a,r),gg(4,a);break;case 1:if(jc(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Xr(n,n.return,u)}if(n=a,i=n.updateQueue,i!==null){var o=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)ok(c[i],o)}catch(u){Xr(n,n.return,u)}}r&&s&64&&r8(a),$p(a,a.return);break;case 27:s8(a);case 26:case 5:jc(i,a,r),r&&n===null&&s&4&&i8(a),$p(a,a.return);break;case 12:jc(i,a,r);break;case 13:jc(i,a,r),r&&s&4&&u8(i,a);break;case 22:a.memoizedState===null&&jc(i,a,r),$p(a,a.return);break;case 30:break;default:jc(i,a,r)}e=e.sibling}}function w3(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fg(r))}function S3(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fg(t))}function No(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)d8(t,e,r,n),e=e.sibling}function d8(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:No(t,e,r,n),i&2048&&gg(9,e);break;case 1:No(t,e,r,n);break;case 3:No(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fg(t)));break;case 12:if(i&2048){No(t,e,r,n),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Xr(e,e.return,c)}}else No(t,e,r,n);break;case 13:No(t,e,r,n);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?No(t,e,r,n):Kp(t,e):a._visibility&2?No(t,e,r,n):(a._visibility|=2,Mf(t,e,r,n,(e.subtreeFlags&10256)!==0)),i&2048&&w3(s,e);break;case 24:No(t,e,r,n),i&2048&&S3(e.alternate,e);break;default:No(t,e,r,n)}}function Mf(t,e,r,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,o=r,c=n,u=s.flags;switch(s.tag){case 0:case 11:case 15:Mf(a,s,o,c,i),gg(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?Mf(a,s,o,c,i):Kp(a,s):(h._visibility|=2,Mf(a,s,o,c,i)),i&&u&2048&&w3(s.alternate,s);break;case 24:Mf(a,s,o,c,i),i&&u&2048&&S3(s.alternate,s);break;default:Mf(a,s,o,c,i)}e=e.sibling}}function Kp(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:Kp(r,n),i&2048&&w3(n.alternate,n);break;case 24:Kp(r,n),i&2048&&S3(n.alternate,n);break;default:Kp(r,n)}e=e.sibling}}var Rp=8192;function yf(t){if(t.subtreeFlags&Rp)for(t=t.child;t!==null;)p8(t),t=t.sibling}function p8(t){switch(t.tag){case 26:yf(t),t.flags&Rp&&t.memoizedState!==null&&XB(Ks,t.memoizedState,t.memoizedProps);break;case 5:yf(t);break;case 3:case 4:var e=Ks;Ks=Iv(t.stateNode.containerInfo),yf(t),Ks=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Rp,Rp=16777216,yf(t),Rp=e):yf(t));break;default:yf(t)}}function m8(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function yp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];ni=n,x8(n,t)}m8(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g8(t),t=t.sibling}function g8(t){switch(t.tag){case 0:case 11:case 15:yp(t),t.flags&2048&&hu(9,t,t.return);break;case 3:yp(t);break;case 12:yp(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wx(t)):yp(t);break;default:yp(t)}}function Wx(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];ni=n,x8(n,t)}m8(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:hu(8,e,e.return),Wx(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,Wx(e));break;default:Wx(e)}t=t.sibling}}function x8(t,e){for(;ni!==null;){var r=ni;switch(r.tag){case 0:case 11:case 15:hu(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:fg(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ni=n;else e:for(r=t;ni!==null;){n=ni;var i=n.sibling,a=n.return;if(l8(n),n===r){ni=null;break e}if(i!==null){i.return=a,ni=i;break e}ni=a}}}var uB={getCacheForType:function(t){var e=Ui(Xn),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r}},hB=typeof WeakMap=="function"?WeakMap:Map,Pr=0,en=null,cr=null,mr=0,Lr=0,qa=null,$c=!1,g0=!1,_3=!1,Vl=0,Sn=0,fu=0,ph=0,N3=0,As=0,Xd=0,Qp=null,xa=null,Y5=!1,T3=0,Lv=1/0,Dv=null,iu=null,yi=0,au=null,$d=null,fd=0,X5=0,$5=null,v8=null,Jp=0,K5=null;function ts(){if(Pr&2&&mr!==0)return mr&-mr;if(Vt.T!==null){var t=Vd;return t!==0?t:A3()}return j6()}function y8(){As===0&&(As=!(mr&536870912)||_r?T6():536870912);var t=Es.current;return t!==null&&(t.flags|=32),As}function rs(t,e,r){(t===en&&(Lr===2||Lr===9)||t.cancelPendingCommit!==null)&&(Kd(t,0),Kc(t,mr,As,!1)),og(t,r),(!(Pr&2)||t!==en)&&(t===en&&(!(Pr&2)&&(ph|=r),Sn===4&&Kc(t,mr,As,!1)),el(t))}function b8(t,e,r){if(Pr&6)throw Error(at(327));var n=!r&&(e&124)===0&&(e&t.expiredLanes)===0||sg(t,e),i=n?pB(t,e):nw(t,e,!0),a=n;do{if(i===0){g0&&!n&&Kc(t,e,0,!1);break}else{if(r=t.current.alternate,a&&!fB(r)){i=nw(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Qp;var c=o.current.memoizedState.isDehydrated;if(c&&(Kd(o,s).flags|=256),s=nw(o,s,!1),s!==2){if(_3&&!c){o.errorRecoveryDisabledLanes|=a,ph|=a,i=4;break e}a=xa,xa=i,a!==null&&(xa===null?xa=a:xa.push.apply(xa,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Kd(t,0),Kc(t,e,0,!0);break}e:{switch(n=t,a=i,a){case 0:case 1:throw Error(at(345));case 4:if((e&4194048)!==e)break;case 6:Kc(n,e,As,!$c);break e;case 2:xa=null;break;case 3:case 5:break;default:throw Error(at(329))}if((e&62914560)===e&&(i=T3+300-Wo(),10<i)){if(Kc(n,e,As,!$c),I2(n,0,!0)!==0)break e;n.timeoutHandle=B8($T.bind(null,n,r,xa,Dv,Y5,e,As,ph,Xd,$c,a,2,-0,0),i);break e}$T(n,r,xa,Dv,Y5,e,As,ph,Xd,$c,a,0,-0,0)}}break}while(!0);el(t)}function $T(t,e,r,n,i,a,s,o,c,u,h,f,d,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Nm={stylesheets:null,count:0,unsuspend:YB},p8(e),f=$B(),f!==null)){t.cancelPendingCommit=f(QT.bind(null,t,e,a,r,n,i,s,o,c,h,1,d,p)),Kc(t,a,s,!u);return}QT(t,e,a,r,n,i,s,o,c)}function fB(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!is(a(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kc(t,e,r,n){e&=~N3,e&=~ph,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var a=31-es(i),s=1<<a;n[a]=-1,i&=~s}r!==0&&A6(t,r,e)}function X2(){return Pr&6?!0:(xg(0),!1)}function C3(){if(cr!==null){if(Lr===0)var t=cr.return;else t=cr,jl=Ih=null,f3(t),hd=null,wm=0,t=cr;for(;t!==null;)t8(t.alternate,t),t=t.return;cr=null}}function Kd(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,kB(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),C3(),en=t,cr=r=Pl(t.current,null),mr=e,Lr=0,qa=null,$c=!1,g0=sg(t,e),_3=!1,Xd=As=N3=ph=fu=Sn=0,xa=Qp=null,Y5=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-es(n),a=1<<i;e|=t[i],n&=~a}return Vl=e,H2(),r}function w8(t,e){ar=null,Vt.H=Cv,e===dg||e===V2?(e=AT(),Lr=3):e===ak?(e=AT(),Lr=4):Lr=e===$k?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,qa=e,cr===null&&(Sn=1,jv(t,Ts(e,t.current)))}function S8(){var t=Vt.H;return Vt.H=Cv,t===null?Cv:t}function _8(){var t=Vt.A;return Vt.A=uB,t}function Q5(){Sn=4,$c||(mr&4194048)!==mr&&Es.current!==null||(g0=!0),!(fu&134217727)&&!(ph&134217727)||en===null||Kc(en,mr,As,!1)}function nw(t,e,r){var n=Pr;Pr|=2;var i=S8(),a=_8();(en!==t||mr!==e)&&(Dv=null,Kd(t,e)),e=!1;var s=Sn;e:do try{if(Lr!==0&&cr!==null){var o=cr,c=qa;switch(Lr){case 8:C3(),s=6;break e;case 3:case 2:case 9:case 6:Es.current===null&&(e=!0);var u=Lr;if(Lr=0,qa=null,Zf(t,o,c,u),r&&g0){s=0;break e}break;default:u=Lr,Lr=0,qa=null,Zf(t,o,c,u)}}dB(),s=Sn;break}catch(h){w8(t,h)}while(!0);return e&&t.shellSuspendCounter++,jl=Ih=null,Pr=n,Vt.H=i,Vt.A=a,cr===null&&(en=null,mr=0,H2()),s}function dB(){for(;cr!==null;)N8(cr)}function pB(t,e){var r=Pr;Pr|=2;var n=S8(),i=_8();en!==t||mr!==e?(Dv=null,Lv=Wo()+500,Kd(t,e)):g0=sg(t,e);e:do try{if(Lr!==0&&cr!==null){e=cr;var a=qa;t:switch(Lr){case 1:Lr=0,qa=null,Zf(t,e,a,1);break;case 2:case 9:if(CT(a)){Lr=0,qa=null,KT(e);break}e=function(){Lr!==2&&Lr!==9||en!==t||(Lr=7),el(t)},a.then(e,e);break e;case 3:Lr=7;break e;case 4:Lr=5;break e;case 7:CT(a)?(Lr=0,qa=null,KT(e)):(Lr=0,qa=null,Zf(t,e,a,7));break;case 5:var s=null;switch(cr.tag){case 26:s=cr.memoizedState;case 5:case 27:var o=cr;if(!s||q8(s)){Lr=0,qa=null;var c=o.sibling;if(c!==null)cr=c;else{var u=o.return;u!==null?(cr=u,$2(u)):cr=null}break t}}Lr=0,qa=null,Zf(t,e,a,5);break;case 6:Lr=0,qa=null,Zf(t,e,a,6);break;case 8:C3(),Sn=6;break e;default:throw Error(at(462))}}mB();break}catch(h){w8(t,h)}while(!0);return jl=Ih=null,Vt.H=n,Vt.A=i,Pr=r,cr!==null?0:(en=null,mr=0,H2(),Sn)}function mB(){for(;cr!==null&&!F9();)N8(cr)}function N8(t){var e=e8(t.alternate,t,Vl);t.memoizedProps=t.pendingProps,e===null?$2(t):cr=e}function KT(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=qT(r,e,e.pendingProps,e.type,void 0,mr);break;case 11:e=qT(r,e,e.pendingProps,e.type.render,e.ref,mr);break;case 5:f3(e);default:t8(r,e),e=cr=tk(e,Vl),e=e8(r,e,Vl)}t.memoizedProps=t.pendingProps,e===null?$2(t):cr=e}function Zf(t,e,r,n){jl=Ih=null,f3(e),hd=null,wm=0;var i=e.return;try{if(iB(t,i,e,r,mr)){Sn=1,jv(t,Ts(r,t.current)),cr=null;return}}catch(a){if(i!==null)throw cr=i,a;Sn=1,jv(t,Ts(r,t.current)),cr=null;return}e.flags&32768?(_r||n===1?t=!0:g0||mr&536870912?t=!1:($c=t=!0,(n===2||n===9||n===3||n===6)&&(n=Es.current,n!==null&&n.tag===13&&(n.flags|=16384))),T8(e,t)):$2(e)}function $2(t){var e=t;do{if(e.flags&32768){T8(e,$c);return}t=e.return;var r=sB(e.alternate,e,Vl);if(r!==null){cr=r;return}if(e=e.sibling,e!==null){cr=e;return}cr=e=t}while(e!==null);Sn===0&&(Sn=5)}function T8(t,e){do{var r=oB(t.alternate,t);if(r!==null){r.flags&=32767,cr=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){cr=t;return}cr=t=r}while(t!==null);Sn=6,cr=null}function QT(t,e,r,n,i,a,s,o,c){t.cancelPendingCommit=null;do K2();while(yi!==0);if(Pr&6)throw Error(at(327));if(e!==null){if(e===t.current)throw Error(at(177));if(a=e.lanes|e.childLanes,a|=Z4,Y9(t,r,a,s,o,c),t===en&&(cr=en=null,mr=0),$d=e,au=t,fd=r,X5=a,$5=i,v8=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,yB(gv,function(){return k8(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=Vt.T,Vt.T=null,i=Nr.p,Nr.p=2,s=Pr,Pr|=4;try{lB(t,e,r)}finally{Pr=s,Nr.p=i,Vt.T=n}}yi=1,C8(),A8(),E8()}}function C8(){if(yi===1){yi=0;var t=au,e=$d,r=(e.flags&13878)!==0;if(e.subtreeFlags&13878||r){r=Vt.T,Vt.T=null;var n=Nr.p;Nr.p=2;var i=Pr;Pr|=4;try{h8(e,t);var a=tS,s=Y6(t.containerInfo),o=a.focusedElem,c=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&G6(o.ownerDocument.documentElement,o)){if(c!==null&&J4(o)){var u=c.start,h=c.end;if(h===void 0&&(h=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),x=o.textContent.length,m=Math.min(c.start,x),y=c.end===void 0?m:Math.min(c.end,x);!p.extend&&m>y&&(s=y,y=m,m=s);var v=vT(o,m),b=vT(o,y);if(v&&b&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var S=f.createRange();S.setStart(v.node,v.offset),p.removeAllRanges(),m>y?(p.addRange(S),p.extend(b.node,b.offset)):(S.setEnd(b.node,b.offset),p.addRange(S))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var T=f[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Uv=!!eS,tS=eS=null}finally{Pr=i,Nr.p=n,Vt.T=r}}t.current=e,yi=2}}function A8(){if(yi===2){yi=0;var t=au,e=$d,r=(e.flags&8772)!==0;if(e.subtreeFlags&8772||r){r=Vt.T,Vt.T=null;var n=Nr.p;Nr.p=2;var i=Pr;Pr|=4;try{o8(t,e.alternate,e)}finally{Pr=i,Nr.p=n,Vt.T=r}}yi=3}}function E8(){if(yi===4||yi===3){yi=0,I9();var t=au,e=$d,r=fd,n=v8;e.subtreeFlags&10256||e.flags&10256?yi=5:(yi=0,$d=au=null,j8(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(iu=null),W4(r),e=e.stateNode,Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(ag,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=Vt.T,i=Nr.p,Nr.p=2,Vt.T=null;try{for(var a=t.onRecoverableError,s=0;s<n.length;s++){var o=n[s];a(o.value,{componentStack:o.stack})}}finally{Vt.T=e,Nr.p=i}}fd&3&&K2(),el(t),i=t.pendingLanes,r&4194090&&i&42?t===K5?Jp++:(Jp=0,K5=t):Jp=0,xg(0)}}function j8(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,fg(e)))}function K2(t){return C8(),A8(),E8(),k8()}function k8(){if(yi!==5)return!1;var t=au,e=X5;X5=0;var r=W4(fd),n=Vt.T,i=Nr.p;try{Nr.p=32>r?32:r,Vt.T=null,r=$5,$5=null;var a=au,s=fd;if(yi=0,$d=au=null,fd=0,Pr&6)throw Error(at(331));var o=Pr;if(Pr|=4,g8(a.current),d8(a,a.current,s,r),Pr=o,xg(0,!1),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(ag,a)}catch{}return!0}finally{Nr.p=i,Vt.T=n,j8(t,e)}}function JT(t,e,r){e=Ts(r,e),e=q5(t.stateNode,e,2),t=nu(t,e,2),t!==null&&(og(t,2),el(t))}function Xr(t,e,r){if(t.tag===3)JT(t,t,r);else for(;e!==null;){if(e.tag===3){JT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(iu===null||!iu.has(n))){t=Ts(r,t),r=Yk(2),n=nu(e,r,2),n!==null&&(Xk(r,n,e,t),og(n,2),el(n));break}}e=e.return}}function iw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hB;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(_3=!0,i.add(r),t=gB.bind(null,t,e,r),e.then(t,t))}function gB(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,en===t&&(mr&r)===r&&(Sn===4||Sn===3&&(mr&62914560)===mr&&300>Wo()-T3?!(Pr&2)&&Kd(t,0):N3|=r,Xd===mr&&(Xd=0)),el(t)}function O8(t,e){e===0&&(e=C6()),t=m0(t,e),t!==null&&(og(t,e),el(t))}function xB(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),O8(t,r)}function vB(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(at(314))}n!==null&&n.delete(e),O8(t,r)}function yB(t,e){return q4(t,e)}var Pv=null,Ff=null,J5=!1,Rv=!1,aw=!1,mh=0;function el(t){t!==Ff&&t.next===null&&(Ff===null?Pv=Ff=t:Ff=Ff.next=t),Rv=!0,J5||(J5=!0,wB())}function xg(t,e){if(!aw&&Rv){aw=!0;do for(var r=!1,n=Pv;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var s=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-es(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(r=!0,ZT(n,a))}else a=mr,a=I2(n,n===en?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||sg(n,a)||(r=!0,ZT(n,a));n=n.next}while(r);aw=!1}}function bB(){L8()}function L8(){Rv=J5=!1;var t=0;mh!==0&&(jB()&&(t=mh),mh=0);for(var e=Wo(),r=null,n=Pv;n!==null;){var i=n.next,a=D8(n,e);a===0?(n.next=null,r===null?Pv=i:r.next=i,i===null&&(Ff=r)):(r=n,(t!==0||a&3)&&(Rv=!0)),n=i}xg(t)}function D8(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-es(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=G9(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}if(e=en,r=mr,r=I2(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===e&&(Lr===2||Lr===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Ob(n),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||sg(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&Ob(n),W4(r)){case 2:case 8:r=_6;break;case 32:r=gv;break;case 268435456:r=N6;break;default:r=gv}return n=P8.bind(null,t),r=q4(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&Ob(n),t.callbackPriority=2,t.callbackNode=null,2}function P8(t,e){if(yi!==0&&yi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(K2()&&t.callbackNode!==r)return null;var n=mr;return n=I2(t,t===en?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(b8(t,n,e),D8(t,Wo()),t.callbackNode!=null&&t.callbackNode===r?P8.bind(null,t):null)}function ZT(t,e){if(K2())return null;b8(t,e,!0)}function wB(){OB(function(){Pr&6?q4(S6,bB):L8()})}function A3(){return mh===0&&(mh=T6()),mh}function eC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fx(""+t)}function tC(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function SB(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var a=eC((i[Ca]||null).action),s=n.submitter;s&&(e=(e=s[Ca]||null)?eC(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new B2("action","action",null,n,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(mh!==0){var c=s?tC(i,s):new FormData(i);U5(r,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(o.preventDefault(),c=s?tC(i,s):new FormData(i),U5(r,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var sw=0;sw<j5.length;sw++){var ow=j5[sw],_B=ow.toLowerCase(),NB=ow[0].toUpperCase()+ow.slice(1);ho(_B,"on"+NB)}ho($6,"onAnimationEnd");ho(K6,"onAnimationIteration");ho(Q6,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(UI,"onTransitionRun");ho(HI,"onTransitionStart");ho(qI,"onTransitionCancel");ho(J6,"onTransitionEnd");Hd("onMouseEnter",["mouseout","mouseover"]);Hd("onMouseLeave",["mouseout","mouseover"]);Hd("onPointerEnter",["pointerout","pointerover"]);Hd("onPointerLeave",["pointerout","pointerover"]);Rh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sm));function R8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(h){Ev(h)}i.currentTarget=null,a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(h){Ev(h)}i.currentTarget=null,a=c}}}}function lr(t,e){var r=e[S5];r===void 0&&(r=e[S5]=new Set);var n=t+"__bubble";r.has(n)||(M8(e,t,2,!1),r.add(n))}function lw(t,e,r){var n=0;e&&(n|=4),M8(r,t,n,e)}var F1="_reactListening"+Math.random().toString(36).slice(2);function E3(t){if(!t[F1]){t[F1]=!0,k6.forEach(function(r){r!=="selectionchange"&&(TB.has(r)||lw(r,!1,t),lw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[F1]||(e[F1]=!0,lw("selectionchange",!1,e))}}function M8(t,e,r,n){switch(X8(e)){case 2:var i=JB;break;case 8:i=ZB;break;default:i=L3}r=i.bind(null,e,r,t),i=void 0,!C5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function cw(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=Vf(o),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){n=a=s;continue e}o=o.parentNode}}n=n.return}I6(function(){var u=a,h=X4(r),f=[];e:{var d=Z6.get(t);if(d!==void 0){var p=B2,x=t;switch(t){case"keypress":if(Bx(r)===0)break e;case"keydown":case"keyup":p=yI;break;case"focusin":x="focus",p=Bb;break;case"focusout":x="blur",p=Bb;break;case"beforeblur":case"afterblur":p=Bb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SI;break;case $6:case K6:case Q6:p=uI;break;case J6:p=NI;break;case"scroll":case"scrollend":p=aI;break;case"wheel":p=CI;break;case"copy":case"cut":case"paste":p=fI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uT;break;case"toggle":case"beforetoggle":p=EI}var m=(e&4)!==0,y=!m&&(t==="scroll"||t==="scrollend"),v=m?d!==null?d+"Capture":null:d;m=[];for(var b=u,S;b!==null;){var T=b;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||v===null||(T=gm(b,v),T!=null&&m.push(_m(b,T,S))),y)break;b=b.return}0<m.length&&(d=new p(d,x,null,r,h),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==T5&&(x=r.relatedTarget||r.fromElement)&&(Vf(x)||x[d0]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Vf(x):null,x!==null&&(y=ig(x),m=x.tag,x!==y||m!==5&&m!==27&&m!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=lT,T="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=uT,T="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?d:Pp(p),S=x==null?d:Pp(x),d=new m(T,b+"leave",p,r,h),d.target=y,d.relatedTarget=S,T=null,Vf(h)===u&&(m=new m(v,b+"enter",x,r,h),m.target=S,m.relatedTarget=y,T=m),y=T,p&&x)t:{for(m=p,v=x,b=0,S=m;S;S=bf(S))b++;for(S=0,T=v;T;T=bf(T))S++;for(;0<b-S;)m=bf(m),b--;for(;0<S-b;)v=bf(v),S--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=bf(m),v=bf(v)}m=null}else m=null;p!==null&&rC(f,d,p,m,!1),x!==null&&y!==null&&rC(f,y,x,m,!0)}}e:{if(d=u?Pp(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=pT;else if(dT(d))if(V6)E=II;else{E=MI;var P=RI}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&Y4(u.elementType)&&(E=pT):E=FI;if(E&&(E=E(t,u))){q6(f,E,r,h);break e}P&&P(t,d,u),t==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&N5(d,"number",d.value)}switch(P=u?Pp(u):window,t){case"focusin":(dT(P)||P.contentEditable==="true")&&(Yf=P,A5=u,Hp=null);break;case"focusout":Hp=A5=Yf=null;break;case"mousedown":E5=!0;break;case"contextmenu":case"mouseup":case"dragend":E5=!1,yT(f,r,h);break;case"selectionchange":if(zI)break;case"keydown":case"keyup":yT(f,r,h)}var j;if(Q4)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Gf?U6(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(z6&&r.locale!=="ko"&&(Gf||L!=="onCompositionStart"?L==="onCompositionEnd"&&Gf&&(j=B6()):(Xc=h,$4="value"in Xc?Xc.value:Xc.textContent,Gf=!0)),P=Mv(u,L),0<P.length&&(L=new cT(L,t,null,r,h),f.push({event:L,listeners:P}),j?L.data=j:(j=H6(r),j!==null&&(L.data=j)))),(j=kI?OI(t,r):LI(t,r))&&(L=Mv(u,"onBeforeInput"),0<L.length&&(P=new cT("onBeforeInput","beforeinput",null,r,h),f.push({event:P,listeners:L}),P.data=j)),SB(f,t,u,r,h)}R8(f,e)})}function _m(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Mv(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=gm(t,r),i!=null&&n.unshift(_m(t,i,a)),i=gm(t,e),i!=null&&n.push(_m(t,i,a))),t.tag===3)return n;t=t.return}return[]}function bf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rC(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===n)break;o!==5&&o!==26&&o!==27||u===null||(c=u,i?(u=gm(r,a),u!=null&&s.unshift(_m(r,u,c))):i||(u=gm(r,a),u!=null&&s.push(_m(r,u,c)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var CB=/\r\n?/g,AB=/\u0000|\uFFFD/g;function nC(t){return(typeof t=="string"?t:""+t).replace(CB,`
`).replace(AB,"")}function F8(t,e){return e=nC(e),nC(t)===e}function Q2(){}function Hr(t,e,r,n,i,a){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||qd(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&qd(t,""+n);break;case"className":k1(t,"class",n);break;case"tabIndex":k1(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":k1(t,r,n);break;case"style":F6(t,n,a);break;case"data":if(e!=="object"){k1(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=Fx(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&Hr(t,e,"name",i.name,i,null),Hr(t,e,"formEncType",i.formEncType,i,null),Hr(t,e,"formMethod",i.formMethod,i,null),Hr(t,e,"formTarget",i.formTarget,i,null)):(Hr(t,e,"encType",i.encType,i,null),Hr(t,e,"method",i.method,i,null),Hr(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=Fx(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=Q2);break;case"onScroll":n!=null&&lr("scroll",t);break;case"onScrollEnd":n!=null&&lr("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(at(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(at(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=Fx(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":lr("beforetoggle",t),lr("toggle",t),Mx(t,"popover",n);break;case"xlinkActuate":pl(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":pl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":pl(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":pl(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":pl(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":pl(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":pl(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":pl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":pl(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Mx(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=nI.get(r)||r,Mx(t,r,n))}}function Z5(t,e,r,n,i,a){switch(r){case"style":F6(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(at(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(at(60));t.innerHTML=r}}break;case"children":typeof n=="string"?qd(t,n):(typeof n=="number"||typeof n=="bigint")&&qd(t,""+n);break;case"onScroll":n!=null&&lr("scroll",t);break;case"onScrollEnd":n!=null&&lr("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Q2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!O6.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[Ca]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):Mx(t,r,n)}}}function Ni(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lr("error",t),lr("load",t);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(at(137,e));default:Hr(t,e,a,s,r,null)}}i&&Hr(t,e,"srcSet",r.srcSet,r,null),n&&Hr(t,e,"src",r.src,r,null);return;case"input":lr("invalid",t);var o=a=s=i=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var h=r[n];if(h!=null)switch(n){case"name":i=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(at(137,e));break;default:Hr(t,e,n,h,r,null)}}P6(t,a,o,c,u,s,i,!1),xv(t);return;case"select":lr("invalid",t),n=s=a=null;for(i in r)if(r.hasOwnProperty(i)&&(o=r[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:Hr(t,e,i,o,r,null)}e=a,r=s,t.multiple=!!n,e!=null?sd(t,!!n,e,!1):r!=null&&sd(t,!!n,r,!0);return;case"textarea":lr("invalid",t),a=i=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(at(91));break;default:Hr(t,e,s,o,r,null)}M6(t,n,i,a),xv(t);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Hr(t,e,c,n,r,null)}return;case"dialog":lr("beforetoggle",t),lr("toggle",t),lr("cancel",t),lr("close",t);break;case"iframe":case"object":lr("load",t);break;case"video":case"audio":for(n=0;n<Sm.length;n++)lr(Sm[n],t);break;case"image":lr("error",t),lr("load",t);break;case"details":lr("toggle",t);break;case"embed":case"source":case"link":lr("error",t),lr("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(at(137,e));default:Hr(t,e,u,n,r,null)}return;default:if(Y4(e)){for(h in r)r.hasOwnProperty(h)&&(n=r[h],n!==void 0&&Z5(t,e,h,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&Hr(t,e,o,n,r,null))}function EB(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,c=null,u=null,h=null;for(p in r){var f=r[p];if(r.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(p)||Hr(t,e,p,null,n,f)}}for(var d in n){var p=n[d];if(f=r[d],n.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(at(137,e));break;default:p!==f&&Hr(t,e,d,p,n,f)}}_5(t,s,o,c,u,h,a,i);return;case"select":p=s=o=d=null;for(a in r)if(c=r[a],r.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(a)||Hr(t,e,a,null,n,c)}for(i in n)if(a=n[i],c=r[i],n.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":d=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==c&&Hr(t,e,i,a,n,c)}e=o,r=s,n=p,d!=null?sd(t,!!r,d,!1):!!n!=!!r&&(e!=null?sd(t,!!r,e,!0):sd(t,!!r,r?[]:"",!1));return;case"textarea":p=d=null;for(o in r)if(i=r[o],r.hasOwnProperty(o)&&i!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Hr(t,e,o,null,n,i)}for(s in n)if(i=n[s],a=r[s],n.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(at(91));break;default:i!==a&&Hr(t,e,s,i,n,a)}R6(t,d,p);return;case"option":for(var x in r)if(d=r[x],r.hasOwnProperty(x)&&d!=null&&!n.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:Hr(t,e,x,null,n,d)}for(c in n)if(d=n[c],p=r[c],n.hasOwnProperty(c)&&d!==p&&(d!=null||p!=null))switch(c){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Hr(t,e,c,d,n,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in r)d=r[m],r.hasOwnProperty(m)&&d!=null&&!n.hasOwnProperty(m)&&Hr(t,e,m,null,n,d);for(u in n)if(d=n[u],p=r[u],n.hasOwnProperty(u)&&d!==p&&(d!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(at(137,e));break;default:Hr(t,e,u,d,n,p)}return;default:if(Y4(e)){for(var y in r)d=r[y],r.hasOwnProperty(y)&&d!==void 0&&!n.hasOwnProperty(y)&&Z5(t,e,y,void 0,n,d);for(h in n)d=n[h],p=r[h],!n.hasOwnProperty(h)||d===p||d===void 0&&p===void 0||Z5(t,e,h,d,n,p);return}}for(var v in r)d=r[v],r.hasOwnProperty(v)&&d!=null&&!n.hasOwnProperty(v)&&Hr(t,e,v,null,n,d);for(f in n)d=n[f],p=r[f],!n.hasOwnProperty(f)||d===p||d==null&&p==null||Hr(t,e,f,d,n,p)}var eS=null,tS=null;function Fv(t){return t.nodeType===9?t:t.ownerDocument}function iC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I8(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function rS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uw=null;function jB(){var t=window.event;return t&&t.type==="popstate"?t===uw?!1:(uw=t,!0):(uw=null,!1)}var B8=typeof setTimeout=="function"?setTimeout:void 0,kB=typeof clearTimeout=="function"?clearTimeout:void 0,aC=typeof Promise=="function"?Promise:void 0,OB=typeof queueMicrotask=="function"?queueMicrotask:typeof aC<"u"?function(t){return aC.resolve(null).then(t).catch(LB)}:B8;function LB(t){setTimeout(function(){throw t})}function Tu(t){return t==="head"}function sC(t,e){var r=e,n=0,i=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(0<n&&8>n){r=n;var s=t.ownerDocument;if(r&1&&Zp(s.documentElement),r&2&&Zp(s.body),r&4)for(r=s.head,Zp(r),s=r.firstChild;s;){var o=s.nextSibling,c=s.nodeName;s[lg]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||r.removeChild(s),s=o}}if(i===0){t.removeChild(a),Em(e);return}i--}else r==="$"||r==="$?"||r==="$!"?i++:n=r.charCodeAt(0)-48;else n=0;r=a}while(r);Em(e)}function nS(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nS(r),G4(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function DB(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[lg])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=ao(t.nextSibling),t===null)break}return null}function PB(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ao(t.nextSibling),t===null))return null;return t}function iS(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function RB(t,e){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")e();else{var n=function(){e(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var aS=null;function oC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}function z8(t,e,r){switch(e=Fv(r),t){case"html":if(t=e.documentElement,!t)throw Error(at(452));return t;case"head":if(t=e.head,!t)throw Error(at(453));return t;case"body":if(t=e.body,!t)throw Error(at(454));return t;default:throw Error(at(451))}}function Zp(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);G4(t)}var js=new Map,lC=new Set;function Iv(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ec=Nr.d;Nr.d={f:MB,r:FB,D:IB,C:BB,L:zB,m:UB,X:qB,S:HB,M:VB};function MB(){var t=ec.f(),e=X2();return t||e}function FB(t){var e=p0(t);e!==null&&e.tag===5&&e.type==="form"?Dk(e):ec.r(t)}var x0=typeof document>"u"?null:document;function U8(t,e,r){var n=x0;if(n&&typeof e=="string"&&e){var i=Ns(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),lC.has(i)||(lC.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),Ni(e,"link",t),ai(e),n.head.appendChild(e)))}}function IB(t){ec.D(t),U8("dns-prefetch",t,null)}function BB(t,e){ec.C(t,e),U8("preconnect",t,e)}function zB(t,e,r){ec.L(t,e,r);var n=x0;if(n&&t&&e){var i='link[rel="preload"][as="'+Ns(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+Ns(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+Ns(r.imageSizes)+'"]')):i+='[href="'+Ns(t)+'"]';var a=i;switch(e){case"style":a=Qd(t);break;case"script":a=v0(t)}js.has(a)||(t=nn({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),js.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(vg(a))||e==="script"&&n.querySelector(yg(a))||(e=n.createElement("link"),Ni(e,"link",t),ai(e),n.head.appendChild(e)))}}function UB(t,e){ec.m(t,e);var r=x0;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ns(n)+'"][href="'+Ns(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=v0(t)}if(!js.has(a)&&(t=nn({rel:"modulepreload",href:t},e),js.set(a,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yg(a)))return}n=r.createElement("link"),Ni(n,"link",t),ai(n),r.head.appendChild(n)}}}function HB(t,e,r){ec.S(t,e,r);var n=x0;if(n&&t){var i=ad(n).hoistableStyles,a=Qd(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(vg(a)))o.loading=5;else{t=nn({rel:"stylesheet",href:t,"data-precedence":e},r),(r=js.get(a))&&j3(t,r);var c=s=n.createElement("link");ai(c),Ni(c,"link",t),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Gx(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function qB(t,e){ec.X(t,e);var r=x0;if(r&&t){var n=ad(r).hoistableScripts,i=v0(t),a=n.get(i);a||(a=r.querySelector(yg(i)),a||(t=nn({src:t,async:!0},e),(e=js.get(i))&&k3(t,e),a=r.createElement("script"),ai(a),Ni(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function VB(t,e){ec.M(t,e);var r=x0;if(r&&t){var n=ad(r).hoistableScripts,i=v0(t),a=n.get(i);a||(a=r.querySelector(yg(i)),a||(t=nn({src:t,async:!0,type:"module"},e),(e=js.get(i))&&k3(t,e),a=r.createElement("script"),ai(a),Ni(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function cC(t,e,r,n){var i=(i=tu.current)?Iv(i):null;if(!i)throw Error(at(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=Qd(r.href),r=ad(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Qd(r.href);var a=ad(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(vg(t)))&&!a._p&&(s.instance=a,s.state.loading=5),js.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},js.set(t,r),a||WB(i,t,r,s.state))),e&&n===null)throw Error(at(528,""));return s}if(e&&n!==null)throw Error(at(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=v0(r),r=ad(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(at(444,t))}}function Qd(t){return'href="'+Ns(t)+'"'}function vg(t){return'link[rel="stylesheet"]['+t+"]"}function H8(t){return nn({},t,{"data-precedence":t.precedence,precedence:null})}function WB(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Ni(e,"link",r),ai(e),t.head.appendChild(e))}function v0(t){return'[src="'+Ns(t)+'"]'}function yg(t){return"script[async]"+t}function uC(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+Ns(r.href)+'"]');if(n)return e.instance=n,ai(n),n;var i=nn({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),ai(n),Ni(n,"style",i),Gx(n,r.precedence,t),e.instance=n;case"stylesheet":i=Qd(r.href);var a=t.querySelector(vg(i));if(a)return e.state.loading|=4,e.instance=a,ai(a),a;n=H8(r),(i=js.get(i))&&j3(n,i),a=(t.ownerDocument||t).createElement("link"),ai(a);var s=a;return s._p=new Promise(function(o,c){s.onload=o,s.onerror=c}),Ni(a,"link",n),e.state.loading|=4,Gx(a,r.precedence,t),e.instance=a;case"script":return a=v0(r.src),(i=t.querySelector(yg(a)))?(e.instance=i,ai(i),i):(n=r,(i=js.get(a))&&(n=nn({},r),k3(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),ai(i),Ni(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(at(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,Gx(n,r.precedence,t));return e.instance}function Gx(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function j3(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function k3(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Yx=null;function hC(t,e,r){if(Yx===null){var n=new Map,i=Yx=new Map;i.set(r,n)}else i=Yx,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[lg]||a[zi]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(a):n.set(s,[a])}}return n}function fC(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function GB(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function q8(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Nm=null;function YB(){}function XB(t,e,r){if(Nm===null)throw Error(at(475));var n=Nm;if(e.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Qd(r.href),a=t.querySelector(vg(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=Bv.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=a,ai(a);return}a=t.ownerDocument||t,r=H8(r),(i=js.get(i))&&j3(r,i),a=a.createElement("link"),ai(a);var s=a;s._p=new Promise(function(o,c){s.onload=o,s.onerror=c}),Ni(a,"link",r),e.instance=a}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(n.count++,e=Bv.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function $B(){if(Nm===null)throw Error(at(475));var t=Nm;return t.stylesheets&&t.count===0&&sS(t,t.stylesheets),0<t.count?function(e){var r=setTimeout(function(){if(t.stylesheets&&sS(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Bv(){if(this.count--,this.count===0){if(this.stylesheets)sS(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zv=null;function sS(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zv=new Map,e.forEach(KB,t),zv=null,Bv.call(t))}function KB(t,e){if(!(e.state.loading&4)){var r=zv.get(t);if(r)var n=r.get(null);else{r=new Map,zv.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}i=e.instance,s=i.getAttribute("data-precedence"),a=r.get(s)||n,a===n&&r.set(null,i),r.set(s,i),this.count++,n=Bv.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Tm={$$typeof:Cl,Provider:null,Consumer:null,_currentValue:ch,_currentValue2:ch,_threadCount:0};function QB(t,e,r,n,i,a,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lb(0),this.hiddenUpdates=Lb(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function V8(t,e,r,n,i,a,s,o,c,u,h,f){return t=new QB(t,e,r,s,o,c,u,f),e=1,a===!0&&(e|=24),a=Ka(3,null,null,e),t.current=a,a.stateNode=t,e=i3(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:e},s3(a),t}function W8(t){return t?(t=Kf,t):Kf}function G8(t,e,r,n,i,a){i=W8(i),n.context===null?n.context=i:n.pendingContext=i,n=ru(e),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=nu(t,n,e),r!==null&&(rs(r,t,e),Wp(r,t,e))}function dC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O3(t,e){dC(t,e),(t=t.alternate)&&dC(t,e)}function Y8(t){if(t.tag===13){var e=m0(t,67108864);e!==null&&rs(e,t,67108864),O3(t,67108864)}}var Uv=!0;function JB(t,e,r,n){var i=Vt.T;Vt.T=null;var a=Nr.p;try{Nr.p=2,L3(t,e,r,n)}finally{Nr.p=a,Vt.T=i}}function ZB(t,e,r,n){var i=Vt.T;Vt.T=null;var a=Nr.p;try{Nr.p=8,L3(t,e,r,n)}finally{Nr.p=a,Vt.T=i}}function L3(t,e,r,n){if(Uv){var i=oS(n);if(i===null)cw(t,e,n,Hv,r),pC(t,n);else if(tz(i,t,e,r,n))n.stopPropagation();else if(pC(t,n),e&4&&-1<ez.indexOf(t)){for(;i!==null;){var a=p0(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Uu(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var c=1<<31-es(s);o.entanglements[1]|=c,s&=~c}el(a),!(Pr&6)&&(Lv=Wo()+500,xg(0))}}break;case 13:o=m0(a,2),o!==null&&rs(o,a,2),X2(),O3(a,2)}if(a=oS(n),a===null&&cw(t,e,n,Hv,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else cw(t,e,n,null,r)}}function oS(t){return t=X4(t),D3(t)}var Hv=null;function D3(t){if(Hv=null,t=Vf(t),t!==null){var e=ig(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=v6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Hv=t,null}function X8(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(B9()){case S6:return 2;case _6:return 8;case gv:case z9:return 32;case N6:return 268435456;default:return 32}default:return 32}}var lS=!1,su=null,ou=null,lu=null,Cm=new Map,Am=new Map,Fc=[],ez="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pC(t,e){switch(t){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":ou=null;break;case"mouseover":case"mouseout":lu=null;break;case"pointerover":case"pointerout":Cm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Am.delete(e.pointerId)}}function bp(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=p0(e),e!==null&&Y8(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tz(t,e,r,n,i){switch(e){case"focusin":return su=bp(su,t,e,r,n,i),!0;case"dragenter":return ou=bp(ou,t,e,r,n,i),!0;case"mouseover":return lu=bp(lu,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Cm.set(a,bp(Cm.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Am.set(a,bp(Am.get(a)||null,t,e,r,n,i)),!0}return!1}function $8(t){var e=Vf(t.target);if(e!==null){var r=ig(e);if(r!==null){if(e=r.tag,e===13){if(e=v6(r),e!==null){t.blockedOn=e,X9(t.priority,function(){if(r.tag===13){var n=ts();n=V4(n);var i=m0(r,n);i!==null&&rs(i,r,n),O3(r,n)}});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oS(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);T5=n,r.target.dispatchEvent(n),T5=null}else return e=p0(r),e!==null&&Y8(e),t.blockedOn=r,!1;e.shift()}return!0}function mC(t,e,r){Xx(t)&&r.delete(e)}function rz(){lS=!1,su!==null&&Xx(su)&&(su=null),ou!==null&&Xx(ou)&&(ou=null),lu!==null&&Xx(lu)&&(lu=null),Cm.forEach(mC),Am.forEach(mC)}function I1(t,e){t.blockedOn===e&&(t.blockedOn=null,lS||(lS=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,rz)))}var B1=null;function gC(t){B1!==t&&(B1=t,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,function(){B1===t&&(B1=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(D3(n||r)===null)continue;break}var a=p0(r);a!==null&&(t.splice(e,3),e-=3,U5(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function Em(t){function e(c){return I1(c,t)}su!==null&&I1(su,t),ou!==null&&I1(ou,t),lu!==null&&I1(lu,t),Cm.forEach(e),Am.forEach(e);for(var r=0;r<Fc.length;r++){var n=Fc[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Fc.length&&(r=Fc[0],r.blockedOn===null);)$8(r),r.blockedOn===null&&Fc.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],s=i[Ca]||null;if(typeof a=="function")s||gC(r);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Ca]||null)o=s.formAction;else if(D3(i)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),gC(r)}}}function P3(t){this._internalRoot=t}J2.prototype.render=P3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(at(409));var r=e.current,n=ts();G8(r,n,t,e,null,null)};J2.prototype.unmount=P3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;G8(t.current,2,null,t,null,null),X2(),e[d0]=null}};function J2(t){this._internalRoot=t}J2.prototype.unstable_scheduleHydration=function(t){if(t){var e=j6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Fc.length&&e!==0&&e<Fc[r].priority;r++);Fc.splice(r,0,t),r===0&&$8(t)}};var xC=g6.version;if(xC!=="19.1.0")throw Error(at(527,xC,"19.1.0"));Nr.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(at(188)):(t=Object.keys(t).join(","),Error(at(268,t)));return t=L9(e),t=t!==null?y6(t):null,t=t===null?null:t.stateNode,t};var nz={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Vt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z1.isDisabled&&z1.supportsFiber)try{ag=z1.inject(nz),Za=z1}catch{}}M2.createRoot=function(t,e){if(!x6(t))throw Error(at(299));var r=!1,n="",i=Vk,a=Wk,s=Gk,o=null;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=V8(t,1,!1,null,null,r,n,i,a,s,o,null),t[d0]=e.current,E3(t),new P3(e)};M2.hydrateRoot=function(t,e,r){if(!x6(t))throw Error(at(299));var n=!1,i="",a=Vk,s=Wk,o=Gk,c=null,u=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(c=r.unstable_transitionCallbacks),r.formState!==void 0&&(u=r.formState)),e=V8(t,1,!0,e,r??null,n,i,a,s,o,c,u),e.context=W8(null),r=e.current,n=ts(),n=V4(n),i=ru(n),i.callback=null,nu(r,i,n),r=n,e.current.lanes=r,og(e,r),el(e),t[d0]=e.current,E3(t),new J2(e)};M2.version="19.1.0";function K8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K8)}catch(t){console.error(t)}}K8(),n6.exports=M2;var iz=n6.exports;function az(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,s=[],o="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(s.push(r),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),s.push(i.substring(1,~n?n:~a?a:i.length)),o+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~n?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:s,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var Q8={exports:{}},J8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=C;function sz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oz=typeof Object.is=="function"?Object.is:sz,lz=Jd.useState,cz=Jd.useEffect,uz=Jd.useLayoutEffect,hz=Jd.useDebugValue;function fz(t,e){var r=e(),n=lz({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return uz(function(){i.value=r,i.getSnapshot=e,hw(i)&&a({inst:i})},[t,r,e]),cz(function(){return hw(i)&&a({inst:i}),t(function(){hw(i)&&a({inst:i})})},[t]),hz(r),r}function hw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!oz(t,r)}catch{return!0}}function dz(t,e){return e()}var pz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dz:fz;J8.useSyncExternalStore=Jd.useSyncExternalStore!==void 0?Jd.useSyncExternalStore:pz;Q8.exports=J8;var Z8=Q8.exports;const mz=z4.useInsertionEffect,gz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xz=gz?C.useLayoutEffect:C.useEffect,vz=mz||xz,eO=t=>{const e=C.useRef([t,(...r)=>e[0](...r)]).current;return vz(()=>{e[0]=t}),e[1]},yz="popstate",R3="pushState",M3="replaceState",bz="hashchange",vC=[yz,R3,M3,bz],wz=t=>{for(const e of vC)addEventListener(e,t);return()=>{for(const e of vC)removeEventListener(e,t)}},tO=(t,e)=>Z8.useSyncExternalStore(wz,t,e),Sz=()=>location.search,_z=({ssrSearch:t=""}={})=>tO(Sz,()=>t),yC=()=>location.pathname,Nz=({ssrPath:t}={})=>tO(yC,t?()=>t:yC),Tz=(t,{replace:e=!1,state:r=null}={})=>history[e?M3:R3](r,"",t),Cz=(t={})=>[Nz(t),Tz],bC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bC]>"u"){for(const t of[R3,M3]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,bC,{value:!0})}const Az=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",rO=(t="")=>t==="/"?"":t,Ez=(t,e)=>t[0]==="~"?t.slice(1):rO(e)+t,jz=(t="",e)=>Az(wC(rO(t)),wC(e)),wC=t=>{try{return decodeURI(t)}catch{return t}},nO={hook:Cz,searchHook:_z,parser:az,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},iO=C.createContext(nO),bg=()=>C.useContext(iO),aO={},sO=C.createContext(aO),kz=()=>C.useContext(sO),Z2=t=>{const[e,r]=t.hook(t);return[jz(t.base,e),eO((n,i)=>r(Ez(n,t.base),i))]},F3=()=>Z2(bg()),oO=(t,e,r,n)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),s=i.exec(r)||[],[o,...c]=s;return o!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,d)=>[f,c[d]])):s.groups;let h={...c};return u&&Object.assign(h,u),h})(),...n?[o]:[]]:[!1,null]},Oz=({children:t,...e})=>{var h,f;const r=bg(),n=e.hook?nO:r;let i=n;const[a,s]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=a),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=C.useRef({}),c=o.current,u=c;for(let d in n){const p=d==="base"?n[d]+(e[d]||""):e[d]||n[d];c===u&&p!==u[d]&&(o.current=u={...u}),u[d]=p,(p!==n[d]||p!==i[d])&&(i=u)}return C.createElement(iO.Provider,{value:i,children:t})},SC=({children:t,component:e},r)=>e?C.createElement(e,{params:r}):typeof t=="function"?t(r):t,Lz=t=>{let e=C.useRef(aO);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},za=({path:t,nest:e,match:r,...n})=>{const i=bg(),[a]=Z2(i),[s,o,c]=r??oO(i.parser,t,a,e),u=Lz({...kz(),...o});if(!s)return null;const h=c?C.createElement(Oz,{base:c},SC(n,u)):SC(n,u);return C.createElement(sO.Provider,{value:u,children:h})},yr=C.forwardRef((t,e)=>{const r=bg(),[n,i]=Z2(r),{to:a="",href:s=a,onClick:o,asChild:c,children:u,className:h,replace:f,state:d,...p}=t,x=eO(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o==null||o(y),y.defaultPrevented||(y.preventDefault(),i(s,t)))}),m=r.hrefs(s[0]==="~"?s.slice(1):r.base+s,r);return c&&C.isValidElement(u)?C.cloneElement(u,{onClick:x,href:m}):C.createElement("a",{...p,onClick:x,href:m,className:h!=null&&h.call?h(n===s):h,children:u,ref:e})}),lO=t=>Array.isArray(t)?t.flatMap(e=>lO(e&&e.type===C.Fragment?e.props.children:e)):[t],Dz=({children:t,location:e})=>{const r=bg(),[n]=Z2(r);for(const i of lO(t)){let a=0;if(C.isValidElement(i)&&(a=oO(r.parser,i.props.path,e||n,i.props.nest))[0])return C.cloneElement(i,{match:a})}return null};var wg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Th=typeof window>"u"||"Deno"in globalThis;function va(){}function Pz(t,e){return typeof t=="function"?t(e):t}function cS(t){return typeof t=="number"&&t>=0&&t!==1/0}function cO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cu(t,e){return typeof t=="function"?t(e):t}function bs(t,e){return typeof t=="function"?t(e):t}function _C(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==I3(s,e.options))return!1}else if(!km(e.queryKey,s))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function NC(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(jm(e.options.mutationKey)!==jm(a))return!1}else if(!km(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function I3(t,e){return((e==null?void 0:e.queryKeyHashFn)||jm)(t)}function jm(t){return JSON.stringify(t,(e,r)=>hS(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function km(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>km(t[r],e[r])):!1}function uO(t,e){if(t===e)return t;const r=TC(t)&&TC(e);if(r||hS(t)&&hS(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{},c=new Set(n);let u=0;for(let h=0;h<s;h++){const f=r?h:a[h];(!r&&c.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,u++):(o[f]=uO(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&u++)}return i===s&&u===i?t:o}return e}function uS(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function TC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hS(t){if(!CC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!CC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function CC(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rz(t){return new Promise(e=>{setTimeout(e,t)})}function fS(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?uO(t,e):e}function Mz(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Fz(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var B3=Symbol();function hO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===B3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Iz(t,e){return typeof t=="function"?t(...e):!!t}var eh,Bc,jd,Gj,Bz=(Gj=class extends wg{constructor(){super();qt(this,eh);qt(this,Bc);qt(this,jd);Ot(this,jd,e=>{if(!Th&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_e(this,Bc)||this.setEventListener(_e(this,jd))}onUnsubscribe(){var e;this.hasListeners()||((e=_e(this,Bc))==null||e.call(this),Ot(this,Bc,void 0))}setEventListener(e){var r;Ot(this,jd,e),(r=_e(this,Bc))==null||r.call(this),Ot(this,Bc,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){_e(this,eh)!==e&&(Ot(this,eh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof _e(this,eh)=="boolean"?_e(this,eh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eh=new WeakMap,Bc=new WeakMap,jd=new WeakMap,Gj),z3=new Bz,kd,zc,Od,Yj,zz=(Yj=class extends wg{constructor(){super();qt(this,kd,!0);qt(this,zc);qt(this,Od);Ot(this,Od,e=>{if(!Th&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_e(this,zc)||this.setEventListener(_e(this,Od))}onUnsubscribe(){var e;this.hasListeners()||((e=_e(this,zc))==null||e.call(this),Ot(this,zc,void 0))}setEventListener(e){var r;Ot(this,Od,e),(r=_e(this,zc))==null||r.call(this),Ot(this,zc,e(this.setOnline.bind(this)))}setOnline(e){_e(this,kd)!==e&&(Ot(this,kd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return _e(this,kd)}},kd=new WeakMap,zc=new WeakMap,Od=new WeakMap,Yj),qv=new zz;function dS(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Uz(t){return Math.min(1e3*2**t,3e4)}function fO(t){return(t??"online")==="online"?qv.isOnline():!0}var dO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fw(t){return t instanceof dO}function pO(t){let e=!1,r=0,n=!1,i;const a=dS(),s=m=>{var y;n||(d(new dO(m)),(y=t.abort)==null||y.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>z3.isFocused()&&(t.networkMode==="always"||qv.isOnline())&&t.canRun(),h=()=>fO(t.networkMode)&&t.canRun(),f=m=>{var y;n||(n=!0,(y=t.onSuccess)==null||y.call(t,m),i==null||i(),a.resolve(m))},d=m=>{var y;n||(n=!0,(y=t.onError)==null||y.call(t,m),i==null||i(),a.reject(m))},p=()=>new Promise(m=>{var y;i=v=>{(n||u())&&m(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),x=()=>{if(n)return;let m;const y=r===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var P;if(n)return;const b=t.retry??(Th?0:3),S=t.retryDelay??Uz,T=typeof S=="function"?S(r,v):S,E=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,v);if(e||!E){d(v);return}r++,(P=t.onFail)==null||P.call(t,r,v),Rz(T).then(()=>u()?void 0:p()).then(()=>{e?d(v):x()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?x():p().then(x),a)}}var Hz=t=>setTimeout(t,0);function qz(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Hz;const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var vi=qz(),th,Xj,mO=(Xj=class{constructor(){qt(this,th)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cS(this.gcTime)&&Ot(this,th,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Th?1/0:5*60*1e3))}clearGcTimeout(){_e(this,th)&&(clearTimeout(_e(this,th)),Ot(this,th,void 0))}},th=new WeakMap,Xj),Ld,rh,xs,nh,Ri,Zm,ih,Xs,bl,$j,Vz=($j=class extends mO{constructor(e){super();qt(this,Xs);qt(this,Ld);qt(this,rh);qt(this,xs);qt(this,nh);qt(this,Ri);qt(this,Zm);qt(this,ih);Ot(this,ih,!1),Ot(this,Zm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ot(this,nh,e.client),Ot(this,xs,_e(this,nh).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ot(this,Ld,Wz(this.options)),this.state=e.state??_e(this,Ld),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_e(this,Ri))==null?void 0:e.promise}setOptions(e){this.options={..._e(this,Zm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_e(this,xs).remove(this)}setData(e,r){const n=fS(this.state.data,e,this.options);return fr(this,Xs,bl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){fr(this,Xs,bl).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=_e(this,Ri))==null?void 0:n.promise;return(i=_e(this,Ri))==null||i.cancel(e),r?r.then(va).catch(va):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_e(this,Ld))}isActive(){return this.observers.some(e=>bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===B3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>cu(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!cO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=_e(this,Ri))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=_e(this,Ri))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_e(this,xs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(_e(this,Ri)&&(_e(this,ih)?_e(this,Ri).cancel({revert:!0}):_e(this,Ri).cancelRetry()),this.scheduleGc()),_e(this,xs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fr(this,Xs,bl).call(this,{type:"invalidate"})}fetch(e,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_e(this,Ri))return _e(this,Ri).continueRetry(),_e(this,Ri).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ot(this,ih,!0),n.signal)})},a=()=>{const d=hO(this.options,r),x=(()=>{const m={client:_e(this,nh),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return Ot(this,ih,!1),this.options.persister?this.options.persister(d,x,this):d(x)},o=(()=>{const d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_e(this,nh),state:this.state,fetchFn:a};return i(d),d})();(u=this.options.behavior)==null||u.onFetch(o,this),Ot(this,rh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&fr(this,Xs,bl).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const c=d=>{var p,x,m,y;fw(d)&&d.silent||fr(this,Xs,bl).call(this,{type:"error",error:d}),fw(d)||((x=(p=_e(this,xs).config).onError)==null||x.call(p,d,this),(y=(m=_e(this,xs).config).onSettled)==null||y.call(m,this.state.data,d,this)),this.scheduleGc()};return Ot(this,Ri,pO({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var p,x,m,y;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){c(v);return}(x=(p=_e(this,xs).config).onSuccess)==null||x.call(p,d,this),(y=(m=_e(this,xs).config).onSettled)==null||y.call(m,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,p)=>{fr(this,Xs,bl).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{fr(this,Xs,bl).call(this,{type:"pause"})},onContinue:()=>{fr(this,Xs,bl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_e(this,Ri).start()}},Ld=new WeakMap,rh=new WeakMap,xs=new WeakMap,nh=new WeakMap,Ri=new WeakMap,Zm=new WeakMap,ih=new WeakMap,Xs=new WeakSet,bl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...gO(n.data,this.options),fetchMeta:e.meta??null};case"success":return Ot(this,rh,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return fw(i)&&i.revert&&_e(this,rh)?{..._e(this,rh),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),vi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_e(this,xs).notify({query:this,type:"updated",action:e})})},$j);function gO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Wz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Lo,Kj,Gz=(Kj=class extends wg{constructor(e={}){super();qt(this,Lo);this.config=e,Ot(this,Lo,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??I3(i,r);let s=this.get(a);return s||(s=new Vz({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){_e(this,Lo).has(e.queryHash)||(_e(this,Lo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=_e(this,Lo).get(e.queryHash);r&&(e.destroy(),r===e&&_e(this,Lo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _e(this,Lo).get(e)}getAll(){return[..._e(this,Lo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>_C(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>_C(e,n)):r}notify(e){vi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){vi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Lo=new WeakMap,Kj),Do,Ki,ah,Po,kc,Qj,Yz=(Qj=class extends mO{constructor(e){super();qt(this,Po);qt(this,Do);qt(this,Ki);qt(this,ah);this.mutationId=e.mutationId,Ot(this,Ki,e.mutationCache),Ot(this,Do,[]),this.state=e.state||Xz(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_e(this,Do).includes(e)||(_e(this,Do).push(e),this.clearGcTimeout(),_e(this,Ki).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ot(this,Do,_e(this,Do).filter(r=>r!==e)),this.scheduleGc(),_e(this,Ki).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_e(this,Do).length||(this.state.status==="pending"?this.scheduleGc():_e(this,Ki).remove(this))}continue(){var e;return((e=_e(this,ah))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,s,o,c,u,h,f,d,p,x,m,y,v,b,S,T,E,P,j,L;const r=()=>{fr(this,Po,kc).call(this,{type:"continue"})};Ot(this,ah,pO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(F,W)=>{fr(this,Po,kc).call(this,{type:"failed",failureCount:F,error:W})},onPause:()=>{fr(this,Po,kc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_e(this,Ki).canRun(this)}));const n=this.state.status==="pending",i=!_e(this,ah).canStart();try{if(n)r();else{fr(this,Po,kc).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(a=_e(this,Ki).config).onMutate)==null?void 0:s.call(a,e,this));const W=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));W!==this.state.context&&fr(this,Po,kc).call(this,{type:"pending",context:W,variables:e,isPaused:i})}const F=await _e(this,ah).start();return await((h=(u=_e(this,Ki).config).onSuccess)==null?void 0:h.call(u,F,e,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,F,e,this.state.context)),await((x=(p=_e(this,Ki).config).onSettled)==null?void 0:x.call(p,F,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,F,null,e,this.state.context)),fr(this,Po,kc).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(v=_e(this,Ki).config).onError)==null?void 0:b.call(v,F,e,this.state.context,this)),await((T=(S=this.options).onError)==null?void 0:T.call(S,F,e,this.state.context)),await((P=(E=_e(this,Ki).config).onSettled)==null?void 0:P.call(E,void 0,F,this.state.variables,this.state.context,this)),await((L=(j=this.options).onSettled)==null?void 0:L.call(j,void 0,F,e,this.state.context)),F}finally{fr(this,Po,kc).call(this,{type:"error",error:F})}}finally{_e(this,Ki).runNext(this)}}},Do=new WeakMap,Ki=new WeakMap,ah=new WeakMap,Po=new WeakSet,kc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vi.batch(()=>{_e(this,Do).forEach(n=>{n.onMutationUpdate(e)}),_e(this,Ki).notify({mutation:this,type:"updated",action:e})})},Qj);function Xz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nl,$s,eg,Jj,$z=(Jj=class extends wg{constructor(e={}){super();qt(this,Nl);qt(this,$s);qt(this,eg);this.config=e,Ot(this,Nl,new Set),Ot(this,$s,new Map),Ot(this,eg,0)}build(e,r,n){const i=new Yz({mutationCache:this,mutationId:++T1(this,eg)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){_e(this,Nl).add(e);const r=U1(e);if(typeof r=="string"){const n=_e(this,$s).get(r);n?n.push(e):_e(this,$s).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_e(this,Nl).delete(e)){const r=U1(e);if(typeof r=="string"){const n=_e(this,$s).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&_e(this,$s).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=U1(e);if(typeof r=="string"){const n=_e(this,$s).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=U1(e);if(typeof r=="string"){const i=(n=_e(this,$s).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vi.batch(()=>{_e(this,Nl).forEach(e=>{this.notify({type:"removed",mutation:e})}),_e(this,Nl).clear(),_e(this,$s).clear()})}getAll(){return Array.from(_e(this,Nl))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>NC(r,n))}findAll(e={}){return this.getAll().filter(r=>NC(e,r))}notify(e){vi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return vi.batch(()=>Promise.all(e.map(r=>r.continue().catch(va))))}},Nl=new WeakMap,$s=new WeakMap,eg=new WeakMap,Jj);function U1(t){var e;return(e=t.options.scope)==null?void 0:e.id}function AC(t){return{onFetch:(e,r)=>{var h,f,d,p,x;const n=e.options,i=(d=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((x=e.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=hO(e.options,e.fetchOptions),b=async(S,T,E)=>{if(m)return Promise.reject();if(T==null&&S.pages.length)return Promise.resolve(S);const j=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:T,direction:E?"backward":"forward",meta:e.options.meta};return y(D),D})(),L=await v(j),{maxPages:F}=e.options,W=E?Fz:Mz;return{pages:W(S.pages,L,F),pageParams:W(S.pageParams,T,F)}};if(i&&a.length){const S=i==="backward",T=S?Kz:EC,E={pages:a,pageParams:s},P=T(n,E);o=await b(E,P,S)}else{const S=t??a.length;do{const T=c===0?s[0]??n.initialPageParam:EC(n,o);if(c>0&&T==null)break;o=await b(o,T),c++}while(c<S)}return o};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function EC(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Kz(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var vn,Uc,Hc,Dd,Pd,qc,Rd,Md,Zj,Qz=(Zj=class{constructor(t={}){qt(this,vn);qt(this,Uc);qt(this,Hc);qt(this,Dd);qt(this,Pd);qt(this,qc);qt(this,Rd);qt(this,Md);Ot(this,vn,t.queryCache||new Gz),Ot(this,Uc,t.mutationCache||new $z),Ot(this,Hc,t.defaultOptions||{}),Ot(this,Dd,new Map),Ot(this,Pd,new Map),Ot(this,qc,0)}mount(){T1(this,qc)._++,_e(this,qc)===1&&(Ot(this,Rd,z3.subscribe(async t=>{t&&(await this.resumePausedMutations(),_e(this,vn).onFocus())})),Ot(this,Md,qv.subscribe(async t=>{t&&(await this.resumePausedMutations(),_e(this,vn).onOnline())})))}unmount(){var t,e;T1(this,qc)._--,_e(this,qc)===0&&((t=_e(this,Rd))==null||t.call(this),Ot(this,Rd,void 0),(e=_e(this,Md))==null||e.call(this),Ot(this,Md,void 0))}isFetching(t){return _e(this,vn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _e(this,Uc).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_e(this,vn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=_e(this,vn).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(cu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return _e(this,vn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=_e(this,vn).get(n.queryHash),a=i==null?void 0:i.state.data,s=Pz(e,a);if(s!==void 0)return _e(this,vn).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return vi.batch(()=>_e(this,vn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_e(this,vn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=_e(this,vn);vi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=_e(this,vn);return vi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=vi.batch(()=>_e(this,vn).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(va).catch(va)}invalidateQueries(t,e={}){return vi.batch(()=>(_e(this,vn).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=vi.batch(()=>_e(this,vn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(va)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(va)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=_e(this,vn).build(this,e);return r.isStaleByTime(cu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(va).catch(va)}fetchInfiniteQuery(t){return t.behavior=AC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(va).catch(va)}ensureInfiniteQueryData(t){return t.behavior=AC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qv.isOnline()?_e(this,Uc).resumePausedMutations():Promise.resolve()}getQueryCache(){return _e(this,vn)}getMutationCache(){return _e(this,Uc)}getDefaultOptions(){return _e(this,Hc)}setDefaultOptions(t){Ot(this,Hc,t)}setQueryDefaults(t,e){_e(this,Dd).set(jm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._e(this,Dd).values()],r={};return e.forEach(n=>{km(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){_e(this,Pd).set(jm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._e(this,Pd).values()],r={};return e.forEach(n=>{km(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._e(this,Hc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=I3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===B3&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._e(this,Hc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_e(this,vn).clear(),_e(this,Uc).clear()}},vn=new WeakMap,Uc=new WeakMap,Hc=new WeakMap,Dd=new WeakMap,Pd=new WeakMap,qc=new WeakMap,Rd=new WeakMap,Md=new WeakMap,Zj),pa,dr,tg,Qi,sh,Fd,Vc,Wc,rg,Id,Bd,oh,lh,Gc,zd,Er,Mp,pS,mS,gS,xS,vS,yS,bS,xO,e6,Jz=(e6=class extends wg{constructor(e,r){super();qt(this,Er);qt(this,pa);qt(this,dr);qt(this,tg);qt(this,Qi);qt(this,sh);qt(this,Fd);qt(this,Vc);qt(this,Wc);qt(this,rg);qt(this,Id);qt(this,Bd);qt(this,oh);qt(this,lh);qt(this,Gc);qt(this,zd,new Set);this.options=r,Ot(this,pa,e),Ot(this,Wc,null),Ot(this,Vc,dS()),this.options.experimental_prefetchInRender||_e(this,Vc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_e(this,dr).addObserver(this),jC(_e(this,dr),this.options)?fr(this,Er,Mp).call(this):this.updateResult(),fr(this,Er,xS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wS(_e(this,dr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wS(_e(this,dr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fr(this,Er,vS).call(this),fr(this,Er,yS).call(this),_e(this,dr).removeObserver(this)}setOptions(e){const r=this.options,n=_e(this,dr);if(this.options=_e(this,pa).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bs(this.options.enabled,_e(this,dr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");fr(this,Er,bS).call(this),_e(this,dr).setOptions(this.options),r._defaulted&&!uS(this.options,r)&&_e(this,pa).getQueryCache().notify({type:"observerOptionsUpdated",query:_e(this,dr),observer:this});const i=this.hasListeners();i&&kC(_e(this,dr),n,this.options,r)&&fr(this,Er,Mp).call(this),this.updateResult(),i&&(_e(this,dr)!==n||bs(this.options.enabled,_e(this,dr))!==bs(r.enabled,_e(this,dr))||cu(this.options.staleTime,_e(this,dr))!==cu(r.staleTime,_e(this,dr)))&&fr(this,Er,pS).call(this);const a=fr(this,Er,mS).call(this);i&&(_e(this,dr)!==n||bs(this.options.enabled,_e(this,dr))!==bs(r.enabled,_e(this,dr))||a!==_e(this,Gc))&&fr(this,Er,gS).call(this,a)}getOptimisticResult(e){const r=_e(this,pa).getQueryCache().build(_e(this,pa),e),n=this.createResult(r,e);return eU(this,n)&&(Ot(this,Qi,n),Ot(this,Fd,this.options),Ot(this,sh,_e(this,dr).state)),n}getCurrentResult(){return _e(this,Qi)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){_e(this,zd).add(e)}getCurrentQuery(){return _e(this,dr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=_e(this,pa).defaultQueryOptions(e),n=_e(this,pa).getQueryCache().build(_e(this,pa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return fr(this,Er,Mp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_e(this,Qi)))}createResult(e,r){var F;const n=_e(this,dr),i=this.options,a=_e(this,Qi),s=_e(this,sh),o=_e(this,Fd),u=e!==n?e.state:_e(this,tg),{state:h}=e;let f={...h},d=!1,p;if(r._optimisticResults){const W=this.hasListeners(),D=!W&&jC(e,r),O=W&&kC(e,n,r,i);(D||O)&&(f={...f,...gO(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:y}=f;p=f.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let W;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(W=a.data,v=!0):W=typeof r.placeholderData=="function"?r.placeholderData((F=_e(this,Bd))==null?void 0:F.state.data,_e(this,Bd)):r.placeholderData,W!==void 0&&(y="success",p=fS(a==null?void 0:a.data,W,r),d=!0)}if(r.select&&p!==void 0&&!v)if(a&&p===(s==null?void 0:s.data)&&r.select===_e(this,rg))p=_e(this,Id);else try{Ot(this,rg,r.select),p=r.select(p),p=fS(a==null?void 0:a.data,p,r),Ot(this,Id,p),Ot(this,Wc,null)}catch(W){Ot(this,Wc,W)}_e(this,Wc)&&(x=_e(this,Wc),p=_e(this,Id),m=Date.now(),y="error");const b=f.fetchStatus==="fetching",S=y==="pending",T=y==="error",E=S&&b,P=p!==void 0,L={status:y,fetchStatus:f.fetchStatus,isPending:S,isSuccess:y==="success",isError:T,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:T&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:T&&P,isStale:U3(e,r),refetch:this.refetch,promise:_e(this,Vc),isEnabled:bs(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const W=q=>{L.status==="error"?q.reject(L.error):L.data!==void 0&&q.resolve(L.data)},D=()=>{const q=Ot(this,Vc,L.promise=dS());W(q)},O=_e(this,Vc);switch(O.status){case"pending":e.queryHash===n.queryHash&&W(O);break;case"fulfilled":(L.status==="error"||L.data!==O.value)&&D();break;case"rejected":(L.status!=="error"||L.error!==O.reason)&&D();break}}return L}updateResult(){const e=_e(this,Qi),r=this.createResult(_e(this,dr),this.options);if(Ot(this,sh,_e(this,dr).state),Ot(this,Fd,this.options),_e(this,sh).data!==void 0&&Ot(this,Bd,_e(this,dr)),uS(r,e))return;Ot(this,Qi,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!_e(this,zd).size)return!0;const s=new Set(a??_e(this,zd));return this.options.throwOnError&&s.add("error"),Object.keys(_e(this,Qi)).some(o=>{const c=o;return _e(this,Qi)[c]!==e[c]&&s.has(c)})};fr(this,Er,xO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fr(this,Er,xS).call(this)}},pa=new WeakMap,dr=new WeakMap,tg=new WeakMap,Qi=new WeakMap,sh=new WeakMap,Fd=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,rg=new WeakMap,Id=new WeakMap,Bd=new WeakMap,oh=new WeakMap,lh=new WeakMap,Gc=new WeakMap,zd=new WeakMap,Er=new WeakSet,Mp=function(e){fr(this,Er,bS).call(this);let r=_e(this,dr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(va)),r},pS=function(){fr(this,Er,vS).call(this);const e=cu(this.options.staleTime,_e(this,dr));if(Th||_e(this,Qi).isStale||!cS(e))return;const n=cO(_e(this,Qi).dataUpdatedAt,e)+1;Ot(this,oh,setTimeout(()=>{_e(this,Qi).isStale||this.updateResult()},n))},mS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_e(this,dr)):this.options.refetchInterval)??!1},gS=function(e){fr(this,Er,yS).call(this),Ot(this,Gc,e),!(Th||bs(this.options.enabled,_e(this,dr))===!1||!cS(_e(this,Gc))||_e(this,Gc)===0)&&Ot(this,lh,setInterval(()=>{(this.options.refetchIntervalInBackground||z3.isFocused())&&fr(this,Er,Mp).call(this)},_e(this,Gc)))},xS=function(){fr(this,Er,pS).call(this),fr(this,Er,gS).call(this,fr(this,Er,mS).call(this))},vS=function(){_e(this,oh)&&(clearTimeout(_e(this,oh)),Ot(this,oh,void 0))},yS=function(){_e(this,lh)&&(clearInterval(_e(this,lh)),Ot(this,lh,void 0))},bS=function(){const e=_e(this,pa).getQueryCache().build(_e(this,pa),this.options);if(e===_e(this,dr))return;const r=_e(this,dr);Ot(this,dr,e),Ot(this,tg,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},xO=function(e){vi.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(_e(this,Qi))}),_e(this,pa).getQueryCache().notify({query:_e(this,dr),type:"observerResultsUpdated"})})},e6);function Zz(t,e){return bs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function jC(t,e){return Zz(t,e)||t.state.data!==void 0&&wS(t,e,e.refetchOnMount)}function wS(t,e,r){if(bs(e.enabled,t)!==!1&&cu(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&U3(t,e)}return!1}function kC(t,e,r,n){return(t!==e||bs(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&U3(t,r)}function U3(t,e){return bs(e.enabled,t)!==!1&&t.isStaleByTime(cu(e.staleTime,t))}function eU(t,e){return!uS(t.getCurrentResult(),e)}var vO=C.createContext(void 0),yO=t=>{const e=C.useContext(vO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tU=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(vO.Provider,{value:t,children:e})),bO=C.createContext(!1),rU=()=>C.useContext(bO);bO.Provider;function nU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var iU=C.createContext(nU()),aU=()=>C.useContext(iU),sU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},oU=t=>{C.useEffect(()=>{t.clearReset()},[t])},lU=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||Iz(r,[t.error,n])),cU=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},uU=(t,e)=>t.isLoading&&t.isFetching&&!e,hU=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,OC=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function fU(t,e,r){var f,d,p,x,m;const n=rU(),i=aU(),a=yO(),s=a.defaultQueryOptions(t);(d=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",cU(s),sU(s,i),oU(i);const o=!a.getQueryCache().get(s.queryHash),[c]=C.useState(()=>new e(a,s)),u=c.getOptimisticResult(s),h=!n&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(y=>{const v=h?c.subscribe(vi.batchCalls(y)):va;return c.updateResult(),v},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(s)},[s,c]),hU(s,u))throw OC(s,c,i);if(lU({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((x=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,s,u),s.experimental_prefetchInRender&&!Th&&uU(u,n)){const y=o?OC(s,c,i):(m=a.getQueryCache().get(s.queryHash))==null?void 0:m.promise;y==null||y.catch(va).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function SS(t,e){return fU(t,Jz)}const dU=new Qz({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(t,e)=>(e==null?void 0:e.status)>=400&&(e==null?void 0:e.status)<500?!1:t<3,retryDelay:t=>Math.min(1e3*2**t,3e4),refetchOnWindowFocus:!0,refetchOnReconnect:"always",refetchOnMount:!0},mutations:{retry:1,retryDelay:1e3}}}),pU=1,mU=1e6;let dw=0;function gU(){return dw=(dw+1)%Number.MAX_SAFE_INTEGER,dw.toString()}const pw=new Map,LC=t=>{if(pw.has(t))return;const e=setTimeout(()=>{pw.delete(t),em({type:"REMOVE_TOAST",toastId:t})},mU);pw.set(t,e)},xU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?LC(r):t.toasts.forEach(n=>{LC(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},$x=[];let Kx={toasts:[]};function em(t){Kx=xU(Kx,t),$x.forEach(e=>{e(Kx)})}function vU({...t}){const e=gU(),r=i=>em({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>em({type:"DISMISS_TOAST",toastId:e});return em({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function H3(){const[t,e]=C.useState(Kx);return C.useEffect(()=>($x.push(e),()=>{const r=$x.indexOf(e);r>-1&&$x.splice(r,1)}),[t]),{...t,toast:vU,dismiss:r=>em({type:"DISMISS_TOAST",toastId:r})}}function Jr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function DC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wO(...t){return e=>{let r=!1;const n=t.map(i=>{const a=DC(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():DC(t[i],null)}}}}function Ci(...t){return C.useCallback(wO(...t),t)}function yU(t,e){const r=C.createContext(e),n=a=>{const{children:s,...o}=a,c=C.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:s})};n.displayName=t+"Provider";function i(a){const s=C.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Cu(t,e=[]){let r=[];function n(a,s){const o=C.createContext(s),c=r.length;r=[...r,s];const u=f=>{var v;const{scope:d,children:p,...x}=f,m=((v=d==null?void 0:d[t])==null?void 0:v[c])||o,y=C.useMemo(()=>x,Object.values(x));return l.jsx(m.Provider,{value:y,children:p})};u.displayName=a+"Provider";function h(f,d){var m;const p=((m=d==null?void 0:d[t])==null?void 0:m[c])||o,x=C.useContext(p);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const i=()=>{const a=r.map(s=>C.createContext(s));return function(o){const c=(o==null?void 0:o[t])||a;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[n,bU(i,...e)]}function bU(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...o,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Om(t){const e=SU(t),r=C.forwardRef((n,i)=>{const{children:a,...s}=n,o=C.Children.toArray(a),c=o.find(NU);if(c){const u=c.props.children,h=o.map(f=>f===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...s,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,h):null})}return l.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var wU=Om("Slot");function SU(t){const e=C.forwardRef((r,n)=>{const{children:i,...a}=r;if(C.isValidElement(i)){const s=CU(i),o=TU(a,i.props);return i.type!==C.Fragment&&(o.ref=n?wO(n,s):s),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SO=Symbol("radix.slottable");function _U(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=SO,e}function NU(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SO}function TU(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function CU(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _O(t){const e=t+"CollectionProvider",[r,n]=Cu(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:y,children:v}=m,b=It.useRef(null),S=It.useRef(new Map).current;return l.jsx(i,{scope:y,itemMap:S,collectionRef:b,children:v})};s.displayName=e;const o=t+"CollectionSlot",c=Om(o),u=It.forwardRef((m,y)=>{const{scope:v,children:b}=m,S=a(o,v),T=Ci(y,S.collectionRef);return l.jsx(c,{ref:T,children:b})});u.displayName=o;const h=t+"CollectionItemSlot",f="data-radix-collection-item",d=Om(h),p=It.forwardRef((m,y)=>{const{scope:v,children:b,...S}=m,T=It.useRef(null),E=Ci(y,T),P=a(h,v);return It.useEffect(()=>(P.itemMap.set(T,{ref:T,...S}),()=>void P.itemMap.delete(T))),l.jsx(d,{[f]:"",ref:E,children:b})});p.displayName=h;function x(m){const y=a(t+"CollectionConsumer",m);return It.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((P,j)=>S.indexOf(P.ref.current)-S.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},x,n]}var AU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ir=AU.reduce((t,e)=>{const r=Om(`Primitive.${e}`),n=C.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function NO(t,e){t&&ng.flushSync(()=>t.dispatchEvent(e))}function lo(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function EU(t,e=globalThis==null?void 0:globalThis.document){const r=lo(t);C.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var jU="DismissableLayer",_S="dismissableLayer.update",kU="dismissableLayer.pointerDownOutside",OU="dismissableLayer.focusOutside",PC,TO=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ey=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...c}=t,u=C.useContext(TO),[h,f]=C.useState(null),d=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),x=Ci(e,j=>f(j)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),b=h?m.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,T=b>=v,E=DU(j=>{const L=j.target,F=[...u.branches].some(W=>W.contains(L));!T||F||(i==null||i(j),s==null||s(j),j.defaultPrevented||o==null||o())},d),P=PU(j=>{const L=j.target;[...u.branches].some(W=>W.contains(L))||(a==null||a(j),s==null||s(j),j.defaultPrevented||o==null||o())},d);return EU(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},d),C.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(PC=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),RC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=PC)}},[h,d,r,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),RC())},[h,u]),C.useEffect(()=>{const j=()=>p({});return document.addEventListener(_S,j),()=>document.removeEventListener(_S,j)},[]),l.jsx(Ir.div,{...c,ref:x,style:{pointerEvents:S?T?"auto":"none":void 0,...t.style},onFocusCapture:Jr(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Jr(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Jr(t.onPointerDownCapture,E.onPointerDownCapture)})});ey.displayName=jU;var LU="DismissableLayerBranch",CO=C.forwardRef((t,e)=>{const r=C.useContext(TO),n=C.useRef(null),i=Ci(e,n);return C.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(Ir.div,{...t,ref:i})});CO.displayName=LU;function DU(t,e=globalThis==null?void 0:globalThis.document){const r=lo(t),n=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let c=function(){AO(kU,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function PU(t,e=globalThis==null?void 0:globalThis.document){const r=lo(t),n=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!n.current&&AO(OU,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function RC(){const t=new CustomEvent(_S);document.dispatchEvent(t)}function AO(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?NO(i,a):i.dispatchEvent(a)}var RU=ey,MU=CO,as=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},FU="Portal",q3=C.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=C.useState(!1);as(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?k9.createPortal(l.jsx(Ir.div,{...n,ref:e}),s):null});q3.displayName=FU;function IU(t,e){return C.useReducer((r,n)=>e[r][n]??r,t)}var Bh=t=>{const{present:e,children:r}=t,n=BU(e),i=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),a=Ci(n.ref,zU(i));return typeof r=="function"||n.isPresent?C.cloneElement(i,{ref:a}):null};Bh.displayName="Presence";function BU(t){const[e,r]=C.useState(),n=C.useRef(null),i=C.useRef(t),a=C.useRef("none"),s=t?"mounted":"unmounted",[o,c]=IU(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=H1(n.current);a.current=o==="mounted"?u:"none"},[o]),as(()=>{const u=n.current,h=i.current;if(h!==t){const d=a.current,p=H1(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),as(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=p=>{const m=H1(n.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},d=p=>{p.target===e&&(a.current=H1(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function H1(t){return(t==null?void 0:t.animationName)||"none"}function zU(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var UU=z4[" useInsertionEffect ".trim().toString()]||as;function Sg({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=HU({defaultProp:e,onChange:r}),o=t!==void 0,c=o?t:i;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const f=h.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,n])}const u=C.useCallback(h=>{var f;if(o){const d=qU(h)?h(t):h;d!==t&&((f=s.current)==null||f.call(s,d))}else a(h)},[o,t,a,s]);return[c,u]}function HU({defaultProp:t,onChange:e}){const[r,n]=C.useState(t),i=C.useRef(r),a=C.useRef(e);return UU(()=>{a.current=e},[e]),C.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function qU(t){return typeof t=="function"}var VU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WU="VisuallyHidden",ty=C.forwardRef((t,e)=>l.jsx(Ir.span,{...t,ref:e,style:{...VU,...t.style}}));ty.displayName=WU;var GU=ty,V3="ToastProvider",[W3,YU,XU]=_O("Toast"),[EO,hue]=Cu("Toast",[XU]),[$U,ry]=EO(V3),jO=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,c]=C.useState(null),[u,h]=C.useState(0),f=C.useRef(!1),d=C.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${V3}\`. Expected non-empty \`string\`.`),l.jsx(W3.Provider,{scope:e,children:l.jsx($U,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:C.useCallback(()=>h(p=>p+1),[]),onToastRemove:C.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:s})})};jO.displayName=V3;var kO="ToastViewport",KU=["F8"],NS="toast.viewportPause",TS="toast.viewportResume",OO=C.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=KU,label:i="Notifications ({hotkey})",...a}=t,s=ry(kO,r),o=YU(r),c=C.useRef(null),u=C.useRef(null),h=C.useRef(null),f=C.useRef(null),d=Ci(e,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;C.useEffect(()=>{const y=v=>{var S;n.length!==0&&n.every(T=>v[T]||v.code===T)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),C.useEffect(()=>{const y=c.current,v=f.current;if(x&&y&&v){const b=()=>{if(!s.isClosePausedRef.current){const P=new CustomEvent(NS);v.dispatchEvent(P),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const P=new CustomEvent(TS);v.dispatchEvent(P),s.isClosePausedRef.current=!1}},T=P=>{!y.contains(P.relatedTarget)&&S()},E=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",b),y.addEventListener("focusout",T),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",T),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[x,s.isClosePausedRef]);const m=C.useCallback(({tabbingDirection:y})=>{const b=o().map(S=>{const T=S.ref.current,E=[T,...cH(T)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?b.reverse():b).flat()},[o]);return C.useEffect(()=>{const y=f.current;if(y){const v=b=>{var E,P,j;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const L=document.activeElement,F=b.shiftKey;if(b.target===y&&F){(E=u.current)==null||E.focus();return}const O=m({tabbingDirection:F?"backwards":"forwards"}),q=O.findIndex(I=>I===L);mw(O.slice(q+1))?b.preventDefault():F?(P=u.current)==null||P.focus():(j=h.current)==null||j.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[o,m]),l.jsxs(MU,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(CS,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});mw(y)}}),l.jsx(W3.Slot,{scope:r,children:l.jsx(Ir.ol,{tabIndex:-1,...a,ref:d})}),x&&l.jsx(CS,{ref:h,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});mw(y)}})]})});OO.displayName=kO;var LO="ToastFocusProxy",CS=C.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=ry(LO,r);return l.jsx(ty,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});CS.displayName=LO;var _g="Toast",QU="toast.swipeStart",JU="toast.swipeMove",ZU="toast.swipeCancel",eH="toast.swipeEnd",DO=C.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=t,[o,c]=Sg({prop:n,defaultProp:i??!0,onChange:a,caller:_g});return l.jsx(Bh,{present:r||o,children:l.jsx(nH,{open:o,...s,ref:e,onClose:()=>c(!1),onPause:lo(t.onPause),onResume:lo(t.onResume),onSwipeStart:Jr(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Jr(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Jr(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Jr(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});DO.displayName=_g;var[tH,rH]=EO(_g,{onClose(){}}),nH=C.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:p,...x}=t,m=ry(_g,r),[y,v]=C.useState(null),b=Ci(e,I=>v(I)),S=C.useRef(null),T=C.useRef(null),E=i||m.duration,P=C.useRef(0),j=C.useRef(E),L=C.useRef(0),{onToastAdd:F,onToastRemove:W}=m,D=lo(()=>{var ae;(y==null?void 0:y.contains(document.activeElement))&&((ae=m.viewport)==null||ae.focus()),s()}),O=C.useCallback(I=>{!I||I===1/0||(window.clearTimeout(L.current),P.current=new Date().getTime(),L.current=window.setTimeout(D,I))},[D]);C.useEffect(()=>{const I=m.viewport;if(I){const ae=()=>{O(j.current),u==null||u()},X=()=>{const le=new Date().getTime()-P.current;j.current=j.current-le,window.clearTimeout(L.current),c==null||c()};return I.addEventListener(NS,X),I.addEventListener(TS,ae),()=>{I.removeEventListener(NS,X),I.removeEventListener(TS,ae)}}},[m.viewport,E,c,u,O]),C.useEffect(()=>{a&&!m.isClosePausedRef.current&&O(E)},[a,E,m.isClosePausedRef,O]),C.useEffect(()=>(F(),()=>W()),[F,W]);const q=C.useMemo(()=>y?zO(y):null,[y]);return m.viewport?l.jsxs(l.Fragment,{children:[q&&l.jsx(iH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),l.jsx(tH,{scope:r,onClose:D,children:ng.createPortal(l.jsx(W3.ItemSlot,{scope:r,children:l.jsx(RU,{asChild:!0,onEscapeKeyDown:Jr(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||D(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Ir.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Jr(t.onKeyDown,I=>{I.key==="Escape"&&(o==null||o(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Jr(t.onPointerDown,I=>{I.button===0&&(S.current={x:I.clientX,y:I.clientY})}),onPointerMove:Jr(t.onPointerMove,I=>{if(!S.current)return;const ae=I.clientX-S.current.x,X=I.clientY-S.current.y,le=!!T.current,re=["left","right"].includes(m.swipeDirection),ue=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ge=re?ue(0,ae):0,Ge=re?0:ue(0,X),A=I.pointerType==="touch"?10:2,M={x:ge,y:Ge},R={originalEvent:I,delta:M};le?(T.current=M,q1(JU,f,R,{discrete:!1})):MC(M,m.swipeDirection,A)?(T.current=M,q1(QU,h,R,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(ae)>A||Math.abs(X)>A)&&(S.current=null)}),onPointerUp:Jr(t.onPointerUp,I=>{const ae=T.current,X=I.target;if(X.hasPointerCapture(I.pointerId)&&X.releasePointerCapture(I.pointerId),T.current=null,S.current=null,ae){const le=I.currentTarget,re={originalEvent:I,delta:ae};MC(ae,m.swipeDirection,m.swipeThreshold)?q1(eH,p,re,{discrete:!0}):q1(ZU,d,re,{discrete:!0}),le.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),iH=t=>{const{__scopeToast:e,children:r,...n}=t,i=ry(_g,e),[a,s]=C.useState(!1),[o,c]=C.useState(!1);return oH(()=>s(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(q3,{asChild:!0,children:l.jsx(ty,{...n,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},aH="ToastTitle",PO=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Ir.div,{...n,ref:e})});PO.displayName=aH;var sH="ToastDescription",RO=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Ir.div,{...n,ref:e})});RO.displayName=sH;var MO="ToastAction",FO=C.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(BO,{altText:r,asChild:!0,children:l.jsx(G3,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${MO}\`. Expected non-empty \`string\`.`),null)});FO.displayName=MO;var IO="ToastClose",G3=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=rH(IO,r);return l.jsx(BO,{asChild:!0,children:l.jsx(Ir.button,{type:"button",...n,ref:e,onClick:Jr(t.onClick,i.onClose)})})});G3.displayName=IO;var BO=C.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return l.jsx(Ir.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function zO(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),lH(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...zO(n))}}),e}function q1(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?NO(i,a):i.dispatchEvent(a)}var MC=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function oH(t=()=>{}){const e=lo(t);as(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function lH(t){return t.nodeType===t.ELEMENT_NODE}function cH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function mw(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var uH=jO,UO=OO,HO=DO,qO=PO,VO=RO,WO=FO,GO=G3;function YO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=YO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function XO(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=YO(t))&&(n&&(n+=" "),n+=e);return n}const FC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,IC=XO,ny=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return IC(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(u=>{const h=r==null?void 0:r[u],f=a==null?void 0:a[u];if(h===null)return null;const d=FC(h)||FC(f);return i[u][d]}),o=r&&Object.entries(r).reduce((u,h)=>{let[f,d]=h;return d===void 0||(u[f]=d),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:d,...p}=h;return Object.entries(p).every(x=>{let[m,y]=x;return Array.isArray(y)?y.includes({...a,...o}[m]):{...a,...o}[m]===y})?[...u,f,d]:u},[]);return IC(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$O=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>C.createElement("svg",{ref:c,...fH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:$O("lucide",i),...o},[...s.map(([u,h])=>C.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(t,e)=>{const r=C.forwardRef(({className:n,...i},a)=>C.createElement(dH,{ref:a,iconNode:e,className:$O(`lucide-${hH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=ft("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ft("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ft("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=ft("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=ft("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=ft("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=ft("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=ft("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=ft("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=ft("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ft("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ft("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=ft("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ft("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ft("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ft("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=ft("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ft("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=ft("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=ft("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=ft("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=ft("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=ft("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ft("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ft("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=ft("MoveVertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=ft("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ft("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ft("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=ft("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=ft("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=ft("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=ft("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ft("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ft("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=ft("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ft("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=ft("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=ft("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=ft("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ft("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=ft("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=ft("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ft("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=ft("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ft("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=ft("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=ft("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=ft("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=ft("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=ft("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ft("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=ft("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=ft("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=ft("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=ft("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ft("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=ft("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=ft("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),t_="-",nq=t=>{const e=aq(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(t_);return o[0]===""&&o.length!==1&&o.shift(),c7(o,e)||iq(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},c7=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?c7(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(t_);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},zC=/^\[(.+)\]$/,iq=t=>{if(zC.test(t)){const e=zC.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},aq=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return oq(Object.entries(t.classGroups),r).forEach(([a,s])=>{OS(s,n,a,e)}),n},OS=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:UC(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(sq(i)){OS(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{OS(s,UC(e,a),r,n)})})},UC=(t,e)=>{let r=t;return e.split(t_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},sq=t=>t.isThemeGetter,oq=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[r,i]}):t,lq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},u7="!",cq=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=o=>{const c=[];let u=0,h=0,f;for(let y=0;y<o.length;y++){let v=o[y];if(u===0){if(v===i&&(n||o.slice(y,y+a)===e)){c.push(o.slice(h,y)),h=y+a;continue}if(v==="/"){f=y;continue}}v==="["?u++:v==="]"&&u--}const d=c.length===0?o:o.substring(h),p=d.startsWith(u7),x=p?d.substring(1):d,m=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:s}):s},uq=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},hq=t=>({cache:lq(t.cacheSize),parseClassName:cq(t),...nq(t)}),fq=/\s+/,dq=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(fq);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:h,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}=r(u);let x=!!p,m=n(x?d.substring(0,p):d);if(!m){if(!x){o=u+(o.length>0?" "+o:o);continue}if(m=n(d),!m){o=u+(o.length>0?" "+o:o);continue}x=!1}const y=uq(h).join(":"),v=f?y+u7:y,b=v+m;if(a.includes(b))continue;a.push(b);const S=i(m,x);for(let T=0;T<S.length;++T){const E=S[T];a.push(v+E)}o=u+(o.length>0?" "+o:o)}return o};function pq(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=h7(e))&&(n&&(n+=" "),n+=r);return n}const h7=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=h7(t[n]))&&(r&&(r+=" "),r+=e);return r};function mq(t,...e){let r,n,i,a=s;function s(c){const u=e.reduce((h,f)=>f(h),t());return r=hq(u),n=r.cache.get,i=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const h=dq(c,r);return i(c,h),h}return function(){return a(pq.apply(null,arguments))}}const tn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},f7=/^\[(?:([a-z-]+):)?(.+)\]$/i,gq=/^\d+\/\d+$/,xq=new Set(["px","full","screen"]),vq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xl=t=>dd(t)||xq.has(t)||gq.test(t),wc=t=>b0(t,"length",kq),dd=t=>!!t&&!Number.isNaN(Number(t)),gw=t=>b0(t,"number",dd),wp=t=>!!t&&Number.isInteger(Number(t)),_q=t=>t.endsWith("%")&&dd(t.slice(0,-1)),tr=t=>f7.test(t),Sc=t=>vq.test(t),Nq=new Set(["length","size","percentage"]),Tq=t=>b0(t,Nq,d7),Cq=t=>b0(t,"position",d7),Aq=new Set(["image","url"]),Eq=t=>b0(t,Aq,Lq),jq=t=>b0(t,"",Oq),Sp=()=>!0,b0=(t,e,r)=>{const n=f7.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},kq=t=>yq.test(t)&&!bq.test(t),d7=()=>!1,Oq=t=>wq.test(t),Lq=t=>Sq.test(t),Dq=()=>{const t=tn("colors"),e=tn("spacing"),r=tn("blur"),n=tn("brightness"),i=tn("borderColor"),a=tn("borderRadius"),s=tn("borderSpacing"),o=tn("borderWidth"),c=tn("contrast"),u=tn("grayscale"),h=tn("hueRotate"),f=tn("invert"),d=tn("gap"),p=tn("gradientColorStops"),x=tn("gradientColorStopPositions"),m=tn("inset"),y=tn("margin"),v=tn("opacity"),b=tn("padding"),S=tn("saturate"),T=tn("scale"),E=tn("sepia"),P=tn("skew"),j=tn("space"),L=tn("translate"),F=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",tr,e],O=()=>[tr,e],q=()=>["",xl,wc],I=()=>["auto",dd,tr],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",tr],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ge=()=>[dd,tr];return{cacheSize:500,separator:":",theme:{colors:[Sp],spacing:[xl,wc],blur:["none","",Sc,tr],brightness:Ge(),borderColor:[t],borderRadius:["none","","full",Sc,tr],borderSpacing:O(),borderWidth:q(),contrast:Ge(),grayscale:ue(),hueRotate:Ge(),invert:ue(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[_q,wc],inset:D(),margin:D(),opacity:Ge(),padding:O(),saturate:Ge(),scale:Ge(),sepia:ue(),skew:Ge(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",tr]}],container:["container"],columns:[{columns:[Sc]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),tr]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wp,tr]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tr]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",wp,tr]}],"grid-cols":[{"grid-cols":[Sp]}],"col-start-end":[{col:["auto",{span:["full",wp,tr]},tr]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Sp]}],"row-start-end":[{row:["auto",{span:[wp,tr]},tr]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tr]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tr,e]}],"min-w":[{"min-w":[tr,e,"min","max","fit"]}],"max-w":[{"max-w":[tr,e,"none","full","min","max","fit","prose",{screen:[Sc]},Sc]}],h:[{h:[tr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Sc,wc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gw]}],"font-family":[{font:[Sp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tr]}],"line-clamp":[{"line-clamp":["none",dd,gw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xl,tr]}],"list-image":[{"list-image":["none",tr]}],"list-style-type":[{list:["none","disc","decimal",tr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xl,wc]}],"underline-offset":[{"underline-offset":["auto",xl,tr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),Cq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Eq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[xl,tr]}],"outline-w":[{outline:[xl,wc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xl,wc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sc,jq]}],"shadow-color":[{shadow:[Sp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sc,tr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tr]}],duration:[{duration:Ge()}],ease:[{ease:["linear","in","out","in-out",tr]}],delay:[{delay:Ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",tr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[wp,tr]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xl,wc,gw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Pq=mq(Dq);function Wr(...t){return Pq(XO(t))}const Rq=uH,p7=C.forwardRef(({className:t,...e},r)=>l.jsx(UO,{ref:r,className:Wr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));p7.displayName=UO.displayName;const Mq=ny("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m7=C.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(HO,{ref:n,className:Wr(Mq({variant:e}),t),...r}));m7.displayName=HO.displayName;const Fq=C.forwardRef(({className:t,...e},r)=>l.jsx(WO,{ref:r,className:Wr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Fq.displayName=WO.displayName;const g7=C.forwardRef(({className:t,...e},r)=>l.jsx(GO,{ref:r,className:Wr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx($o,{className:"h-4 w-4"})}));g7.displayName=GO.displayName;const x7=C.forwardRef(({className:t,...e},r)=>l.jsx(qO,{ref:r,className:Wr("text-sm font-semibold",t),...e}));x7.displayName=qO.displayName;const v7=C.forwardRef(({className:t,...e},r)=>l.jsx(VO,{ref:r,className:Wr("text-sm opacity-90",t),...e}));v7.displayName=VO.displayName;function Iq(){const{toasts:t}=H3();return l.jsxs(Rq,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return l.jsxs(m7,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(x7,{children:r}),n&&l.jsx(v7,{children:n})]}),i,l.jsx(g7,{})]},e)}),l.jsx(p7,{})]})}var Bq=z4[" useId ".trim().toString()]||(()=>{}),zq=0;function rm(t){const[e,r]=C.useState(Bq());return as(()=>{r(n=>n??String(zq++))},[t]),e?`radix-${e}`:""}const Uq=["top","right","bottom","left"],mu=Math.min,Ya=Math.max,Gv=Math.round,V1=Math.floor,Yo=t=>({x:t,y:t}),Hq={left:"right",right:"left",bottom:"top",top:"bottom"},qq={start:"end",end:"start"};function LS(t,e,r){return Ya(t,mu(e,r))}function Wl(t,e){return typeof t=="function"?t(e):t}function Gl(t){return t.split("-")[0]}function w0(t){return t.split("-")[1]}function r_(t){return t==="x"?"y":"x"}function n_(t){return t==="y"?"height":"width"}const Vq=new Set(["top","bottom"]);function zo(t){return Vq.has(Gl(t))?"y":"x"}function i_(t){return r_(zo(t))}function Wq(t,e,r){r===void 0&&(r=!1);const n=w0(t),i=i_(t),a=n_(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Yv(s)),[s,Yv(s)]}function Gq(t){const e=Yv(t);return[DS(t),e,DS(e)]}function DS(t){return t.replace(/start|end/g,e=>qq[e])}const HC=["left","right"],qC=["right","left"],Yq=["top","bottom"],Xq=["bottom","top"];function $q(t,e,r){switch(t){case"top":case"bottom":return r?e?qC:HC:e?HC:qC;case"left":case"right":return e?Yq:Xq;default:return[]}}function Kq(t,e,r,n){const i=w0(t);let a=$q(Gl(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(DS)))),a}function Yv(t){return t.replace(/left|right|bottom|top/g,e=>Hq[e])}function Qq(t){return{top:0,right:0,bottom:0,left:0,...t}}function y7(t){return typeof t!="number"?Qq(t):{top:t,right:t,bottom:t,left:t}}function Xv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function VC(t,e,r){let{reference:n,floating:i}=t;const a=zo(e),s=i_(e),o=n_(s),c=Gl(e),u=a==="y",h=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[o]/2-i[o]/2;let p;switch(c){case"top":p={x:h,y:n.y-i.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(w0(e)){case"start":p[s]-=d*(r&&u?-1:1);break;case"end":p[s]+=d*(r&&u?-1:1);break}return p}const Jq=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=VC(u,n,c),d=n,p={},x=0;for(let m=0;m<o.length;m++){const{name:y,fn:v}=o[m],{x:b,y:S,data:T,reset:E}=await v({x:h,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});h=b??h,f=S??f,p={...p,[y]:{...p[y],...T}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:h,y:f}=VC(u,d,c)),m=-1)}return{x:h,y:f,placement:d,strategy:i,middlewareData:p}};async function Dm(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Wl(e,t),x=y7(p),y=o[d?f==="floating"?"reference":"floating":f],v=Xv(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:c})),b=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),T=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Xv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:S,strategy:c}):b);return{top:(v.top-E.top+x.top)/T.y,bottom:(E.bottom-v.bottom+x.bottom)/T.y,left:(v.left-E.left+x.left)/T.x,right:(E.right-v.right+x.right)/T.x}}const Zq=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:c}=e,{element:u,padding:h=0}=Wl(t,e)||{};if(u==null)return{};const f=y7(h),d={x:r,y:n},p=i_(i),x=n_(p),m=await s.getDimensions(u),y=p==="y",v=y?"top":"left",b=y?"bottom":"right",S=y?"clientHeight":"clientWidth",T=a.reference[x]+a.reference[p]-d[p]-a.floating[x],E=d[p]-a.reference[p],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let j=P?P[S]:0;(!j||!await(s.isElement==null?void 0:s.isElement(P)))&&(j=o.floating[S]||a.floating[x]);const L=T/2-E/2,F=j/2-m[x]/2-1,W=mu(f[v],F),D=mu(f[b],F),O=W,q=j-m[x]-D,I=j/2-m[x]/2+L,ae=LS(O,I,q),X=!c.arrow&&w0(i)!=null&&I!==ae&&a.reference[x]/2-(I<O?W:D)-m[x]/2<0,le=X?I<O?I-O:I-q:0;return{[p]:d[p]+le,data:{[p]:ae,centerOffset:I-ae-le,...X&&{alignmentOffset:le}},reset:X}}}),eV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...y}=Wl(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Gl(i),b=zo(o),S=Gl(o)===o,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=d||(S||!m?[Yv(o)]:Gq(o)),P=x!=="none";!d&&P&&E.push(...Kq(o,m,x,T));const j=[o,...E],L=await Dm(e,y),F=[];let W=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&F.push(L[v]),f){const I=Wq(i,s,T);F.push(L[I[0]],L[I[1]])}if(W=[...W,{placement:i,overflows:F}],!F.every(I=>I<=0)){var D,O;const I=(((D=a.flip)==null?void 0:D.index)||0)+1,ae=j[I];if(ae&&(!(f==="alignment"?b!==zo(ae):!1)||W.every(re=>re.overflows[0]>0&&zo(re.placement)===b)))return{data:{index:I,overflows:W},reset:{placement:ae}};let X=(O=W.filter(le=>le.overflows[0]<=0).sort((le,re)=>le.overflows[1]-re.overflows[1])[0])==null?void 0:O.placement;if(!X)switch(p){case"bestFit":{var q;const le=(q=W.filter(re=>{if(P){const ue=zo(re.placement);return ue===b||ue==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ue=>ue>0).reduce((ue,ge)=>ue+ge,0)]).sort((re,ue)=>re[1]-ue[1])[0])==null?void 0:q[0];le&&(X=le);break}case"initialPlacement":X=o;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function WC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GC(t){return Uq.some(e=>t[e]>=0)}const tV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Wl(t,e);switch(n){case"referenceHidden":{const a=await Dm(e,{...i,elementContext:"reference"}),s=WC(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:GC(s)}}}case"escaped":{const a=await Dm(e,{...i,altBoundary:!0}),s=WC(a,r.floating);return{data:{escapedOffsets:s,escaped:GC(s)}}}default:return{}}}}},b7=new Set(["left","top"]);async function rV(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Gl(r),o=w0(r),c=zo(r)==="y",u=b7.has(s)?-1:1,h=a&&c?-1:1,f=Wl(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof x=="number"&&(p=o==="end"?x*-1:x),c?{x:p*h,y:d*u}:{x:d*u,y:p*h}}const nV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,c=await rV(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},iV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...c}=Wl(t,e),u={x:r,y:n},h=await Dm(e,c),f=zo(Gl(i)),d=r_(f);let p=u[d],x=u[f];if(a){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=p+h[y],S=p-h[v];p=LS(b,p,S)}if(s){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=x+h[y],S=x-h[v];x=LS(b,x,S)}const m=o.fn({...e,[d]:p,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[d]:a,[f]:s}}}}}},aV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Wl(t,e),h={x:r,y:n},f=zo(i),d=r_(f);let p=h[d],x=h[f];const m=Wl(o,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const S=d==="y"?"height":"width",T=a.reference[d]-a.floating[S]+y.mainAxis,E=a.reference[d]+a.reference[S]-y.mainAxis;p<T?p=T:p>E&&(p=E)}if(u){var v,b;const S=d==="y"?"width":"height",T=b7.has(Gl(i)),E=a.reference[f]-a.floating[S]+(T&&((v=s.offset)==null?void 0:v[f])||0)+(T?0:y.crossAxis),P=a.reference[f]+a.reference[S]+(T?0:((b=s.offset)==null?void 0:b[f])||0)-(T?y.crossAxis:0);x<E?x=E:x>P&&(x=P)}return{[d]:p,[f]:x}}}},sV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:c=()=>{},...u}=Wl(t,e),h=await Dm(e,u),f=Gl(i),d=w0(i),p=zo(i)==="y",{width:x,height:m}=a.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=d===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,y=d==="end"?"top":"bottom");const b=m-h.top-h.bottom,S=x-h.left-h.right,T=mu(m-h[y],b),E=mu(x-h[v],S),P=!e.middlewareData.shift;let j=T,L=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(L=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=b),P&&!d){const W=Ya(h.left,0),D=Ya(h.right,0),O=Ya(h.top,0),q=Ya(h.bottom,0);p?L=x-2*(W!==0||D!==0?W+D:Ya(h.left,h.right)):j=m-2*(O!==0||q!==0?O+q:Ya(h.top,h.bottom))}await c({...e,availableWidth:L,availableHeight:j});const F=await s.getDimensions(o.floating);return x!==F.width||m!==F.height?{reset:{rects:!0}}:{}}}};function ly(){return typeof window<"u"}function S0(t){return w7(t)?(t.nodeName||"").toLowerCase():"#document"}function ns(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tl(t){var e;return(e=(w7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function w7(t){return ly()?t instanceof Node||t instanceof ns(t).Node:!1}function co(t){return ly()?t instanceof Element||t instanceof ns(t).Element:!1}function Ko(t){return ly()?t instanceof HTMLElement||t instanceof ns(t).HTMLElement:!1}function YC(t){return!ly()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ns(t).ShadowRoot}const oV=new Set(["inline","contents"]);function Tg(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=uo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!oV.has(i)}const lV=new Set(["table","td","th"]);function cV(t){return lV.has(S0(t))}const uV=[":popover-open",":modal"];function cy(t){return uV.some(e=>{try{return t.matches(e)}catch{return!1}})}const hV=["transform","translate","scale","rotate","perspective"],fV=["transform","translate","scale","rotate","perspective","filter"],dV=["paint","layout","strict","content"];function a_(t){const e=s_(),r=co(t)?uo(t):t;return hV.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||fV.some(n=>(r.willChange||"").includes(n))||dV.some(n=>(r.contain||"").includes(n))}function pV(t){let e=gu(t);for(;Ko(e)&&!n0(e);){if(a_(e))return e;if(cy(e))return null;e=gu(e)}return null}function s_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mV=new Set(["html","body","#document"]);function n0(t){return mV.has(S0(t))}function uo(t){return ns(t).getComputedStyle(t)}function uy(t){return co(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gu(t){if(S0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YC(t)&&t.host||tl(t);return YC(e)?e.host:e}function S7(t){const e=gu(t);return n0(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ko(e)&&Tg(e)?e:S7(e)}function Pm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=S7(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=ns(i);if(a){const o=PS(s);return e.concat(s,s.visualViewport||[],Tg(i)?i:[],o&&r?Pm(o):[])}return e.concat(i,Pm(i,[],r))}function PS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _7(t){const e=uo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ko(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=Gv(r)!==a||Gv(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function o_(t){return co(t)?t:t.contextElement}function pd(t){const e=o_(t);if(!Ko(e))return Yo(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=_7(e);let s=(a?Gv(r.width):r.width)/n,o=(a?Gv(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const gV=Yo(0);function N7(t){const e=ns(t);return!s_()||!e.visualViewport?gV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xV(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ns(t)?!1:e}function Eh(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=o_(t);let s=Yo(1);e&&(n?co(n)&&(s=pd(n)):s=pd(t));const o=xV(a,r,n)?N7(a):Yo(0);let c=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,h=i.width/s.x,f=i.height/s.y;if(a){const d=ns(a),p=n&&co(n)?ns(n):n;let x=d,m=PS(x);for(;m&&n&&p!==x;){const y=pd(m),v=m.getBoundingClientRect(),b=uo(m),S=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,T=v.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,h*=y.x,f*=y.y,c+=S,u+=T,x=ns(m),m=PS(x)}}return Xv({width:h,height:f,x:c,y:u})}function l_(t,e){const r=uy(t).scrollLeft;return e?e.left+r:Eh(tl(t)).left+r}function T7(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:l_(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function vV(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=tl(n),o=e?cy(e.floating):!1;if(n===s||o&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Yo(1);const h=Yo(0),f=Ko(n);if((f||!f&&!a)&&((S0(n)!=="body"||Tg(s))&&(c=uy(n)),Ko(n))){const p=Eh(n);u=pd(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const d=s&&!f&&!a?T7(s,c,!0):Yo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+d.x,y:r.y*u.y-c.scrollTop*u.y+h.y+d.y}}function yV(t){return Array.from(t.getClientRects())}function bV(t){const e=tl(t),r=uy(t),n=t.ownerDocument.body,i=Ya(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ya(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+l_(t);const o=-r.scrollTop;return uo(n).direction==="rtl"&&(s+=Ya(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function wV(t,e){const r=ns(t),n=tl(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;const u=s_();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:o,y:c}}const SV=new Set(["absolute","fixed"]);function _V(t,e){const r=Eh(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Ko(t)?pd(t):Yo(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:s,height:o,x:c,y:u}}function XC(t,e,r){let n;if(e==="viewport")n=wV(t,r);else if(e==="document")n=bV(tl(t));else if(co(e))n=_V(e,r);else{const i=N7(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Xv(n)}function C7(t,e){const r=gu(t);return r===e||!co(r)||n0(r)?!1:uo(r).position==="fixed"||C7(r,e)}function NV(t,e){const r=e.get(t);if(r)return r;let n=Pm(t,[],!1).filter(o=>co(o)&&S0(o)!=="body"),i=null;const a=uo(t).position==="fixed";let s=a?gu(t):t;for(;co(s)&&!n0(s);){const o=uo(s),c=a_(s);!c&&o.position==="fixed"&&(i=null),(a?!c&&!i:!c&&o.position==="static"&&!!i&&SV.has(i.position)||Tg(s)&&!c&&C7(t,s))?n=n.filter(h=>h!==s):i=o,s=gu(s)}return e.set(t,n),n}function TV(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?cy(e)?[]:NV(e,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,h)=>{const f=XC(e,h,i);return u.top=Ya(f.top,u.top),u.right=mu(f.right,u.right),u.bottom=mu(f.bottom,u.bottom),u.left=Ya(f.left,u.left),u},XC(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CV(t){const{width:e,height:r}=_7(t);return{width:e,height:r}}function AV(t,e,r){const n=Ko(e),i=tl(e),a=r==="fixed",s=Eh(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const c=Yo(0);function u(){c.x=l_(i)}if(n||!n&&!a)if((S0(e)!=="body"||Tg(i))&&(o=uy(e)),n){const p=Eh(e,!0,a,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();a&&!n&&i&&u();const h=i&&!n&&!a?T7(i,o):Yo(0),f=s.left+o.scrollLeft-c.x-h.x,d=s.top+o.scrollTop-c.y-h.y;return{x:f,y:d,width:s.width,height:s.height}}function xw(t){return uo(t).position==="static"}function $C(t,e){if(!Ko(t)||uo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return tl(t)===r&&(r=r.ownerDocument.body),r}function A7(t,e){const r=ns(t);if(cy(t))return r;if(!Ko(t)){let i=gu(t);for(;i&&!n0(i);){if(co(i)&&!xw(i))return i;i=gu(i)}return r}let n=$C(t,e);for(;n&&cV(n)&&xw(n);)n=$C(n,e);return n&&n0(n)&&xw(n)&&!a_(n)?r:n||pV(t)||r}const EV=async function(t){const e=this.getOffsetParent||A7,r=this.getDimensions,n=await r(t.floating);return{reference:AV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jV(t){return uo(t).direction==="rtl"}const kV={convertOffsetParentRelativeRectToViewportRelativeRect:vV,getDocumentElement:tl,getClippingRect:TV,getOffsetParent:A7,getElementRects:EV,getClientRects:yV,getDimensions:CV,getScale:pd,isElement:co,isRTL:jV};function E7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OV(t,e){let r=null,n;const i=tl(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:h,top:f,width:d,height:p}=u;if(o||e(),!d||!p)return;const x=V1(f),m=V1(i.clientWidth-(h+d)),y=V1(i.clientHeight-(f+p)),v=V1(h),S={rootMargin:-x+"px "+-m+"px "+-y+"px "+-v+"px",threshold:Ya(0,mu(1,c))||1};let T=!0;function E(P){const j=P[0].intersectionRatio;if(j!==c){if(!T)return s();j?s(!1,j):n=setTimeout(()=>{s(!1,1e-7)},1e3)}j===1&&!E7(u,t.getBoundingClientRect())&&s(),T=!1}try{r=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,S)}r.observe(t)}return s(!0),a}function LV(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=o_(t),h=i||a?[...u?Pm(u):[],...Pm(e)]:[];h.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=u&&o?OV(u,r):null;let d=-1,p=null;s&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let x,m=c?Eh(t):null;c&&y();function y(){const v=Eh(t);m&&!E7(m,v)&&r(),m=v,x=requestAnimationFrame(y)}return r(),()=>{var v;h.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const DV=nV,PV=iV,RV=eV,MV=sV,FV=tV,KC=Zq,IV=aV,BV=(t,e,r)=>{const n=new Map,i={platform:kV,...r},a={...i.platform,_c:n};return Jq(t,e,{...i,platform:a})};var zV=typeof document<"u",UV=function(){},Qx=zV?C.useLayoutEffect:UV;function $v(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!$v(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!$v(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function j7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QC(t,e){const r=j7(t);return Math.round(e*r)/r}function vw(t){const e=C.useRef(t);return Qx(()=>{e.current=t}),e}function HV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[h,f]=C.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=C.useState(n);$v(d,n)||p(n);const[x,m]=C.useState(null),[y,v]=C.useState(null),b=C.useCallback(re=>{re!==P.current&&(P.current=re,m(re))},[]),S=C.useCallback(re=>{re!==j.current&&(j.current=re,v(re))},[]),T=a||x,E=s||y,P=C.useRef(null),j=C.useRef(null),L=C.useRef(h),F=c!=null,W=vw(c),D=vw(i),O=vw(u),q=C.useCallback(()=>{if(!P.current||!j.current)return;const re={placement:e,strategy:r,middleware:d};D.current&&(re.platform=D.current),BV(P.current,j.current,re).then(ue=>{const ge={...ue,isPositioned:O.current!==!1};I.current&&!$v(L.current,ge)&&(L.current=ge,ng.flushSync(()=>{f(ge)}))})},[d,e,r,D,O]);Qx(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,f(re=>({...re,isPositioned:!1})))},[u]);const I=C.useRef(!1);Qx(()=>(I.current=!0,()=>{I.current=!1}),[]),Qx(()=>{if(T&&(P.current=T),E&&(j.current=E),T&&E){if(W.current)return W.current(T,E,q);q()}},[T,E,q,W,F]);const ae=C.useMemo(()=>({reference:P,floating:j,setReference:b,setFloating:S}),[b,S]),X=C.useMemo(()=>({reference:T,floating:E}),[T,E]),le=C.useMemo(()=>{const re={position:r,left:0,top:0};if(!X.floating)return re;const ue=QC(X.floating,h.x),ge=QC(X.floating,h.y);return o?{...re,transform:"translate("+ue+"px, "+ge+"px)",...j7(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ue,top:ge}},[r,o,X.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:q,refs:ae,elements:X,floatingStyles:le}),[h,q,ae,X,le])}const qV=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?KC({element:n.current,padding:i}).fn(r):{}:n?KC({element:n,padding:i}).fn(r):{}}}},VV=(t,e)=>({...DV(t),options:[t,e]}),WV=(t,e)=>({...PV(t),options:[t,e]}),GV=(t,e)=>({...IV(t),options:[t,e]}),YV=(t,e)=>({...RV(t),options:[t,e]}),XV=(t,e)=>({...MV(t),options:[t,e]}),$V=(t,e)=>({...FV(t),options:[t,e]}),KV=(t,e)=>({...qV(t),options:[t,e]});var QV="Arrow",k7=C.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return l.jsx(Ir.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});k7.displayName=QV;var JV=k7;function ZV(t){const[e,r]=C.useState(void 0);return as(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var O7="Popper",[L7,D7]=Cu(O7),[fue,P7]=L7(O7),R7="PopperAnchor",M7=C.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=P7(R7,r),s=C.useRef(null),o=Ci(e,s);return C.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l.jsx(Ir.div,{...i,ref:o})});M7.displayName=R7;var c_="PopperContent",[eW,tW]=L7(c_),F7=C.forwardRef((t,e)=>{var fe,he,pe,Te,He,Qe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=t,y=P7(c_,r),[v,b]=C.useState(null),S=Ci(e,et=>b(et)),[T,E]=C.useState(null),P=ZV(T),j=(P==null?void 0:P.width)??0,L=(P==null?void 0:P.height)??0,F=n+(a!=="center"?"-"+a:""),W=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(u)?u:[u],O=D.length>0,q={padding:W,boundary:D.filter(nW),altBoundary:O},{refs:I,floatingStyles:ae,placement:X,isPositioned:le,middlewareData:re}=HV({strategy:"fixed",placement:F,whileElementsMounted:(...et)=>LV(...et,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[VV({mainAxis:i+L,alignmentAxis:s}),c&&WV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?GV():void 0,...q}),c&&YV({...q}),XV({...q,apply:({elements:et,rects:me,availableWidth:ce,availableHeight:Z})=>{const{width:je,height:Ce}=me.reference,Oe=et.floating.style;Oe.setProperty("--radix-popper-available-width",`${ce}px`),Oe.setProperty("--radix-popper-available-height",`${Z}px`),Oe.setProperty("--radix-popper-anchor-width",`${je}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),T&&KV({element:T,padding:o}),iW({arrowWidth:j,arrowHeight:L}),d&&$V({strategy:"referenceHidden",...q})]}),[ue,ge]=z7(X),Ge=lo(x);as(()=>{le&&(Ge==null||Ge())},[le,Ge]);const A=(fe=re.arrow)==null?void 0:fe.x,M=(he=re.arrow)==null?void 0:he.y,R=((pe=re.arrow)==null?void 0:pe.centerOffset)!==0,[B,Q]=C.useState();return as(()=>{v&&Q(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:le?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(Te=re.transformOrigin)==null?void 0:Te.x,(He=re.transformOrigin)==null?void 0:He.y].join(" "),...((Qe=re.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(eW,{scope:r,placedSide:ue,onArrowChange:E,arrowX:A,arrowY:M,shouldHideArrow:R,children:l.jsx(Ir.div,{"data-side":ue,"data-align":ge,...m,ref:S,style:{...m.style,animation:le?void 0:"none"}})})})});F7.displayName=c_;var I7="PopperArrow",rW={top:"bottom",right:"left",bottom:"top",left:"right"},B7=C.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=tW(I7,n),s=rW[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(JV,{...i,ref:r,style:{...i.style,display:"block"}})})});B7.displayName=I7;function nW(t){return t!==null}var iW=t=>({name:"transformOrigin",options:t,fn(e){var y,v,b;const{placement:r,rects:n,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,o=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,h]=z7(r),f={start:"0%",center:"50%",end:"100%"}[h],d=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=s?f:`${d}px`,m=`${-c}px`):u==="top"?(x=s?f:`${d}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=s?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=s?f:`${p}px`),{data:{x,y:m}}}});function z7(t){const[e,r="center"]=t.split("-");return[e,r]}var aW=M7,sW=F7,oW=B7,[hy,due]=Cu("Tooltip",[D7]),u_=D7(),U7="TooltipProvider",lW=700,JC="tooltip.open",[cW,H7]=hy(U7),q7=t=>{const{__scopeTooltip:e,delayDuration:r=lW,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=C.useRef(!0),o=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(cW,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};q7.displayName=U7;var V7="Tooltip",[pue,fy]=hy(V7),RS="TooltipTrigger",uW=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=fy(RS,r),a=H7(RS,r),s=u_(r),o=C.useRef(null),c=Ci(e,o,i.onTriggerChange),u=C.useRef(!1),h=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(aW,{asChild:!0,...s,children:l.jsx(Ir.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Jr(t.onPointerMove,d=>{d.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Jr(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Jr(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Jr(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Jr(t.onBlur,i.onClose),onClick:Jr(t.onClick,i.onClose)})})});uW.displayName=RS;var hW="TooltipPortal",[mue,fW]=hy(hW,{forceMount:void 0}),i0="TooltipContent",W7=C.forwardRef((t,e)=>{const r=fW(i0,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=fy(i0,t.__scopeTooltip);return l.jsx(Bh,{present:n||s.open,children:s.disableHoverableContent?l.jsx(G7,{side:i,...a,ref:e}):l.jsx(dW,{side:i,...a,ref:e})})}),dW=C.forwardRef((t,e)=>{const r=fy(i0,t.__scopeTooltip),n=H7(i0,t.__scopeTooltip),i=C.useRef(null),a=Ci(e,i),[s,o]=C.useState(null),{trigger:c,onClose:u}=r,h=i.current,{onPointerInTransitChange:f}=n,d=C.useCallback(()=>{o(null),f(!1)},[f]),p=C.useCallback((x,m)=>{const y=x.currentTarget,v={x:x.clientX,y:x.clientY},b=vW(v,y.getBoundingClientRect()),S=yW(v,b),T=bW(m.getBoundingClientRect()),E=SW([...S,...T]);o(E),f(!0)},[f]);return C.useEffect(()=>()=>d(),[d]),C.useEffect(()=>{if(c&&h){const x=y=>p(y,h),m=y=>p(y,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",m)}}},[c,h,p,d]),C.useEffect(()=>{if(s){const x=m=>{const y=m.target,v={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(y))||(h==null?void 0:h.contains(y)),S=!wW(v,s);b?d():S&&(d(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,s,u,d]),l.jsx(G7,{...t,ref:a})}),[pW,mW]=hy(V7,{isInside:!1}),gW=_U("TooltipContent"),G7=C.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,c=fy(i0,r),u=u_(r),{onClose:h}=c;return C.useEffect(()=>(document.addEventListener(JC,h),()=>document.removeEventListener(JC,h)),[h]),C.useEffect(()=>{if(c.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),l.jsx(ey,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(sW,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(gW,{children:n}),l.jsx(pW,{scope:r,isInside:!0,children:l.jsx(GU,{id:c.contentId,role:"tooltip",children:i||n})})]})})});W7.displayName=i0;var Y7="TooltipArrow",xW=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=u_(r);return mW(Y7,r).isInside?null:l.jsx(oW,{...i,...n,ref:e})});xW.displayName=Y7;function vW(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function yW(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function bW(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function wW(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a],c=e[s],u=o.x,h=o.y,f=c.x,d=c.y;h>n!=d>n&&r<(f-u)*(n-h)/(d-h)+u&&(i=!i)}return i}function SW(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_W(e)}function _W(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var NW=q7,X7=W7;const TW=NW,CW=C.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(X7,{ref:n,sideOffset:e,className:Wr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));CW.displayName=X7.displayName;const Mi=C.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Wr("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Mi.displayName="Card";const Ol=C.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Wr("flex flex-col space-y-1.5 p-6",t),...e}));Ol.displayName="CardHeader";const Ll=C.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Wr("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ll.displayName="CardTitle";const $7=C.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Wr("text-sm text-muted-foreground",t),...e}));$7.displayName="CardDescription";const Fi=C.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Wr("p-6 pt-0",t),...e}));Fi.displayName="CardContent";const AW=C.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Wr("flex items-center p-6 pt-0",t),...e}));AW.displayName="CardFooter";function EW(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Mi,{className:"w-full max-w-md mx-4",children:l.jsxs(Fi,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(Zd,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var K7={exports:{}},jW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kW=jW,OW=kW;function Q7(){}function J7(){}J7.resetWarningCache=Q7;var LW=function(){function t(n,i,a,s,o,c){if(c!==OW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:J7,resetWarningCache:Q7};return r.PropTypes=r,r};K7.exports=LW();var DW=K7.exports;const Bt=h0(DW);function PW(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Z7=C,RW=PW(Z7);function ZC(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var FW=!!(typeof window<"u"&&window.document&&window.document.createElement);function IW(t,e,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],o;function c(){o=t(s.map(function(h){return h.props})),u.canUseDOM?e(o):r&&(o=r(o))}var u=function(h){MW(f,h);function f(){return h.apply(this,arguments)||this}f.peek=function(){return o},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=o;return o=void 0,s=[],x};var d=f.prototype;return d.UNSAFE_componentWillMount=function(){s.push(this),c()},d.componentDidUpdate=function(){c()},d.componentWillUnmount=function(){var x=s.indexOf(this);s.splice(x,1),c()},d.render=function(){return RW.createElement(a,this.props)},f}(Z7.PureComponent);return ZC(u,"displayName","SideEffect("+n(a)+")"),ZC(u,"canUseDOM",FW),u}}var BW=IW;const zW=h0(BW);var UW=typeof Element<"u",HW=typeof Map=="function",qW=typeof Set=="function",VW=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Jx(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!Jx(t[n],e[n]))return!1;return!0}var a;if(HW&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;for(a=t.entries();!(n=a.next()).done;)if(!Jx(n.value[1],e.get(n.value[0])))return!1;return!0}if(qW&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(VW&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;if(UW&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&t.$$typeof)&&!Jx(t[i[n]],e[i[n]]))return!1;return!0}return t!==t&&e!==e}var WW=function(e,r){try{return Jx(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const GW=h0(WW);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var eA=Object.getOwnPropertySymbols,YW=Object.prototype.hasOwnProperty,XW=Object.prototype.propertyIsEnumerable;function $W(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function KW(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var QW=KW()?Object.assign:function(t,e){for(var r,n=$W(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var s in r)YW.call(r,s)&&(n[s]=r[s]);if(eA){i=eA(r);for(var o=0;o<i.length;o++)XW.call(r,i[o])&&(n[i[o]]=r[i[o]])}}return n};const JW=h0(QW);var gh={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Qt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Qt).map(function(t){return Qt[t]});var on={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Kv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Rm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},ZW=Object.keys(Kv).reduce(function(t,e){return t[Kv[e]]=e,t},{}),eG=[Qt.NOSCRIPT,Qt.SCRIPT,Qt.STYLE],to="data-react-helmet",tG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rG=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},nG=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),da=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iG=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},tA=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},aG=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},MS=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},sG=function(e){var r=md(e,Qt.TITLE),n=md(e,Rm.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=md(e,Rm.DEFAULT_TITLE);return r||i||void 0},oG=function(e){return md(e,Rm.ON_CHANGE_CLIENT_STATE)||function(){}},yw=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,i){return da({},n,i)},{})},lG=function(e,r){return r.filter(function(n){return typeof n[Qt.BASE]<"u"}).map(function(n){return n[Qt.BASE]}).reverse().reduce(function(n,i){if(!n.length)for(var a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],c=o.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return n.concat(i)}return n},[])},_p=function(e,r,n){var i={};return n.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&fG("Helmet: "+e+' should be of type "Array". Instead found type "'+tG(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,s){var o={};s.filter(function(d){for(var p=void 0,x=Object.keys(d),m=0;m<x.length;m++){var y=x[m],v=y.toLowerCase();r.indexOf(v)!==-1&&!(p===on.REL&&d[p].toLowerCase()==="canonical")&&!(v===on.REL&&d[v].toLowerCase()==="stylesheet")&&(p=v),r.indexOf(y)!==-1&&(y===on.INNER_HTML||y===on.CSS_TEXT||y===on.ITEM_PROP)&&(p=y)}if(!p||!d[p])return!1;var b=d[p].toLowerCase();return i[p]||(i[p]={}),o[p]||(o[p]={}),i[p][b]?!1:(o[p][b]=!0,!0)}).reverse().forEach(function(d){return a.push(d)});for(var c=Object.keys(o),u=0;u<c.length;u++){var h=c[u],f=JW({},i[h],o[h]);i[h]=f}return a},[]).reverse()},md=function(e,r){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.hasOwnProperty(r))return i[r]}return null},cG=function(e){return{baseTag:lG([on.HREF,on.TARGET],e),bodyAttributes:yw(gh.BODY,e),defer:md(e,Rm.DEFER),encode:md(e,Rm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:yw(gh.HTML,e),linkTags:_p(Qt.LINK,[on.REL,on.HREF],e),metaTags:_p(Qt.META,[on.NAME,on.CHARSET,on.HTTPEQUIV,on.PROPERTY,on.ITEM_PROP],e),noscriptTags:_p(Qt.NOSCRIPT,[on.INNER_HTML],e),onChangeClientState:oG(e),scriptTags:_p(Qt.SCRIPT,[on.SRC,on.INNER_HTML],e),styleTags:_p(Qt.STYLE,[on.CSS_TEXT],e),title:sG(e),titleAttributes:yw(gh.TITLE,e)}},FS=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){FS(e)},0)}}(),rA=function(e){return clearTimeout(e)},uG=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||FS:global.requestAnimationFrame||FS,hG=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||rA:global.cancelAnimationFrame||rA,fG=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Np=null,dG=function(e){Np&&hG(Np),e.defer?Np=uG(function(){nA(e,function(){Np=null})}):(nA(e),Np=null)},nA=function(e,r){var n=e.baseTag,i=e.bodyAttributes,a=e.htmlAttributes,s=e.linkTags,o=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,h=e.scriptTags,f=e.styleTags,d=e.title,p=e.titleAttributes;IS(Qt.BODY,i),IS(Qt.HTML,a),pG(d,p);var x={baseTag:wf(Qt.BASE,n),linkTags:wf(Qt.LINK,s),metaTags:wf(Qt.META,o),noscriptTags:wf(Qt.NOSCRIPT,c),scriptTags:wf(Qt.SCRIPT,h),styleTags:wf(Qt.STYLE,f)},m={},y={};Object.keys(x).forEach(function(v){var b=x[v],S=b.newTags,T=b.oldTags;S.length&&(m[v]=S),T.length&&(y[v]=x[v].oldTags)}),r&&r(),u(e,m,y)},eL=function(e){return Array.isArray(e)?e.join(""):e},pG=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=eL(e)),IS(Qt.TITLE,r)},IS=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var i=n.getAttribute(to),a=i?i.split(","):[],s=[].concat(a),o=Object.keys(r),c=0;c<o.length;c++){var u=o[c],h=r[u]||"";n.getAttribute(u)!==h&&n.setAttribute(u,h),a.indexOf(u)===-1&&a.push(u);var f=s.indexOf(u);f!==-1&&s.splice(f,1)}for(var d=s.length-1;d>=0;d--)n.removeAttribute(s[d]);a.length===s.length?n.removeAttribute(to):n.getAttribute(to)!==o.join(",")&&n.setAttribute(to,o.join(","))}},wf=function(e,r){var n=document.head||document.querySelector(Qt.HEAD),i=n.querySelectorAll(e+"["+to+"]"),a=Array.prototype.slice.call(i),s=[],o=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var h in c)if(c.hasOwnProperty(h))if(h===on.INNER_HTML)u.innerHTML=c.innerHTML;else if(h===on.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[h]>"u"?"":c[h];u.setAttribute(h,f)}u.setAttribute(to,"true"),a.some(function(d,p){return o=p,u.isEqualNode(d)})?a.splice(o,1):s.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),s.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:s}},tL=function(e){return Object.keys(e).reduce(function(r,n){var i=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+i:i},"")},mG=function(e,r,n,i){var a=tL(n),s=eL(r);return a?"<"+e+" "+to+'="true" '+a+">"+MS(s,i)+"</"+e+">":"<"+e+" "+to+'="true">'+MS(s,i)+"</"+e+">"},gG=function(e,r,n){return r.reduce(function(i,a){var s=Object.keys(a).filter(function(u){return!(u===on.INNER_HTML||u===on.CSS_TEXT)}).reduce(function(u,h){var f=typeof a[h]>"u"?h:h+'="'+MS(a[h],n)+'"';return u?u+" "+f:f},""),o=a.innerHTML||a.cssText||"",c=eG.indexOf(e)===-1;return i+"<"+e+" "+to+'="true" '+s+(c?"/>":">"+o+"</"+e+">")},"")},rL=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,i){return n[Kv[i]||i]=e[i],n},r)},xG=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,i){return n[ZW[i]||i]=e[i],n},r)},vG=function(e,r,n){var i,a=(i={key:r},i[to]=!0,i),s=rL(n,a);return[It.createElement(Qt.TITLE,s,r)]},yG=function(e,r){return r.map(function(n,i){var a,s=(a={key:i},a[to]=!0,a);return Object.keys(n).forEach(function(o){var c=Kv[o]||o;if(c===on.INNER_HTML||c===on.CSS_TEXT){var u=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:u}}else s[c]=n[o]}),It.createElement(e,s)})},vl=function(e,r,n){switch(e){case Qt.TITLE:return{toComponent:function(){return vG(e,r.title,r.titleAttributes)},toString:function(){return mG(e,r.title,r.titleAttributes,n)}};case gh.BODY:case gh.HTML:return{toComponent:function(){return rL(r)},toString:function(){return tL(r)}};default:return{toComponent:function(){return yG(e,r)},toString:function(){return gG(e,r,n)}}}},nL=function(e){var r=e.baseTag,n=e.bodyAttributes,i=e.encode,a=e.htmlAttributes,s=e.linkTags,o=e.metaTags,c=e.noscriptTags,u=e.scriptTags,h=e.styleTags,f=e.title,d=f===void 0?"":f,p=e.titleAttributes;return{base:vl(Qt.BASE,r,i),bodyAttributes:vl(gh.BODY,n,i),htmlAttributes:vl(gh.HTML,a,i),link:vl(Qt.LINK,s,i),meta:vl(Qt.META,o,i),noscript:vl(Qt.NOSCRIPT,c,i),script:vl(Qt.SCRIPT,u,i),style:vl(Qt.STYLE,h,i),title:vl(Qt.TITLE,{title:d,titleAttributes:p},i)}},bG=function(e){var r,n;return n=r=function(i){iG(a,i);function a(){return rG(this,a),aG(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(o){return!GW(this.props,o)},a.prototype.mapNestedChildrenToProps=function(o,c){if(!c)return null;switch(o.type){case Qt.SCRIPT:case Qt.NOSCRIPT:return{innerHTML:c};case Qt.STYLE:return{cssText:c}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(o){var c,u=o.child,h=o.arrayTypeChildren,f=o.newChildProps,d=o.nestedChildren;return da({},h,(c={},c[u.type]=[].concat(h[u.type]||[],[da({},f,this.mapNestedChildrenToProps(u,d))]),c))},a.prototype.mapObjectTypeChildren=function(o){var c,u,h=o.child,f=o.newProps,d=o.newChildProps,p=o.nestedChildren;switch(h.type){case Qt.TITLE:return da({},f,(c={},c[h.type]=p,c.titleAttributes=da({},d),c));case Qt.BODY:return da({},f,{bodyAttributes:da({},d)});case Qt.HTML:return da({},f,{htmlAttributes:da({},d)})}return da({},f,(u={},u[h.type]=da({},d),u))},a.prototype.mapArrayTypeChildrenToProps=function(o,c){var u=da({},c);return Object.keys(o).forEach(function(h){var f;u=da({},u,(f={},f[h]=o[h],f))}),u},a.prototype.warnOnInvalidChildren=function(o,c){return!0},a.prototype.mapChildrenToProps=function(o,c){var u=this,h={};return It.Children.forEach(o,function(f){if(!(!f||!f.props)){var d=f.props,p=d.children,x=tA(d,["children"]),m=xG(x);switch(u.warnOnInvalidChildren(f,p),f.type){case Qt.LINK:case Qt.META:case Qt.NOSCRIPT:case Qt.SCRIPT:case Qt.STYLE:h=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:h,newChildProps:m,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:m,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(h,c),c},a.prototype.render=function(){var o=this.props,c=o.children,u=tA(o,["children"]),h=da({},u);return c&&(h=this.mapChildrenToProps(c,h)),It.createElement(e,h)},nG(a,null,[{key:"canUseDOM",set:function(o){e.canUseDOM=o}}]),a}(It.Component),r.propTypes={base:Bt.object,bodyAttributes:Bt.object,children:Bt.oneOfType([Bt.arrayOf(Bt.node),Bt.node]),defaultTitle:Bt.string,defer:Bt.bool,encodeSpecialCharacters:Bt.bool,htmlAttributes:Bt.object,link:Bt.arrayOf(Bt.object),meta:Bt.arrayOf(Bt.object),noscript:Bt.arrayOf(Bt.object),onChangeClientState:Bt.func,script:Bt.arrayOf(Bt.object),style:Bt.arrayOf(Bt.object),title:Bt.string,titleAttributes:Bt.object,titleTemplate:Bt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var i=e.rewind();return i||(i=nL({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},n},wG=function(){return null},SG=zW(cG,dG,nL)(wG),Qv=bG(SG);Qv.renderStatic=Qv.rewind;const _G=ny("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$t=C.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?wU:"button";return l.jsx(s,{className:Wr(_G({variant:e,size:r,className:t})),ref:a,...i})});$t.displayName="Button";const NG=""+new URL("Viewport image-B8bfqedJ.png",import.meta.url).href;function TG(){const[t,e]=C.useState(!1),[r,n]=C.useState(0),[i,a]=C.useState(!1),[s,o]=C.useState(!1),c=["/tshirts-new/9.png","/tshirts-new/10.png","/tshirts-new/11.png","/tshirts-new/12.png","/tshirts-new/13.png","/tshirts-new/14.png"],u=["/tshirts-new/9.jpg","/tshirts-new/10.jpg","/tshirts-new/11.jpg","/tshirts-new/12.jpg","/tshirts-new/13.jpg","/tshirts-new/14.jpg"],h=C.useCallback(()=>{n(p=>(p+1)%c.length)},[c.length]),f=C.useCallback(()=>{n(p=>(p-1+c.length)%c.length)},[c.length]);C.useEffect(()=>{if(i)return;const p=setInterval(()=>{h()},4e3);return()=>clearInterval(p)},[h,i]);const d=()=>{a(!0),setTimeout(()=>a(!1),15e3)};return C.useEffect(()=>{e(!0)},[]),l.jsxs("section",{className:"relative bg-cover bg-center min-h-screen h-screen flex items-center pt-16 md:pt-20 pb-8 md:pb-10 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.5)), url(${NG})`,backgroundSize:"cover",backgroundPosition:"center"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/8 via-red-500/6 to-blue-500/8"}),l.jsx("div",{className:"container mx-auto px-4 h-full",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center h-full",children:[l.jsxs("div",{className:"w-full md:w-1/2 md:pl-12 lg:pl-24 text-center md:text-left flex flex-col justify-center",children:[l.jsxs("h1",{className:`text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight transition-all duration-1000 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[l.jsxs("div",{className:"inline-block relative",children:[l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-red-600 drop-shadow-[0_2px_3px_rgba(249,115,22,0.5)]",children:"Unleash Your Passion."}),l.jsx("div",{className:"absolute -right-8 -top-7 text-yellow-400 animate-pulse-slow",children:l.jsx(e_,{className:"h-6 w-6"})})]}),l.jsx("br",{}),l.jsx("span",{className:`text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] transition-all duration-1000 delay-300 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:"Wear Your Power."})]}),l.jsx("p",{className:`mt-6 text-lg text-gray-200 mx-auto md:mx-0 max-w-lg transition-all duration-1000 delay-500 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:"Transform your anime fandom into wearable art with our premium customized products featuring your favorite legendary characters and epic designs."}),l.jsx("div",{className:`mt-8 transition-all duration-1000 delay-700 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:l.jsx($t,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 inline-flex items-center px-8 py-4 rounded-full shadow-lg hover:shadow-orange-600/30 transform hover:-translate-y-1 transition-all duration-300",children:l.jsxs(yr,{href:"/customize",children:["Create Your Design",l.jsx(Bn,{className:"ml-2 h-5 w-5"})]})})})]}),l.jsx("div",{className:"w-full md:w-1/2 flex justify-center md:justify-end mt-8 md:mt-0 items-center",children:l.jsx("div",{className:`relative transition-all duration-1000 delay-300 ease-out ${t?"opacity-100 scale-100":"opacity-0 scale-90"}`,style:{marginRight:"0.8cm"},children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md p-4 md:p-6 rounded-2xl border border-white/10 shadow-2xl hover:shadow-lg hover:translate-y-[-2px] transition-all duration-500 ease-out max-w-[550px] w-full",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl aspect-square group",style:{boxShadow:"0 0 20px rgba(0,0,0,0.15)"},onMouseEnter:d,onTouchStart:d,children:[l.jsx("div",{className:"absolute inset-0 bg-black/5 overflow-hidden rounded-3xl",children:l.jsx("div",{className:"w-full h-full opacity-5 bg-gradient-to-br from-white/3 to-transparent"})}),l.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-red-600/20 to-red-900/10",children:l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[s&&l.jsx("div",{className:"z-10 flex items-center justify-center bg-gray-800 rounded-lg p-8 text-white",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:"🎨"}),l.jsx("div",{className:"text-sm",children:"Loading design..."})]})}),l.jsx("img",{src:c[r],alt:`Anime themed product ${r+1}`,className:`z-10 ${s?"hidden":""}`,style:{filter:"drop-shadow(0 10px 8px rgb(0 0 0 / 0.2))",width:"360px",maxWidth:"none",height:"auto",transition:"opacity 0.5s ease"},loading:"lazy",onError:p=>{console.warn("Failed to load image:",c[r]),o(!0);const x=p.target,m=parseInt(x.dataset.retryCount||"0");if(x.src.includes(".png")&&m<2)x.dataset.retryCount=(m+1).toString(),setTimeout(()=>{x.src=x.src},1e3);else if(x.src.includes(".png"))x.src=x.src.replace(".png",".jpg"),x.dataset.retryCount="0";else if(x.src.includes(".jpg")){const y=Math.floor(Math.random()*u.length);x.src=u[y]}},onLoad:()=>o(!1)})]})}),l.jsx("button",{onClick:()=>{f(),d()},className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20","aria-label":"Previous image",children:l.jsx(Y3,{size:18})}),l.jsx("button",{onClick:()=>{h(),d()},className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20","aria-label":"Next image",children:l.jsx(X3,{size:18})}),l.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-1 z-20",children:c.map((p,x)=>l.jsx("button",{onClick:()=>{n(x),d()},className:`w-1.5 h-1.5 md:w-2 md:h-2 rounded-full transition-all ${r===x?"bg-white":"bg-white/50"}`,"aria-label":`Go to image ${x+1}`},x))})]}),l.jsxs("div",{className:"mt-3 md:mt-4 bg-gradient-to-r from-black/70 to-black/60 backdrop-blur-sm p-3 md:p-4 rounded-lg text-white",children:[l.jsx("p",{className:"font-bold text-base md:text-lg",children:"Limited Edition Designs"}),l.jsx("p",{className:"text-gray-300 mt-1 text-sm md:text-base",children:"Premium quality prints on multiple products"}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx("div",{className:"flex -space-x-2",children:[...Array(4)].map((p,x)=>l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-800",style:{backgroundImage:`url(https://i.pravatar.cc/100?img=${x+10})`,backgroundSize:"cover",transform:`translateX(${x*5}px)`}},x))}),l.jsx("span",{className:"ml-4 text-sm text-gray-300",children:"250+ customers"})]})]})]})})})]})})]})}const iA=[{id:"regular",title:"Regular T-Shirts",description:"Premium cotton tees with anime designs",frontImageUrl:"https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1622445275576-721325763afe?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"tshirt",price:"₹599",rating:4.8,reviews:234},{id:"oversized",title:"Oversized T-Shirts",description:"Relaxed fit tees for maximum comfort",frontImageUrl:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1618354691373-d851c5c3a990?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"tshirt",price:"₹699",rating:4.9,reviews:189},{id:"polo",title:"Polo T-Shirts",description:"Elegant polos with embroidered designs",frontImageUrl:"https://images.unsplash.com/photo-1589831377283-33cb1cc6bd5d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1588117305388-c2631a279f82?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"tshirt",price:"₹799",rating:4.7,reviews:156},{id:"phone-covers",title:"Phone Covers",description:"Durable cases with anime artwork",frontImageUrl:"https://images.unsplash.com/photo-1606041011872-596597976b25?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1541345023926-55d6e0853f4b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"other",price:"₹399",rating:4.6,reviews:312},{id:"plates",title:"Plates",description:"Ceramic plates with anime designs",frontImageUrl:"https://images.pexels.com/photos/6373307/pexels-photo-6373307.jpeg?auto=compress&cs=tinysrgb&w=600&h=400",backImageUrl:"https://images.pexels.com/photos/5702993/pexels-photo-5702993.jpeg?auto=compress&cs=tinysrgb&w=600&h=400",type:"other",price:"₹499",rating:4.5,reviews:89},{id:"bottles",title:"Bottles",description:"Anime-themed water bottles",frontImageUrl:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1589365278144-c9e705f843ba?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"other",price:"₹299",rating:4.4,reviews:167}],CG=It.memo(({src:t,alt:e,className:r="",fallbackSrc:n="https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",onError:i,onLoad:a})=>{const[s,o]=C.useState(t),[c,u]=C.useState(!1),[h,f]=C.useState(!0),d=C.useCallback(()=>{!c&&s!==n?(o(n),u(!0)):(f(!1),i==null||i())},[c,s,n,i]),p=C.useCallback(()=>{f(!1),a==null||a()},[a]);return l.jsxs("div",{className:`relative ${r}`,children:[h&&l.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),l.jsx("img",{src:s,alt:e,className:`transition-opacity duration-300 ${h?"opacity-0":"opacity-100"} ${r}`,loading:"lazy",onError:d,onLoad:p,style:{transform:"translateZ(0)",willChange:"transform",backfaceVisibility:"hidden"}})]})});CG.displayName="OptimizedProductImage";const iL=It.memo(({category:t,isVisible:e,isHovered:r,isLiked:n,onMouseEnter:i,onMouseLeave:a,onToggleLike:s,onExploreDesigns:o})=>{const[c,u]=C.useState(!1);return C.useCallback(()=>{u(!0)},[]),l.jsx("div",{className:`transition-all duration-700 transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${Math.random()*500}ms`},children:l.jsxs(Mi,{className:"group relative bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 border-0",children:[l.jsxs("div",{className:"relative h-64 overflow-hidden cursor-pointer",onMouseEnter:i,onMouseLeave:a,children:[c?l.jsx("div",{className:"h-full flex items-center justify-center bg-gray-200 text-gray-600",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:"📦"}),l.jsx("div",{className:"text-sm",children:"Product Loading..."})]})}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:t.frontImageUrl,alt:`${t.title} front view`,className:`absolute w-full h-full object-cover transition-all duration-700 ease-out transform group-hover:scale-110 ${r?"opacity-0 scale-105":"opacity-100"}`,loading:"lazy"}),l.jsx("img",{src:t.backImageUrl,alt:`${t.title} back view`,className:`absolute w-full h-full object-cover transition-all duration-700 ease-out transform group-hover:scale-110 ${r?"opacity-100 scale-105":"opacity-0"}`,loading:"lazy"})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500"}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white shadow-lg ${t.type==="tshirt"?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-emerald-500 to-teal-600"}`,children:t.type==="tshirt"?"Apparel":"Merchandise"})}),l.jsx("button",{onClick:h=>{h.stopPropagation(),s()},className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-300",children:l.jsx(ks,{className:`w-5 h-5 transition-all duration-300 ${n?"fill-red-500 text-red-500":"text-gray-600 hover:text-red-500"}`})}),l.jsx("div",{className:`absolute bottom-4 left-4 right-4 text-center transition-all duration-300 ${r?"opacity-0 translate-y-2":"opacity-100"}`,children:l.jsx("div",{className:"inline-block px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-white text-sm font-medium",children:"Hover to see back view"})})]}),l.jsxs(Fi,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.title}),l.jsx("span",{className:"text-2xl font-bold text-purple-600",children:t.price})]}),l.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:t.description}),l.jsxs("div",{className:"flex items-center mb-4 space-x-2",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((h,f)=>l.jsx(Ah,{className:`w-4 h-4 ${f<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},f))}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.rating}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.reviews," reviews)"]})]}),l.jsxs($t,{onClick:o,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3 rounded-2xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl group",children:[l.jsx("span",{className:"mr-2",children:"Explore Designs"}),l.jsx(Bn,{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-1"})]})]})]})})});iL.displayName="ProductCard";function AG(){const[t,e]=C.useState({}),[r,n]=C.useState({}),[i,a]=C.useState({}),[s,o]=C.useState(!1);C.useEffect(()=>{try{const d=iA.map((p,x)=>setTimeout(()=>{n(m=>({...m,[p.id]:!0}))},150*x));return()=>{d.forEach(p=>clearTimeout(p))}}catch(d){console.error("Visibility effect error:",d),o(!0)}},[]);const c=C.useCallback(d=>{e(p=>({...p,[d]:!0}))},[]),u=C.useCallback(d=>{e(p=>({...p,[d]:!1}))},[]),h=C.useCallback(d=>{a(p=>({...p,[d]:!p[d]}))},[]),f=C.useCallback(d=>{try{window.location.href=`/products?category=${d}`}catch(p){console.error("Navigation error:",p)}},[]);return s?l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Anime Inspired Products"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"Discover our premium collection of anime-themed products"}),l.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Retry Loading"})]})})}):l.jsx("section",{id:"products",className:"py-20 bg-gradient-to-br from-slate-50 via-white to-slate-100 min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full text-purple-700 text-sm font-medium mb-6",children:[l.jsx(du,{className:"w-4 h-4 mr-2"}),"Premium Collection"]}),l.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-4",children:["Anime-Inspired",l.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:"Products"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Express your passion for anime with our premium quality customizable merchandise"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:iA.map((d,p)=>l.jsx(iL,{category:d,isVisible:r[d.id]||!1,isHovered:t[d.id]||!1,isLiked:i[d.id]||!1,onMouseEnter:()=>c(d.id),onMouseLeave:()=>u(d.id),onToggleLike:()=>h(d.id),onExploreDesigns:()=>f(d.id)},d.id))}),l.jsx("div",{className:"text-center mt-16",children:l.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-white rounded-full shadow-lg",children:[l.jsx("span",{className:"text-gray-600 mr-2",children:"✨"}),l.jsx("span",{className:"text-gray-700 font-medium",children:"New designs added weekly"})]})})]})})}const aA=[{icon:l.jsx(GH,{className:"h-6 w-6"}),title:"Premium Fabric & Printing",description:"High-quality materials that perfectly showcase your favorite anime designs with vibrant, durable prints.",bgColor:"bg-red-600/10 text-red-600",borderColor:"border-red-500/20"},{icon:l.jsx(Q3,{className:"h-6 w-6"}),title:"High-Resolution 3D Mockups",description:"Preview your designs with realistic 3D mockups before ordering to ensure perfect placement.",bgColor:"bg-purple-500/10 text-purple-500",borderColor:"border-purple-500/20"},{icon:l.jsx(y0,{className:"h-6 w-6"}),title:"Global Shipping",description:"Fast and reliable worldwide shipping to bring your anime merchandise anywhere in the world.",bgColor:"bg-blue-500/10 text-blue-500",borderColor:"border-blue-500/20"},{icon:l.jsx(EH,{className:"h-6 w-6"}),title:"Anime-Focused Community",description:"Join our community of anime enthusiasts sharing their passion through custom merchandise.",bgColor:"bg-amber-500/10 text-amber-500",borderColor:"border-amber-500/20"},{icon:l.jsx(ZH,{className:"h-6 w-6"}),title:"Multi-Position Design Options",description:"Place your designs on multiple positions of the same product for unique, personalized items.",bgColor:"bg-emerald-500/10 text-emerald-500",borderColor:"border-emerald-500/20"}];function EG(){const[t,e]=C.useState({});return C.useEffect(()=>{const r=aA.map((n,i)=>setTimeout(()=>{e(a=>({...a,[i]:!0}))},100*i));return()=>{r.forEach(n=>clearTimeout(n))}},[]),l.jsxs("section",{className:"py-16 bg-gray-900 text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1607604276583-eef5d076aa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080&q=80')] bg-fixed bg-center bg-no-repeat opacity-5"}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-gray-900 to-transparent"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gray-900 to-transparent"}),l.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-red-600/5 rounded-full blur-3xl animate-pulse-slow"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-blue-600/5 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"1.5s"}}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-extrabold inline-block relative",children:["Why Choose ",l.jsx("span",{className:"text-red-600 drop-shadow-sm",children:"ANIME"})," ",l.jsx("span",{className:"text-white ml-2",children:"INDIA"}),"?",l.jsx("div",{className:"absolute -right-8 -top-5 text-yellow-400 animate-pulse-slow",children:l.jsx(e_,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"mt-2 h-1 w-24 bg-gradient-to-r from-red-500 to-red-400 rounded-full mx-auto"}),l.jsx("p",{className:"mt-6 text-lg text-gray-300 max-w-2xl mx-auto",children:"We're dedicated to helping anime fans express their passion through high-quality merchandise"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:aA.map((r,n)=>l.jsx("div",{className:`transition-all duration-700 transform ${t[n]?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${n*100}ms`},children:l.jsxs(Mi,{className:"bg-gray-800/80 backdrop-blur-sm border border-gray-700/50 hover:border-gray-600/70 shadow-lg hover:shadow-xl hover:shadow-red-600/5 transition-all group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-700/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs(Fi,{className:"p-6 text-center relative z-10",children:[l.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${r.bgColor} ${r.borderColor} border mb-5 mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300`,children:r.icon}),l.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-red-100 transition-colors",children:r.title}),l.jsx("p",{className:"mt-4 text-gray-300 leading-relaxed",children:r.description})]})]})},n))})]})]})}function jG(){return Z8.useSyncExternalStore(kG,()=>!0,()=>!1)}function kG(){return()=>{}}var h_="Avatar",[OG,gue]=Cu(h_),[LG,aL]=OG(h_),sL=C.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=C.useState("idle");return l.jsx(LG,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Ir.span,{...n,ref:e})})});sL.displayName=h_;var oL="AvatarImage",lL=C.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,s=aL(oL,r),o=DG(n,a),c=lo(u=>{i(u),s.onImageLoadingStatusChange(u)});return as(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Ir.img,{...a,ref:e,src:n}):null});lL.displayName=oL;var cL="AvatarFallback",uL=C.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=aL(cL,r),[s,o]=C.useState(n===void 0);return C.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&a.imageLoadingStatus!=="loaded"?l.jsx(Ir.span,{...i,ref:e}):null});uL.displayName=cL;function sA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function DG(t,{referrerPolicy:e,crossOrigin:r}){const n=jG(),i=C.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[s,o]=C.useState(()=>sA(a,t));return as(()=>{o(sA(a,t))},[a,t]),as(()=>{const c=f=>()=>{o(f)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,r,e]),s}var hL=sL,fL=lL,dL=uL;const f_=C.forwardRef(({className:t,...e},r)=>l.jsx(hL,{ref:r,className:Wr("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));f_.displayName=hL.displayName;const pL=C.forwardRef(({className:t,...e},r)=>l.jsx(fL,{ref:r,className:Wr("aspect-square h-full w-full",t),...e}));pL.displayName=fL.displayName;const d_=C.forwardRef(({className:t,...e},r)=>l.jsx(dL,{ref:r,className:Wr("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));d_.displayName=dL.displayName;const Tp=[{id:1,text:"The Demon Slayer design on my t-shirt is incredible! Perfect print quality that captures all the details and vibrant colors. Even after multiple washes, it still looks amazing.",stars:5,productImage:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Arjun Sharma",role:"Anime T-Shirt Enthusiast",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"2 weeks ago",helpfulCount:24},{id:2,text:"Just received my custom My Hero Academia phone case and it's beyond perfect! The design tool made it so easy to position the artwork. Will be ordering more anime merch soon!",stars:5,productImage:"https://images.unsplash.com/photo-1606041011872-596597976b25?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Priya Patel",role:"Cosplay Enthusiast",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"1 month ago",helpfulCount:18},{id:3,text:"Ordered oversized tees with Naruto designs for our anime club, and they were a massive hit! The 3D preview feature helped me perfect the design placement before ordering.",stars:4.5,productImage:"https://images.unsplash.com/photo-1621799754526-a0d52c49fad5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Vikram Mehta",role:"Anime Club President",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"3 weeks ago",helpfulCount:31},{id:4,text:"My custom Attack on Titan water bottle gets compliments everywhere I go! The print quality is exceptional and the design tool made it easy to get the artwork placed perfectly.",stars:5,productImage:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Anjali Kumar",role:"Anime Collector",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"5 days ago",helpfulCount:12},{id:5,text:"The quality exceeded my expectations! Got a custom Jujutsu Kaisen hoodie and the colors are so vibrant. Fast shipping and amazing customer service too!",stars:5,productImage:"https://images.unsplash.com/photo-1556821840-3a9c6dcb0c88?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Rohit Singh",role:"Manga Reader",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"1 week ago",helpfulCount:15},{id:6,text:"Love my One Piece themed plate set! Perfect for my anime room setup. The designs are crisp and the quality is restaurant-grade. Highly recommend!",stars:4.5,productImage:"https://images.pexels.com/photos/6373307/pexels-photo-6373307.jpeg?auto=compress&cs=tinysrgb&w=600&h=400",customer:{name:"Sakshi Gupta",role:"Anime Merchandise Lover",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"2 months ago",helpfulCount:22}];function PG(){const[t,e]=C.useState([]),[r,n]=C.useState(null);C.useEffect(()=>{const o=setInterval(()=>{e(c=>c.length<Tp.length?[...c,c.length]:c)},200);return()=>clearInterval(o)},[]);const i=o=>Array.from({length:5}).map((c,u)=>{const h=u<Math.floor(o),f=u===Math.floor(o)&&o%1!==0;return l.jsxs("div",{className:"relative",children:[l.jsx(Ah,{className:"h-5 w-5 text-gray-300",fill:"currentColor"}),(h||f)&&l.jsx(Ah,{className:"h-5 w-5 text-yellow-400 absolute top-0 left-0",fill:"currentColor",style:{clipPath:f?"inset(0 50% 0 0)":"none"}})]},u)}),a=Tp.reduce((o,c)=>o+c.stars,0)/Tp.length,s=Tp.length;return l.jsxs("section",{className:"py-20 bg-gradient-to-br from-slate-50 via-white to-blue-50 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full blur-3xl opacity-30"}),l.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-gradient-to-br from-pink-200 to-orange-200 rounded-full blur-3xl opacity-30"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full text-blue-700 text-sm font-medium mb-6",children:[l.jsx(ks,{className:"w-4 h-4 mr-2 fill-current"}),"Trusted by Anime Fans"]}),l.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-4",children:["What Our",l.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Amazing Customers Say"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Join thousands of satisfied anime fans who've brought their favorite characters to life with our premium custom merchandise"}),l.jsxs("div",{className:"flex items-center justify-center space-x-8 mb-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-2",children:i(5)}),l.jsx("div",{className:"text-3xl font-bold text-gray-900",children:a.toFixed(1)}),l.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),l.jsx("div",{className:"w-px h-16 bg-gray-200"}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[s,"+"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Happy Customers"})]}),l.jsx("div",{className:"w-px h-16 bg-gray-200"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:"98%"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Satisfaction Rate"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:Tp.map((o,c)=>l.jsx("div",{className:`transition-all duration-700 transform ${t.includes(c)?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${c*150}ms`},children:l.jsxs(Mi,{className:"group relative bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden",onMouseEnter:()=>n(o.id),onMouseLeave:()=>n(null),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-3xl blur-sm opacity-0 group-hover:opacity-30 transition-opacity duration-500"}),l.jsxs("div",{className:"relative bg-white rounded-3xl overflow-hidden",children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:o.productImage,alt:"Customer product",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.verified&&l.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center shadow-lg",children:[l.jsx(e_,{className:"w-3 h-3 mr-1"}),"Verified"]}),l.jsx("div",{className:"absolute bottom-3 left-3 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg",children:l.jsx(HH,{className:"w-5 h-5 text-blue-600"})})]}),l.jsxs(Fi,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"flex items-center space-x-1",children:i(o.stars)}),l.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:o.purchaseDate})]}),l.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',o.text,'"']}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs(f_,{className:"h-12 w-12 border-2 border-blue-100 mr-3 shadow-md",children:[l.jsx(pL,{src:o.customer.image,alt:o.customer.name}),l.jsx(d_,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold",children:o.customer.name.split(" ").map(u=>u[0]).join("")})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:o.customer.name}),l.jsx("p",{className:"text-sm text-blue-600 font-medium",children:o.customer.role})]})]})}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between",children:l.jsxs("button",{className:"flex items-center text-sm text-gray-500 hover:text-blue-600 transition-colors",children:[l.jsx(ks,{className:"w-4 h-4 mr-1"}),o.helpfulCount," found helpful"]})})]})]})]})},o.id))}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-8 shadow-2xl transform hover:scale-105 transition-all duration-300",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Join Our Happy Customers?"}),l.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl mx-auto",children:"Create your own custom anime merchandise and experience the same quality that made our customers so happy!"}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:()=>window.location.href="/products",className:"bg-white text-blue-600 px-8 py-3 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center",children:[l.jsx(tm,{className:"w-5 h-5 mr-2"}),"Shop Now"]})})]})}),l.jsxs("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"50k+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Products Sold"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"24h"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Fast Shipping"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"100%"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Premium Quality"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-pink-600 mb-2",children:"24/7"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Customer Support"})]})]})]})]})}var dy="Collapsible",[RG,mL]=Cu(dy),[MG,p_]=RG(dy),gL=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[c,u]=Sg({prop:n,defaultProp:i??!1,onChange:s,caller:dy});return l.jsx(MG,{scope:r,disabled:a,contentId:rm(),open:c,onOpenToggle:C.useCallback(()=>u(h=>!h),[u]),children:l.jsx(Ir.div,{"data-state":g_(c),"data-disabled":a?"":void 0,...o,ref:e})})});gL.displayName=dy;var xL="CollapsibleTrigger",vL=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=p_(xL,r);return l.jsx(Ir.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":g_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Jr(t.onClick,i.onOpenToggle)})});vL.displayName=xL;var m_="CollapsibleContent",yL=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=p_(m_,t.__scopeCollapsible);return l.jsx(Bh,{present:r||i.open,children:({present:a})=>l.jsx(FG,{...n,ref:e,present:a})})});yL.displayName=m_;var FG=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=p_(m_,r),[o,c]=C.useState(n),u=C.useRef(null),h=Ci(e,u),f=C.useRef(0),d=f.current,p=C.useRef(0),x=p.current,m=s.open||o,y=C.useRef(m),v=C.useRef(void 0);return C.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),as(()=>{const b=u.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const S=b.getBoundingClientRect();f.current=S.height,p.current=S.width,y.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),c(n)}},[s.open,n]),l.jsx(Ir.div,{"data-state":g_(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!m,...a,ref:h,style:{"--radix-collapsible-content-height":d?`${d}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:m&&i})});function g_(t){return t?"open":"closed"}var IG=gL,BG=vL,zG=yL,UG=C.createContext(void 0);function HG(t){const e=C.useContext(UG);return t||e||"ltr"}var fo="Accordion",qG=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[x_,VG,WG]=_O(fo),[py,xue]=Cu(fo,[WG,mL]),v_=mL(),bL=It.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return l.jsx(x_.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx($G,{...a,ref:e}):l.jsx(XG,{...i,ref:e})})});bL.displayName=fo;var[wL,GG]=py(fo),[SL,YG]=py(fo,{collapsible:!1}),XG=It.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...s}=t,[o,c]=Sg({prop:r,defaultProp:n??"",onChange:i,caller:fo});return l.jsx(wL,{scope:t.__scopeAccordion,value:It.useMemo(()=>o?[o]:[],[o]),onItemOpen:c,onItemClose:It.useCallback(()=>a&&c(""),[a,c]),children:l.jsx(SL,{scope:t.__scopeAccordion,collapsible:a,children:l.jsx(_L,{...s,ref:e})})})}),$G=It.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[s,o]=Sg({prop:r,defaultProp:n??[],onChange:i,caller:fo}),c=It.useCallback(h=>o((f=[])=>[...f,h]),[o]),u=It.useCallback(h=>o((f=[])=>f.filter(d=>d!==h)),[o]);return l.jsx(wL,{scope:t.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:l.jsx(SL,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(_L,{...a,ref:e})})})}),[KG,my]=py(fo),_L=It.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...s}=t,o=It.useRef(null),c=Ci(o,e),u=VG(r),f=HG(i)==="ltr",d=Jr(t.onKeyDown,p=>{var L;if(!qG.includes(p.key))return;const x=p.target,m=u().filter(F=>{var W;return!((W=F.ref.current)!=null&&W.disabled)}),y=m.findIndex(F=>F.ref.current===x),v=m.length;if(y===-1)return;p.preventDefault();let b=y;const S=0,T=v-1,E=()=>{b=y+1,b>T&&(b=S)},P=()=>{b=y-1,b<S&&(b=T)};switch(p.key){case"Home":b=S;break;case"End":b=T;break;case"ArrowRight":a==="horizontal"&&(f?E():P());break;case"ArrowDown":a==="vertical"&&E();break;case"ArrowLeft":a==="horizontal"&&(f?P():E());break;case"ArrowUp":a==="vertical"&&P();break}const j=b%v;(L=m[j].ref.current)==null||L.focus()});return l.jsx(KG,{scope:r,disabled:n,direction:i,orientation:a,children:l.jsx(x_.Slot,{scope:r,children:l.jsx(Ir.div,{...s,"data-orientation":a,ref:c,onKeyDown:n?void 0:d})})})}),Jv="AccordionItem",[QG,y_]=py(Jv),NL=It.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=my(Jv,r),s=GG(Jv,r),o=v_(r),c=rm(),u=n&&s.value.includes(n)||!1,h=a.disabled||t.disabled;return l.jsx(QG,{scope:r,open:u,disabled:h,triggerId:c,children:l.jsx(IG,{"data-orientation":a.orientation,"data-state":kL(u),...o,...i,ref:e,disabled:h,open:u,onOpenChange:f=>{f?s.onItemOpen(n):s.onItemClose(n)}})})});NL.displayName=Jv;var TL="AccordionHeader",CL=It.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=my(fo,r),a=y_(TL,r);return l.jsx(Ir.h3,{"data-orientation":i.orientation,"data-state":kL(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});CL.displayName=TL;var BS="AccordionTrigger",AL=It.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=my(fo,r),a=y_(BS,r),s=YG(BS,r),o=v_(r);return l.jsx(x_.ItemSlot,{scope:r,children:l.jsx(BG,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...n,ref:e})})});AL.displayName=BS;var EL="AccordionContent",jL=It.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=my(fo,r),a=y_(EL,r),s=v_(r);return l.jsx(zG,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});jL.displayName=EL;function kL(t){return t?"open":"closed"}var JG=bL,ZG=NL,eY=CL,OL=AL,LL=jL;const tY=JG,DL=C.forwardRef(({className:t,...e},r)=>l.jsx(ZG,{ref:r,className:Wr("border-b",t),...e}));DL.displayName="AccordionItem";const PL=C.forwardRef(({className:t,children:e,...r},n)=>l.jsx(eY,{className:"flex",children:l.jsxs(OL,{ref:n,className:Wr("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,l.jsx(_H,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));PL.displayName=OL.displayName;const RL=C.forwardRef(({className:t,children:e,...r},n)=>l.jsx(LL,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l.jsx("div",{className:Wr("pb-4 pt-0",t),children:e})}));RL.displayName=LL.displayName;const rY=[{id:"copyright",question:"Can I use copyrighted anime characters?",answer:"While we understand the love for anime characters, we recommend using original artwork or designs you have permission to use. For personal use, fan art is generally acceptable, but for commercial purposes or bulk orders, we recommend using non-copyrighted designs or obtaining proper licenses. We can provide guidance on creating anime-inspired designs that don't infringe on copyrights."},{id:"materials",question:"What materials are the shirts made from?",answer:"Our t-shirts come in various premium fabrics. Regular t-shirts are made from 100% combed ring-spun cotton (180 GSM) for softness and durability. Oversized t-shirts use a heavier 220 GSM cotton blend for a relaxed drape. Our polo shirts feature a cotton-polyester blend with moisture-wicking properties. All fabrics are pre-shrunk and optimal for vibrant anime design printing."},{id:"shipping",question:"How long does it take to deliver?",answer:"Domestic shipping within India takes 3-5 business days after production (which takes 2-3 days for custom designs). International shipping can take 7-14 business days depending on the destination country. Express shipping options are available at checkout. All orders include tracking information and are packaged in protective materials to ensure your anime merchandise arrives in perfect condition."},{id:"cancel",question:"Can I cancel after uploading my design?",answer:"You can cancel your order within 2 hours of submission if the production hasn't started. Once we begin the printing process, cancellations aren't possible as we create each item on demand. However, if you're unhappy with the final product, we offer a satisfaction guarantee. Please contact our customer service team with your order details to discuss options."},{id:"design-positions",question:"Can I put designs on multiple positions of a shirt?",answer:"Yes! Our customization tool allows you to place designs on the front, back, both sleeves, and even the neck label. You can use different designs for each position or create a cohesive theme across all areas. Each position can be customized with different sizes and placements for truly unique anime merchandise that shows your fandom in creative ways."}];function nY(){return l.jsx("section",{className:"py-16 bg-gray-50 border-t border-b border-gray-200",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Frequently Asked Questions"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Everything you need to know about our anime merchandise and customization services"})]}),l.jsx(tY,{type:"single",collapsible:!0,className:"space-y-4",children:rY.map(t=>l.jsxs(DL,{value:t.id,className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[l.jsx(PL,{className:"px-6 py-4 text-left text-lg font-semibold text-gray-900 hover:text-red-600 transition-colors",children:t.question}),l.jsx(RL,{className:"px-6 pb-4 text-gray-600",children:t.answer})]},t.id))}),l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Don't see your question here? ",l.jsx("a",{href:"/contact",className:"text-red-600 hover:underline",children:"Contact our support team"})]})})]})})}const iY=t=>{const e={};(!t.name||t.name.length<2)&&(e.name="Name must be at least 2 characters");const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!t.email||!r.test(t.email))&&(e.email="Please enter a valid email address"),t.inquiryType||(e.inquiryType="Please select an inquiry type"),(!t.message||t.message.length<10)&&(e.message="Message must be at least 10 characters"),e};function aY(){const[t,e]=C.useState({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),[r,n]=C.useState({}),[i,a]=C.useState(!1),[s,o]=C.useState(!1),c=h=>{const{name:f,value:d}=h.target;e(p=>({...p,[f]:d})),r[f]&&n(p=>({...p,[f]:""}))},u=async()=>{const h=iY(t);if(Object.keys(h).length>0){n(h);return}a(!0);try{await new Promise(f=>setTimeout(f,1e3)),o(!0),e({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),setTimeout(()=>o(!1),3e3)}catch(f){console.error("Error submitting form:",f)}finally{a(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50 py-12 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[s&&l.jsx("div",{className:"mb-8 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium",children:"Message sent successfully! We'll get back to you as soon as possible."})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{children:l.jsxs("div",{className:"h-full bg-gray-900 text-white rounded-lg shadow-xl overflow-hidden relative",children:[l.jsx("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center",style:{backgroundImage:`url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"%3E%3Cpath d="M0,0h1000v1000H0V0z" fill="%23000"/>%3Cg fill="%23111"%3E%3Cpath d="M100,200h800v100H100V200z"/>%3Cpath d="M200,400h600v100H200V400z"/>%3Cpath d="M150,600h700v100H150V600z"/>%3C/g%3E%3C/svg%3E')`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-black/70"}),l.jsxs("div",{className:"relative z-10 p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold",children:[l.jsx("span",{className:"text-red-400",children:"ANIME"}),l.jsx("span",{className:"text-white ml-1",children:"INDIA"})," Support"]}),l.jsx("p",{className:"text-gray-300 mt-2",children:"We aim to respond to all inquiries within 24 hours."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(tc,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Email"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"support@animeindia.com"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Ng,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Phone"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"+91 123 456 7890"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(iy,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Address"}),l.jsxs("p",{className:"text-gray-300 text-sm",children:["123 Anime Street",l.jsx("br",{}),"Mumbai, Maharashtra 400001",l.jsx("br",{}),"India"]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(r7,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Social Media"}),l.jsxs("div",{className:"flex space-x-3 mt-2",children:[l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Instagram"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"YouTube"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Twitter"})]})]})]})]})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-xl border border-red-100 overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Send us a message"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Fill out the form below to create a support ticket"}),l.jsx("div",{className:"h-1 w-20 bg-red-600 rounded-full mt-3"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:c,placeholder:"Your name",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),r.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),l.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:c,placeholder:"your.email@example.com",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),r.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"orderNumber",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Order ID (if applicable)"}),l.jsx("input",{type:"text",id:"orderNumber",name:"orderNumber",value:t.orderNumber,onChange:c,placeholder:"e.g. AI-12345",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Inquiry Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{value:"general",label:"General Question"},{value:"order",label:"Order Status"},{value:"design",label:"Design Help"},{value:"return",label:"Returns & Refunds"}].map(h=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"inquiryType",value:h.value,checked:t.inquiryType===h.value,onChange:c,className:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"}),l.jsx("span",{className:"text-gray-700",children:h.label})]},h.value))}),r.inquiryType&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.inquiryType})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),l.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:c,rows:6,placeholder:"How can we help you with your anime merchandise needs?",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none"}),r.message&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.message})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"button",onClick:u,disabled:i,className:"bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 text-white font-semibold px-8 py-3 rounded-lg transition-all transform hover:-translate-y-0.5 shadow-lg hover:shadow-red-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2",children:[l.jsx("span",{children:i?"Sending...":"Create Support Ticket"}),l.jsx(Bn,{className:"h-5 w-5"})]})})]})]})})})]})]})})}const bw=768;function sY(){const[t,e]=C.useState(void 0);return C.useEffect(()=>{const r=window.matchMedia(`(max-width: ${bw-1}px)`),n=()=>{e(window.innerWidth<bw)};return r.addEventListener("change",n),e(window.innerWidth<bw),()=>r.removeEventListener("change",n)},[]),!!t}const ww=[{id:"1",title:"Roronoa Zoro",images:["/tshirts-new/7.jpg","/tshirts-new/zoro back.jpg"],colorScheme:"from-green-900/40 via-green-800/20 to-green-700/10",products:["T-Shirts","Hoodies","Phone Cases"],customers:[{avatar:"",initials:"AK"},{avatar:"",initials:"TN"},{avatar:"",initials:"SM"},{avatar:"",initials:"RP"}]},{id:"2",title:"Sung Jin Woo",images:["/tshirts-new/8.jpg","/tshirts-new/sung jin woo back.jpg"],colorScheme:"from-purple-900/40 via-purple-800/20 to-indigo-700/10",products:["T-Shirts","Stickers","Posters"],customers:[{avatar:"",initials:"JD"},{avatar:"",initials:"KL"},{avatar:"",initials:"MT"},{avatar:"",initials:"SR"}]},{id:"3",title:"Naruto Uzumaki",images:["/tshirts-new/9.jpg","/tshirts-new/naruto back.jpg"],colorScheme:"from-orange-700/40 via-orange-600/20 to-yellow-500/10",products:["T-Shirts","Posters","Figurines"],customers:[{avatar:"",initials:"DK"},{avatar:"",initials:"AL"},{avatar:"",initials:"FG"},{avatar:"",initials:"HT"}]},{id:"4",title:"Itachi Uchiha",images:["/tshirts-new/10.jpg","/tshirts-new/itachi back.jpg"],colorScheme:"from-red-900/40 via-slate-800/20 to-gray-700/10",products:["T-Shirts","LED Signs","Laptop Sleeves"],customers:[{avatar:"",initials:"CP"},{avatar:"",initials:"MX"},{avatar:"",initials:"EV"},{avatar:"",initials:"RN"}]},{id:"5",title:"Madara Uchiha",images:["/tshirts-new/12.jpg","/tshirts-new/madara back.jpg"],colorScheme:"from-purple-700/40 via-indigo-800/20 to-blue-700/10",products:["T-Shirts","Wall Scrolls","Jewelry"],customers:[{avatar:"",initials:"GH"},{avatar:"",initials:"JL"},{avatar:"",initials:"KA"},{avatar:"",initials:"TW"}]},{id:"6",title:"Ryomen Sukuna",images:["/tshirts-new/13.jpg","/tshirts-new/sukuna back.jpg"],colorScheme:"from-red-800/40 via-red-700/20 to-orange-600/10",products:["T-Shirts","Mouse Pads","Mugs"],customers:[{avatar:"",initials:"BN"},{avatar:"",initials:"HS"},{avatar:"",initials:"PK"},{avatar:"",initials:"VL"}]}],ML=It.memo(({src:t,alt:e,className:r="",fallbackSrc:n="/tshirts-new/zoro back.jpg",onError:i,onLoad:a})=>{const[s,o]=C.useState(t),[c,u]=C.useState(!1),[h,f]=C.useState(!0),d=()=>{!c&&s!==n?(o(n),u(!0)):(f(!1),i==null||i())},p=()=>{f(!1),a==null||a()};return l.jsxs("div",{className:`relative ${r}`,children:[h&&l.jsx("div",{className:"absolute inset-0 bg-gray-800 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}),l.jsx("img",{src:s,alt:e,className:`transition-opacity duration-300 ${h?"opacity-0":"opacity-100"} ${r}`,loading:"lazy",onError:d,onLoad:p,style:{transform:"translateZ(0)",willChange:"transform",backfaceVisibility:"hidden"}})]})});ML.displayName="OptimizedImage";const FL=It.memo(({design:t,index:e,isVisible:r})=>{const[n,i]=C.useState(!1),[a,s]=C.useState(!1),o=()=>{i(!0)};return l.jsx("div",{className:`w-64 shrink-0 overflow-hidden rounded-xl shadow-xl transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer ${r?"opacity-100 transform translateY(0)":"opacity-0 transform translateY(20px)"}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{contain:"layout style paint",willChange:"transform",transform:"translateZ(0)"},children:l.jsxs("div",{className:`h-72 overflow-hidden relative group bg-gradient-to-br ${t.colorScheme}`,children:[n?l.jsx("div",{className:"h-full flex items-center justify-center bg-gray-800 text-white",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:"🎨"}),l.jsx("div",{className:"text-sm",children:"Design Loading..."})]})}):l.jsx(ML,{src:t.images[0],alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",fallbackSrc:t.images[1]||"/tshirts-new/zoro back.jpg",onError:o}),l.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[l.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:t.title}),l.jsx("p",{className:"text-gray-200 text-sm",children:t.products.join(", ")})]})]})})});FL.displayName="DesignCard";function oY(){var u;sY();const t=C.useRef(null),[e,r]=C.useState(new Set([0,1,2])),[n,i]=C.useState(!1),[a,s]=C.useState(!1),o=C.useCallback(()=>{try{t.current&&!n&&(i(!0),t.current.scrollBy({left:-320,behavior:"smooth"}),setTimeout(()=>i(!1),500))}catch(h){console.error("Scroll error:",h),s(!0)}},[n]),c=C.useCallback(()=>{try{t.current&&!n&&(i(!0),t.current.scrollBy({left:320,behavior:"smooth"}),setTimeout(()=>i(!1),500))}catch(h){console.error("Scroll error:",h),s(!0)}},[n]);return C.useEffect(()=>{const h=t.current;if(!h)return;let f,d;const p=()=>{f||(f=window.setTimeout(()=>{d=requestAnimationFrame(()=>{try{const x=h.scrollLeft,y=Math.floor(x/300),v=Math.min(y+4,ww.length-1),b=new Set;for(let S=Math.max(0,y-1);S<=v+1;S++)b.add(S);r(b)}catch(x){console.error("Scroll calculation error:",x)}f=0})},100))};return h.addEventListener("scroll",p,{passive:!0}),()=>{h.removeEventListener("scroll",p),f&&clearTimeout(f),d&&cancelAnimationFrame(d)}},[]),a?l.jsx("section",{className:"py-16 bg-gradient-to-br from-purple-900 via-violet-950 to-black relative overflow-hidden",children:l.jsx("div",{className:"container px-8 mx-auto max-w-7xl relative z-10",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Limited Edition Designs"}),l.jsx("p",{className:"text-violet-200 mb-8",children:"Premium quality prints on multiple products"}),l.jsx("button",{onClick:()=>s(!1),className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:"Retry Loading"})]})})}):l.jsxs("section",{className:"py-16 bg-gradient-to-br from-purple-900 via-violet-950 to-black relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-violet-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),l.jsxs("div",{className:"container px-8 mx-auto max-w-7xl relative z-10",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-3 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Limited Edition Designs"}),l.jsx("p",{className:"text-violet-200 text-xl",children:"Premium quality prints on multiple products"})]}),l.jsxs("div",{className:"flex items-center mt-6 md:mt-0",children:[l.jsx("div",{className:"flex -space-x-2 mr-3",children:(u=ww[0].customers)==null?void 0:u.slice(0,4).map((h,f)=>l.jsx(f_,{className:"border-2 border-violet-900 w-10 h-10",children:l.jsx(d_,{className:"bg-violet-700 text-white text-sm font-bold",children:h.initials})},f))}),l.jsx("span",{className:"text-violet-200 font-medium",children:"250+ customers"})]})]}),l.jsx("div",{className:"relative mx-auto px-4",children:l.jsxs("div",{className:"relative overflow-hidden bg-gray-900/30 backdrop-blur-lg p-8 rounded-2xl border border-purple-900/30 shadow-2xl",children:[l.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 h-12 w-12 rounded-full bg-black/60 backdrop-blur-sm text-white flex items-center justify-center hover:bg-black/80 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:o,disabled:n,"aria-label":"Scroll left",children:l.jsx(Y3,{className:"h-6 w-6"})}),l.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 h-12 w-12 rounded-full bg-black/60 backdrop-blur-sm text-white flex items-center justify-center hover:bg-black/80 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:c,disabled:n,"aria-label":"Scroll right",children:l.jsx(X3,{className:"h-6 w-6"})}),l.jsx(C.Suspense,{fallback:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}),children:l.jsx("div",{ref:t,className:"overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",scrollBehavior:"smooth"},children:l.jsx("div",{className:"flex space-x-6 py-4",children:ww.map((h,f)=>l.jsx(FL,{design:h,index:f,isVisible:e.has(f)},h.id))})})}),l.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-gray-900/80 via-gray-900/40 to-transparent z-10 pointer-events-none"}),l.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-gray-900/80 via-gray-900/40 to-transparent z-10 pointer-events-none"})]})}),l.jsx("div",{className:"w-full flex justify-center mt-12",children:l.jsx("button",{onClick:()=>window.location.href="/products",className:"px-10 py-3 border-2 border-violet-500 text-white font-semibold rounded-lg hover:bg-violet-500/20 transition-all duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-violet-500",children:"View All Designs"})})]})]})}function IL(){lY(),cY(),dY(),hY(),uY()}function lY(){document.body.classList.remove("is-scrolling","scrolling","optimize-scroll"),document.querySelectorAll('[style*="overflow: hidden"]').forEach(r=>{r instanceof HTMLElement&&(r.tagName==="BODY"||r.tagName==="HTML")&&(r.style.overflow="")})}function cY(){fY(),document.querySelectorAll(".anime-scroll-animation, .limited-edition-scroll, .carousel-component").forEach(n=>{n instanceof HTMLElement&&(n.style.transform="translateZ(0)",n.style.willChange="transform",n.style.backfaceVisibility="hidden",n.style.transition="transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)")});let e=null;const r=document.body;window.addEventListener("scroll",()=>{r.classList.remove("is-scrolling","scrolling"),e!==null&&window.clearTimeout(e),e=window.setTimeout(()=>{},100)},{passive:!0})}function uY(){document.querySelectorAll('[class*="carousel"], [class*="scroll"]').forEach(n=>{n instanceof HTMLElement&&(n.style.contain="layout style paint",n.style.willChange="transform",n.style.transform="translateZ(0)",n.style.backfaceVisibility="hidden",n.style.perspective="1000px")}),document.querySelectorAll("img").forEach(n=>{n instanceof HTMLImageElement&&(n.style.transform="translateZ(0)",n.style.willChange="transform",n.style.backfaceVisibility="hidden",n.hasAttribute("loading")||n.setAttribute("loading","lazy"))}),document.querySelectorAll('[class*="animate"], [class*="transition"]').forEach(n=>{n instanceof HTMLElement&&(n.style.willChange="transform",n.style.transform="translateZ(0)")})}function hY(){document.documentElement.style.scrollBehavior="smooth",document.body.classList.add("smooth-scroll"),/iPad|iPhone|iPod/.test(navigator.userAgent)&&(document.body.style.webkitOverflowScrolling="touch")}function fY(){document.querySelectorAll("img").forEach(e=>{e instanceof HTMLImageElement&&(e.hasAttribute("loading")||e.setAttribute("loading","lazy"),e.hasAttribute("decoding")||e.setAttribute("decoding","async"),e.style.transform="translateZ(0)",e.style.willChange="transform")})}function dY(){const t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),e=/chrome/i.test(navigator.userAgent);(t||e)&&document.querySelectorAll('[style*="backdrop-filter"]').forEach(n=>{n instanceof HTMLElement&&(n.setAttribute("data-has-backdrop","true"),n.classList.add("backdrop-element"),n.style.transform="translateZ(0)",n.style.willChange="backdrop-filter, transform")})}function BL(){if(document.body.style.touchAction="pan-x pan-y",/iPad|iPhone|iPod/.test(navigator.userAgent)&&(document.body.style.webkitOverflowScrolling="touch"),!document.querySelector('meta[name="viewport"]')){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(e)}}function pY(){return C.useEffect(()=>(IL(),BL(),()=>{document.body.classList.remove("optimize-scroll","is-scrolling","scrolling")}),[]),l.jsxs(l.Fragment,{children:[l.jsxs(Qv,{children:[l.jsx("title",{children:"PrintCraft - Premium Print on Demand Service"}),l.jsx("meta",{name:"description",content:"Transform your creativity into premium custom products with our high-quality print on demand service. T-Shirts, Phone Covers, Plates, Bottles and more!"}),l.jsx("meta",{property:"og:title",content:"PrintCraft - Premium Print on Demand Service"}),l.jsx("meta",{property:"og:description",content:"Transform your creativity into premium custom products with our high-quality print on demand service."}),l.jsx("meta",{property:"og:type",content:"website"})]}),l.jsxs("main",{className:"smooth-scroll",children:[l.jsx(TG,{}),l.jsx(AG,{}),l.jsx(oY,{}),l.jsx(EG,{}),l.jsx(PG,{}),l.jsx(nY,{}),l.jsx(aY,{})]})]})}function zL(t,e){return function(){return t.apply(e,arguments)}}const{toString:mY}=Object.prototype,{getPrototypeOf:b_}=Object,{iterator:gy,toStringTag:UL}=Symbol,xy=(t=>e=>{const r=mY.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),po=t=>(t=t.toLowerCase(),e=>xy(e)===t),vy=t=>e=>typeof e===t,{isArray:_0}=Array,Mm=vy("undefined");function Cg(t){return t!==null&&!Mm(t)&&t.constructor!==null&&!Mm(t.constructor)&&ba(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HL=po("ArrayBuffer");function gY(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HL(t.buffer),e}const xY=vy("string"),ba=vy("function"),qL=vy("number"),Ag=t=>t!==null&&typeof t=="object",vY=t=>t===!0||t===!1,Zx=t=>{if(xy(t)!=="object")return!1;const e=b_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(UL in t)&&!(gy in t)},yY=t=>{if(!Ag(t)||Cg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},bY=po("Date"),wY=po("File"),SY=po("Blob"),_Y=po("FileList"),NY=t=>Ag(t)&&ba(t.pipe),TY=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ba(t.append)&&((e=xy(t))==="formdata"||e==="object"&&ba(t.toString)&&t.toString()==="[object FormData]"))},CY=po("URLSearchParams"),[AY,EY,jY,kY]=["ReadableStream","Request","Response","Headers"].map(po),OY=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eg(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),_0(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Cg(t))return;const a=r?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(n=0;n<s;n++)o=a[n],e.call(null,t[o],o,t)}}function VL(t,e){if(Cg(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Qu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WL=t=>!Mm(t)&&t!==Qu;function zS(){const{caseless:t}=WL(this)&&this||{},e={},r=(n,i)=>{const a=t&&VL(e,i)||i;Zx(e[a])&&Zx(n)?e[a]=zS(e[a],n):Zx(n)?e[a]=zS({},n):_0(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Eg(arguments[n],r);return e}const LY=(t,e,r,{allOwnKeys:n}={})=>(Eg(e,(i,a)=>{r&&ba(i)?t[a]=zL(i,r):t[a]=i},{allOwnKeys:n}),t),DY=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),PY=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},RY=(t,e,r,n)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!n||n(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=r!==!1&&b_(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},MY=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},FY=t=>{if(!t)return null;if(_0(t))return t;let e=t.length;if(!qL(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},IY=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&b_(Uint8Array)),BY=(t,e)=>{const n=(t&&t[gy]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},zY=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},UY=po("HTMLFormElement"),HY=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),oA=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),qY=po("RegExp"),GL=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Eg(r,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(n[a]=s||i)}),Object.defineProperties(t,n)},VY=t=>{GL(t,(e,r)=>{if(ba(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ba(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},WY=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return _0(t)?n(t):n(String(t).split(e)),r},GY=()=>{},YY=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XY(t){return!!(t&&ba(t.append)&&t[UL]==="FormData"&&t[gy])}const $Y=t=>{const e=new Array(10),r=(n,i)=>{if(Ag(n)){if(e.indexOf(n)>=0)return;if(Cg(n))return n;if(!("toJSON"in n)){e[i]=n;const a=_0(n)?[]:{};return Eg(n,(s,o)=>{const c=r(s,i+1);!Mm(c)&&(a[o]=c)}),e[i]=void 0,a}}return n};return r(t,0)},KY=po("AsyncFunction"),QY=t=>t&&(Ag(t)||ba(t))&&ba(t.then)&&ba(t.catch),YL=((t,e)=>t?setImmediate:e?((r,n)=>(Qu.addEventListener("message",({source:i,data:a})=>{i===Qu&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Qu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ba(Qu.postMessage)),JY=typeof queueMicrotask<"u"?queueMicrotask.bind(Qu):typeof process<"u"&&process.nextTick||YL,ZY=t=>t!=null&&ba(t[gy]),ze={isArray:_0,isArrayBuffer:HL,isBuffer:Cg,isFormData:TY,isArrayBufferView:gY,isString:xY,isNumber:qL,isBoolean:vY,isObject:Ag,isPlainObject:Zx,isEmptyObject:yY,isReadableStream:AY,isRequest:EY,isResponse:jY,isHeaders:kY,isUndefined:Mm,isDate:bY,isFile:wY,isBlob:SY,isRegExp:qY,isFunction:ba,isStream:NY,isURLSearchParams:CY,isTypedArray:IY,isFileList:_Y,forEach:Eg,merge:zS,extend:LY,trim:OY,stripBOM:DY,inherits:PY,toFlatObject:RY,kindOf:xy,kindOfTest:po,endsWith:MY,toArray:FY,forEachEntry:BY,matchAll:zY,isHTMLForm:UY,hasOwnProperty:oA,hasOwnProp:oA,reduceDescriptors:GL,freezeMethods:VY,toObjectSet:WY,toCamelCase:HY,noop:GY,toFiniteNumber:YY,findKey:VL,global:Qu,isContextDefined:WL,isSpecCompliantForm:XY,toJSONObject:$Y,isAsyncFn:KY,isThenable:QY,setImmediate:YL,asap:JY,isIterable:ZY};function Zt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ze.inherits(Zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const XL=Zt.prototype,$L={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$L[t]={value:t}});Object.defineProperties(Zt,$L);Object.defineProperty(XL,"isAxiosError",{value:!0});Zt.from=(t,e,r,n,i,a)=>{const s=Object.create(XL);return ze.toFlatObject(t,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Zt.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const eX=null;function US(t){return ze.isPlainObject(t)||ze.isArray(t)}function KL(t){return ze.endsWith(t,"[]")?t.slice(0,-2):t}function lA(t,e,r){return t?t.concat(e).map(function(i,a){return i=KL(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function tX(t){return ze.isArray(t)&&!t.some(US)}const rX=ze.toFlatObject(ze,{},null,function(e){return/^is[A-Z]/.test(e)});function yy(t,e,r){if(!ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ze.isUndefined(y[m])});const n=r.metaTokens,i=r.visitor||h,a=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(e);if(!ze.isFunction(i))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(ze.isDate(x))return x.toISOString();if(ze.isBoolean(x))return x.toString();if(!c&&ze.isBlob(x))throw new Zt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(x)||ze.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,m,y){let v=x;if(x&&!y&&typeof x=="object"){if(ze.endsWith(m,"{}"))m=n?m:m.slice(0,-2),x=JSON.stringify(x);else if(ze.isArray(x)&&tX(x)||(ze.isFileList(x)||ze.endsWith(m,"[]"))&&(v=ze.toArray(x)))return m=KL(m),v.forEach(function(S,T){!(ze.isUndefined(S)||S===null)&&e.append(s===!0?lA([m],T,a):s===null?m:m+"[]",u(S))}),!1}return US(x)?!0:(e.append(lA(y,m,a),u(x)),!1)}const f=[],d=Object.assign(rX,{defaultVisitor:h,convertValue:u,isVisitable:US});function p(x,m){if(!ze.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(x),ze.forEach(x,function(v,b){(!(ze.isUndefined(v)||v===null)&&i.call(e,v,ze.isString(b)?b.trim():b,m,d))===!0&&p(v,m?m.concat(b):[b])}),f.pop()}}if(!ze.isObject(t))throw new TypeError("data must be an object");return p(t),e}function cA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function w_(t,e){this._pairs=[],t&&yy(t,this,e)}const QL=w_.prototype;QL.append=function(e,r){this._pairs.push([e,r])};QL.toString=function(e){const r=e?function(n){return e.call(this,n,cA)}:cA;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function nX(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JL(t,e,r){if(!e)return t;const n=r&&r.encode||nX;ze.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(e,r):a=ze.isURLSearchParams(e)?e.toString():new w_(e,r).toString(n),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class uA{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ze.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ZL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iX=typeof URLSearchParams<"u"?URLSearchParams:w_,aX=typeof FormData<"u"?FormData:null,sX=typeof Blob<"u"?Blob:null,oX={isBrowser:!0,classes:{URLSearchParams:iX,FormData:aX,Blob:sX},protocols:["http","https","file","blob","url","data"]},S_=typeof window<"u"&&typeof document<"u",HS=typeof navigator=="object"&&navigator||void 0,lX=S_&&(!HS||["ReactNative","NativeScript","NS"].indexOf(HS.product)<0),cX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uX=S_&&window.location.href||"http://localhost",hX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S_,hasStandardBrowserEnv:lX,hasStandardBrowserWebWorkerEnv:cX,navigator:HS,origin:uX},Symbol.toStringTag,{value:"Module"})),Ii={...hX,...oX};function fX(t,e){return yy(t,new Ii.classes.URLSearchParams,{visitor:function(r,n,i,a){return Ii.isNode&&ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function dX(t){return ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pX(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function eD(t){function e(r,n,i,a){let s=r[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=a>=r.length;return s=!s&&ze.isArray(i)?i.length:s,c?(ze.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!ze.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],a)&&ze.isArray(i[s])&&(i[s]=pX(i[s])),!o)}if(ze.isFormData(t)&&ze.isFunction(t.entries)){const r={};return ze.forEachEntry(t,(n,i)=>{e(dX(n),i,r,0)}),r}return null}function mX(t,e,r){if(ze.isString(t))try{return(e||JSON.parse)(t),ze.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const jg={transitional:ZL,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=ze.isObject(e);if(a&&ze.isHTMLForm(e)&&(e=new FormData(e)),ze.isFormData(e))return i?JSON.stringify(eD(e)):e;if(ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e)||ze.isReadableStream(e))return e;if(ze.isArrayBufferView(e))return e.buffer;if(ze.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fX(e,this.formSerializer).toString();if((o=ze.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return yy(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),mX(e)):e}],transformResponse:[function(e){const r=this.transitional||jg.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ze.isResponse(e)||ze.isReadableStream(e))return e;if(e&&ze.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Zt.from(o,Zt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ii.classes.FormData,Blob:Ii.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],t=>{jg.headers[t]={}});const gX=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xX=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&gX[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},hA=Symbol("internals");function Cp(t){return t&&String(t).trim().toLowerCase()}function ev(t){return t===!1||t==null?t:ze.isArray(t)?t.map(ev):String(t)}function vX(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const yX=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sw(t,e,r,n,i){if(ze.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ze.isString(e)){if(ze.isString(n))return e.indexOf(n)!==-1;if(ze.isRegExp(n))return n.test(e)}}function bX(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function wX(t,e){const r=ze.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,s){return this[n].call(this,e,i,a,s)},configurable:!0})})}let wa=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(o,c,u){const h=Cp(c);if(!h)throw new Error("header name must be a non-empty string");const f=ze.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=ev(o))}const s=(o,c)=>ze.forEach(o,(u,h)=>a(u,h,c));if(ze.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(ze.isString(e)&&(e=e.trim())&&!yX(e))s(xX(e),r);else if(ze.isObject(e)&&ze.isIterable(e)){let o={},c,u;for(const h of e){if(!ze.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(c=o[u])?ze.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}s(o,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=Cp(e),e){const n=ze.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return vX(i);if(ze.isFunction(r))return r.call(this,i,n);if(ze.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Cp(e),e){const n=ze.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Sw(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(s){if(s=Cp(s),s){const o=ze.findKey(n,s);o&&(!r||Sw(n,n[o],o,r))&&(delete n[o],i=!0)}}return ze.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||Sw(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return ze.forEach(this,(i,a)=>{const s=ze.findKey(n,a);if(s){r[s]=ev(i),delete r[a];return}const o=e?bX(a):String(a).trim();o!==a&&delete r[a],r[o]=ev(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ze.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[hA]=this[hA]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=Cp(s);n[o]||(wX(i,s),n[o]=!0)}return ze.isArray(e)?e.forEach(a):a(e),this}};wa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(wa.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ze.freezeMethods(wa);function _w(t,e){const r=this||jg,n=e||r,i=wa.from(n.headers);let a=n.data;return ze.forEach(t,function(o){a=o.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function tD(t){return!!(t&&t.__CANCEL__)}function N0(t,e,r){Zt.call(this,t??"canceled",Zt.ERR_CANCELED,e,r),this.name="CanceledError"}ze.inherits(N0,Zt,{__CANCEL__:!0});function rD(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Zt("Request failed with status code "+r.status,[Zt.ERR_BAD_REQUEST,Zt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function SX(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _X(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=n[a];s||(s=u),r[i]=c,n[i]=u;let f=a,d=0;for(;f!==i;)d+=r[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-s<e)return;const p=h&&u-h;return p?Math.round(d*1e3/p):void 0}}function NX(t,e){let r=0,n=1e3/e,i,a;const s=(u,h=Date.now())=>{r=h,i=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const h=Date.now(),f=h-r;f>=n?s(u,h):(i=u,a||(a=setTimeout(()=>{a=null,s(i)},n-f)))},()=>i&&s(i)]}const Zv=(t,e,r=3)=>{let n=0;const i=_X(50,250);return NX(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,c=s-n,u=i(c),h=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&h?(o-s)/u:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},r)},fA=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},dA=t=>(...e)=>ze.asap(()=>t(...e)),TX=Ii.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ii.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ii.origin),Ii.navigator&&/(msie|trident)/i.test(Ii.navigator.userAgent)):()=>!0,CX=Ii.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const s=[t+"="+encodeURIComponent(e)];ze.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),ze.isString(n)&&s.push("path="+n),ze.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AX(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function EX(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nD(t,e,r){let n=!AX(e);return t&&(n||r==!1)?EX(t,e):e}const pA=t=>t instanceof wa?{...t}:t;function jh(t,e){e=e||{};const r={};function n(u,h,f,d){return ze.isPlainObject(u)&&ze.isPlainObject(h)?ze.merge.call({caseless:d},u,h):ze.isPlainObject(h)?ze.merge({},h):ze.isArray(h)?h.slice():h}function i(u,h,f,d){if(ze.isUndefined(h)){if(!ze.isUndefined(u))return n(void 0,u,f,d)}else return n(u,h,f,d)}function a(u,h){if(!ze.isUndefined(h))return n(void 0,h)}function s(u,h){if(ze.isUndefined(h)){if(!ze.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function o(u,h,f){if(f in e)return n(u,h);if(f in t)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,h,f)=>i(pA(u),pA(h),f,!0)};return ze.forEach(Object.keys({...t,...e}),function(h){const f=c[h]||i,d=f(t[h],e[h],h);ze.isUndefined(d)&&f!==o||(r[h]=d)}),r}const iD=t=>{const e=jh({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=e;e.headers=s=wa.from(s),e.url=JL(nD(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(ze.isFormData(r)){if(Ii.hasStandardBrowserEnv||Ii.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Ii.hasStandardBrowserEnv&&(n&&ze.isFunction(n)&&(n=n(e)),n||n!==!1&&TX(e.url))){const u=i&&a&&CX.read(a);u&&s.set(i,u)}return e},jX=typeof XMLHttpRequest<"u",kX=jX&&function(t){return new Promise(function(r,n){const i=iD(t);let a=i.data;const s=wa.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=i,h,f,d,p,x;function m(){p&&p(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const S=wa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:t,request:y};rD(function(j){r(j),m()},function(j){n(j),m()},E),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(n(new Zt("Request aborted",Zt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new Zt("Network Error",Zt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||ZL;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),n(new Zt(T,E.clarifyTimeoutError?Zt.ETIMEDOUT:Zt.ECONNABORTED,t,y)),y=null},a===void 0&&s.setContentType(null),"setRequestHeader"in y&&ze.forEach(s.toJSON(),function(T,E){y.setRequestHeader(E,T)}),ze.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),u&&([d,x]=Zv(u,!0),y.addEventListener("progress",d)),c&&y.upload&&([f,p]=Zv(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(h=S=>{y&&(n(!S||S.type?new N0(null,t,y):S),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const b=SX(i.url);if(b&&Ii.protocols.indexOf(b)===-1){n(new Zt("Unsupported protocol "+b+":",Zt.ERR_BAD_REQUEST,t));return}y.send(a||null)})},OX=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,o();const h=u instanceof Error?u:this.reason;n.abort(h instanceof Zt?h:new N0(h instanceof Error?h.message:h))}};let s=e&&setTimeout(()=>{s=null,a(new Zt(`timeout ${e} of ms exceeded`,Zt.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>ze.asap(o),c}},LX=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},DX=async function*(t,e){for await(const r of PX(t))yield*LX(r,e)},PX=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},mA=(t,e,r,n)=>{const i=DX(t,e);let a=0,s,o=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await i.next();if(u){o(),c.close();return}let f=h.byteLength;if(r){let d=a+=f;r(d)}c.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},by=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aD=by&&typeof ReadableStream=="function",RX=by&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),sD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},MX=aD&&sD(()=>{let t=!1;const e=new Request(Ii.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),gA=64*1024,qS=aD&&sD(()=>ze.isReadableStream(new Response("").body)),e2={stream:qS&&(t=>t.body)};by&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!e2[e]&&(e2[e]=ze.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Zt(`Response type '${e}' is not supported`,Zt.ERR_NOT_SUPPORT,n)})})})(new Response);const FX=async t=>{if(t==null)return 0;if(ze.isBlob(t))return t.size;if(ze.isSpecCompliantForm(t))return(await new Request(Ii.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(t)||ze.isArrayBuffer(t))return t.byteLength;if(ze.isURLSearchParams(t)&&(t=t+""),ze.isString(t))return(await RX(t)).byteLength},IX=async(t,e)=>{const r=ze.toFiniteNumber(t.getContentLength());return r??FX(e)},BX=by&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:d}=iD(t);u=u?(u+"").toLowerCase():"text";let p=OX([i,a&&a.toAbortSignal()],s),x;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(c&&MX&&r!=="get"&&r!=="head"&&(y=await IX(h,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),P;if(ze.isFormData(n)&&(P=E.headers.get("content-type"))&&h.setContentType(P),E.body){const[j,L]=fA(y,Zv(dA(c)));n=mA(E.body,gA,j,L)}}ze.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;x=new Request(e,{...d,signal:p,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let b=await fetch(x,d);const S=qS&&(u==="stream"||u==="response");if(qS&&(o||S&&m)){const E={};["status","statusText","headers"].forEach(F=>{E[F]=b[F]});const P=ze.toFiniteNumber(b.headers.get("content-length")),[j,L]=o&&fA(P,Zv(dA(o),!0))||[];b=new Response(mA(b.body,gA,j,()=>{L&&L(),m&&m()}),E)}u=u||"text";let T=await e2[ze.findKey(e2,u)||"text"](b,t);return!S&&m&&m(),await new Promise((E,P)=>{rD(E,P,{data:T,headers:wa.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:x})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Zt("Network Error",Zt.ERR_NETWORK,t,x),{cause:v.cause||v}):Zt.from(v,v&&v.code,t,x)}}),VS={http:eX,xhr:kX,fetch:BX};ze.forEach(VS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xA=t=>`- ${t}`,zX=t=>ze.isFunction(t)||t===null||t===!1,oD={getAdapter:t=>{t=ze.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let s;if(n=r,!zX(r)&&(n=VS[(s=String(r)).toLowerCase()],n===void 0))throw new Zt(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+a]=n}if(!n){const a=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(xA).join(`
`):" "+xA(a[0]):"as no adapter specified";throw new Zt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:VS};function Nw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new N0(null,t)}function vA(t){return Nw(t),t.headers=wa.from(t.headers),t.data=_w.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oD.getAdapter(t.adapter||jg.adapter)(t).then(function(n){return Nw(t),n.data=_w.call(t,t.transformResponse,n),n.headers=wa.from(n.headers),n},function(n){return tD(n)||(Nw(t),n&&n.response&&(n.response.data=_w.call(t,t.transformResponse,n.response),n.response.headers=wa.from(n.response.headers))),Promise.reject(n)})}const lD="1.11.0",wy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{wy[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const yA={};wy.transitional=function(e,r,n){function i(a,s){return"[Axios v"+lD+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,o)=>{if(e===!1)throw new Zt(i(s," has been removed"+(r?" in "+r:"")),Zt.ERR_DEPRECATED);return r&&!yA[s]&&(yA[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,s,o):!0}};wy.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function UX(t,e,r){if(typeof t!="object")throw new Zt("options must be an object",Zt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],s=e[a];if(s){const o=t[a],c=o===void 0||s(o,a,t);if(c!==!0)throw new Zt("option "+a+" must be "+c,Zt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Zt("Unknown option "+a,Zt.ERR_BAD_OPTION)}}const tv={assertOptions:UX,validators:wy},To=tv.validators;let xh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new uA,response:new uA}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=jh(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&tv.assertOptions(n,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(ze.isFunction(i)?r.paramsSerializer={serialize:i}:tv.assertOptions(i,{encode:To.function,serialize:To.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),tv.assertOptions(r,{baseUrl:To.spelling("baseURL"),withXsrfToken:To.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=a&&ze.merge(a.common,a[r.method]);a&&ze.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=wa.concat(s,a);const o=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let h,f=0,d;if(!c){const x=[vA.bind(this),void 0];for(x.unshift(...o),x.push(...u),d=x.length,h=Promise.resolve(r);f<d;)h=h.then(x[f++],x[f++]);return h}d=o.length;let p=r;for(f=0;f<d;){const x=o[f++],m=o[f++];try{p=x(p)}catch(y){m.call(this,y);break}}try{h=vA.call(this,p)}catch(x){return Promise.reject(x)}for(f=0,d=u.length;f<d;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=jh(this.defaults,e);const r=nD(e.baseURL,e.url,e.allowAbsoluteUrls);return JL(r,e.params,e.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(e){xh.prototype[e]=function(r,n){return this.request(jh(n||{},{method:e,url:r,data:(n||{}).data}))}});ze.forEach(["post","put","patch"],function(e){function r(n){return function(a,s,o){return this.request(jh(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}xh.prototype[e]=r(),xh.prototype[e+"Form"]=r(!0)});let HX=class cD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{n.subscribe(o),a=o}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},e(function(a,s,o){n.reason||(n.reason=new N0(a,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new cD(function(i){e=i}),cancel:e}}};function qX(t){return function(r){return t.apply(null,r)}}function VX(t){return ze.isObject(t)&&t.isAxiosError===!0}const WS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(WS).forEach(([t,e])=>{WS[e]=t});function uD(t){const e=new xh(t),r=zL(xh.prototype.request,e);return ze.extend(r,xh.prototype,e,{allOwnKeys:!0}),ze.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return uD(jh(t,i))},r}const sr=uD(jg);sr.Axios=xh;sr.CanceledError=N0;sr.CancelToken=HX;sr.isCancel=tD;sr.VERSION=lD;sr.toFormData=yy;sr.AxiosError=Zt;sr.Cancel=sr.CanceledError;sr.all=function(e){return Promise.all(e)};sr.spread=qX;sr.isAxiosError=VX;sr.mergeConfig=jh;sr.AxiosHeaders=wa;sr.formToJSON=t=>eD(ze.isHTMLForm(t)?new FormData(t):t);sr.getAdapter=oD.getAdapter;sr.HttpStatusCode=WS;sr.default=sr;const{Axios:bue,AxiosError:wue,CanceledError:Sue,isCancel:_ue,CancelToken:Nue,VERSION:Tue,all:Cue,Cancel:Aue,isAxiosError:Eue,spread:jue,toFormData:kue,AxiosHeaders:Oue,HttpStatusCode:Lue,formToJSON:Due,getAdapter:Pue,mergeConfig:Rue}=sr,WX=t=>{const e={};(!t.name||t.name.length<2)&&(e.name="Name must be at least 2 characters");const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!t.email||!r.test(t.email))&&(e.email="Please enter a valid email address"),t.inquiryType||(e.inquiryType="Please select an inquiry type"),(!t.message||t.message.length<10)&&(e.message="Message must be at least 10 characters"),e};function GX(){const[t,e]=C.useState({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),[r,n]=C.useState({}),[i,a]=C.useState(!1),[s,o]=C.useState(!1),c=h=>{const{name:f,value:d}=h.target;e(p=>({...p,[f]:d})),r[f]&&n(p=>({...p,[f]:""}))},u=async()=>{const h=WX(t);if(Object.keys(h).length>0){n(h);return}a(!0);try{const f=await sr.post("http://localhost:5000/api/contact",t),d=f.data;f.status===200&&d.success?(o(!0),e({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),setTimeout(()=>o(!1),3e3)):n({general:d.message||"Failed to send message."})}catch(f){console.error("Error submitting form:",f),f.response&&f.response.data&&f.response.data.message?n({general:f.response.data.message}):n({general:"Failed to send message. Please try again later."})}finally{a(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50 py-12 px-4",style:{paddingTop:"5rem"},children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"📞 Contact Us"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Have questions about our anime products? Need support with your order? We're here to help! 🎌"})]}),s&&l.jsx("div",{className:"mb-8 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium",children:"Message sent successfully! We'll get back to you as soon as possible."})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{children:l.jsxs("div",{className:"h-full bg-gray-900 text-white rounded-lg shadow-xl overflow-hidden relative",children:[l.jsx("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center",style:{backgroundImage:`url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"%3E%3Cpath d="M0,0h1000v1000H0V0z" fill="%23000"/>%3Cg fill="%23111"%3E%3Cpath d="M100,200h800v100H100V200z"/>%3Cpath d="M200,400h600v100H200V400z"/>%3Cpath d="M150,600h700v100H150V600z"/>%3C/g%3E%3C/svg%3E')`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-black/70"}),l.jsxs("div",{className:"relative z-10 p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold",children:[l.jsx("span",{className:"text-red-400",children:"ANIME"}),l.jsx("span",{className:"text-white ml-1",children:"INDIA POD"})," Support"]}),l.jsx("p",{className:"text-gray-300 mt-2",children:"We aim to respond to all inquiries within 24 hours. 🚀"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(tc,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"📧 Email"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"support@animeindiapod.com"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Ng,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"📱 Phone"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"+91 123 456 7890"}),l.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Mon-Fri 9 AM - 6 PM IST"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(iy,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"🏢 Address"}),l.jsxs("p",{className:"text-gray-300 text-sm",children:["123 Anime Street",l.jsx("br",{}),"Mumbai, Maharashtra 400001",l.jsx("br",{}),"India 🇮🇳"]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(r7,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"🌐 Social Media"}),l.jsxs("div",{className:"flex space-x-3 mt-2",children:[l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors hover:text-red-400",children:"📷 Instagram"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors hover:text-red-400",children:"📺 YouTube"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors hover:text-red-400",children:"🐦 Twitter"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-6",children:[l.jsx("h3",{className:"font-medium text-red-400 mb-2",children:"⏰ Business Hours"}),l.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[l.jsx("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM"}),l.jsx("p",{children:"Saturday: 10:00 AM - 4:00 PM"}),l.jsx("p",{children:"Sunday: Closed"})]})]})]})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-xl border border-red-100 overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"💬 Send us a message"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Fill out the form below and we'll get back to you as soon as possible!"}),l.jsx("div",{className:"h-1 w-20 bg-red-600 rounded-full mt-3"})]}),l.jsxs("div",{className:"space-y-6",children:[r.general&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:r.general}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"👤 Full Name"}),l.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:c,placeholder:"Your name",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),r.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"📧 Email Address"}),l.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:c,placeholder:"your.email@example.com",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),r.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"orderNumber",className:"block text-sm font-semibold text-gray-700 mb-2",children:"📦 Order ID (if applicable)"}),l.jsx("input",{type:"text",id:"orderNumber",name:"orderNumber",value:t.orderNumber,onChange:c,placeholder:"e.g. AI-12345",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"🏷️ Inquiry Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{value:"general",label:"💬 General Question",emoji:"💬"},{value:"order",label:"📦 Order Status",emoji:"📦"},{value:"design",label:"🎨 Design Help",emoji:"🎨"},{value:"return",label:"↩️ Returns & Refunds",emoji:"↩️"}].map(h=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx("input",{type:"radio",name:"inquiryType",value:h.value,checked:t.inquiryType===h.value,onChange:c,className:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"}),l.jsx("span",{className:"text-gray-700",children:h.label})]},h.value))}),r.inquiryType&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.inquiryType})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"💭 Message"}),l.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:c,rows:6,placeholder:"How can we help you with your anime merchandise needs? Please be as detailed as possible...",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none"}),r.message&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.message})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"button",onClick:u,disabled:i,className:"bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 text-white font-semibold px-8 py-3 rounded-lg transition-all transform hover:-translate-y-0.5 shadow-lg hover:shadow-red-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2",children:[l.jsx("span",{children:i?"⏳ Sending...":"🚀 Send Message"}),l.jsx(Bn,{className:"h-5 w-5"})]})})]})]})})})]}),l.jsxs("div",{className:"mt-12 bg-white/60 backdrop-blur-sm rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"🤔 Frequently Asked Questions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"📦 How long does shipping take?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We usually ship within 2-3 business days. Delivery takes 5-7 days within India."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"🎨 Can I customize my anime designs?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Absolutely! Use our customization tool or contact us for special requests."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"↩️ What's your return policy?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Easy 7-day returns for defective products. Custom items have different terms."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"💳 What payment methods do you accept?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We accept UPI, cards, net banking, and cash on delivery."})]})]})]})]})})}const Sf=[{name:"Front",image:"/tshirt-parts/front.png"},{name:"Back",image:"/tshirt-parts/back.png"},{name:"Left Sleeve",image:"/tshirt-parts/leftsleeve.png"},{name:"Right Sleeve",image:"/tshirt-parts/rightsleeve.png"}],W1=[{name:"White",color:"#FFFFFF",folder:"white"},{name:"Black",color:"#000000",folder:"black"},{name:"Blue",color:"#0066CC",folder:"blue"},{name:"Camel",color:"#C19A6B",folder:"camel"},{name:"Lavender",color:"#E6E6FA",folder:"lavender"},{name:"Lime",color:"#32CD32",folder:"lime"},{name:"Pink",color:"#FFC0CB",folder:"pink"},{name:"Yellow",color:"#FFFF00",folder:"yellow"}],pi={0:{x:200,y:200,width:200,height:280},1:{x:200,y:200,width:200,height:280},2:{x:300,y:210,width:50,height:80},3:{x:260,y:220,width:50,height:80}},YX=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#A52A2A","#808080","#00CED1","#32CD32","#DC143C"],XX=[{name:"Vintage Man",image:"/cliparts/vintage-man.png"},{name:"Abstract Art",image:"/cliparts/abstract-art.png"},{name:"Nature Scene",image:"/cliparts/nature-scene.png"},{name:"Geometric Pattern",image:"/cliparts/geometric-pattern.png"},{name:"Typography Design",image:"/cliparts/typography-design.png"},{name:"Animal Silhouette",image:"/cliparts/animal-silhouette.png"},{name:"Floral Pattern",image:"/cliparts/floral-pattern.png"},{name:"Urban Style",image:"/cliparts/urban-style.png"}],hD={"Sans Serif":[{name:"Arial",family:"Arial, sans-serif",preview:"Aa"},{name:"Helvetica",family:"Helvetica, Arial, sans-serif",preview:"Aa"},{name:"Verdana",family:"Verdana, sans-serif",preview:"Aa"},{name:"Trebuchet MS",family:"Trebuchet MS, sans-serif",preview:"Aa"},{name:"Tahoma",family:"Tahoma, sans-serif",preview:"Aa"},{name:"Century Gothic",family:"Century Gothic, sans-serif",preview:"Aa"},{name:"Calibri",family:"Calibri, sans-serif",preview:"Aa"},{name:"Open Sans",family:"Open Sans, sans-serif",preview:"Aa"}],Serif:[{name:"Times New Roman",family:"Times New Roman, serif",preview:"Aa"},{name:"Georgia",family:"Georgia, serif",preview:"Aa"},{name:"Palatino",family:"Palatino, serif",preview:"Aa"},{name:"Book Antiqua",family:"Book Antiqua, serif",preview:"Aa"},{name:"Garamond",family:"Garamond, serif",preview:"Aa"}],Display:[{name:"Impact",family:"Impact, Arial Black, sans-serif",preview:"Aa"},{name:"Copperplate",family:"Copperplate, fantasy",preview:"Aa"},{name:"Bebas Neue",family:"Bebas Neue, cursive",preview:"Aa"},{name:"Anton",family:"Anton, sans-serif",preview:"Aa"},{name:"Oswald",family:"Oswald, sans-serif",preview:"Aa"}],Script:[{name:"Brush Script MT",family:"Brush Script MT, cursive",preview:"Aa"},{name:"Lucida Handwriting",family:"Lucida Handwriting, cursive",preview:"Aa"},{name:"Pacifico",family:"Pacifico, cursive",preview:"Aa"},{name:"Dancing Script",family:"Dancing Script, cursive",preview:"Aa"},{name:"Alex Brush",family:"Alex Brush, cursive",preview:"Aa"}]},$X=Object.entries(hD).flatMap(([t,e])=>e.map(r=>({...r,category:t}))),KX=[{text:"Bridge",font:"Impact, Arial Black, sans-serif",size:48,weight:"bold",color:"#2563eb"},{text:"Text Mask",font:"Brush Script MT, cursive",size:36,weight:"normal",color:"#dc2626"},{text:"Oswald",font:"Oswald, sans-serif",size:42,weight:"bold",color:"#000000"},{text:"Anton",font:"Anton, sans-serif",size:44,weight:"normal",color:"#7c3aed"},{text:"Pacifico",font:"Pacifico, cursive",size:32,weight:"normal",color:"#059669"},{text:"Quicksand",font:"Arial, sans-serif",size:28,weight:"600",color:"#ea580c"}];function QX(){const t=C.useRef(null),e=C.useRef(null),[r,n]=C.useState(0),[i,a]=C.useState(0),[s,o]=C.useState(null),[c,u]=C.useState(!1),[h,f]=C.useState("move"),[d,p]=C.useState("#000000"),[x,m]=C.useState(""),[y,v]=C.useState(24),[b,S]=C.useState($X[0]),[T,E]=C.useState("normal"),[P,j]=C.useState("normal"),[L,F]=C.useState(!1),[W,D]=C.useState(null),[O,q]=C.useState(""),[I,ae]=C.useState([]),[X,le]=C.useState(null),[re,ue]=C.useState(null),[ge,Ge]=C.useState(!1),[A,M]=C.useState(null),[R,B]=C.useState(!1),[Q,fe]=C.useState([[]]),[he,pe]=C.useState(0),[Te,He]=C.useState(!1),[Qe,et]=C.useState(!0),[me,ce]=C.useState(!1),[Z,je]=C.useState(!1),Ce=C.useCallback(ve=>{const de=Q.slice(0,he+1);de.push([...ve]),fe(de),pe(de.length-1)},[Q,he]),Oe=()=>{he>0&&(pe(he-1),ae([...Q[he-1]]),le(null))},Xe=()=>{he<Q.length-1&&(pe(he+1),ae([...Q[he+1]]),le(null))};C.useEffect(()=>{const ve=W1[i],de=Sf[r],Ae=new Image,qe=`/tshirt-colors/${ve.folder}/${de.name.toLowerCase().replace(" ","-")}.png`;Ae.src=qe,Ae.onload=()=>{o(Ae),u(!1)},Ae.onerror=()=>{const pt=`/tshirt-parts/${de.name.toLowerCase().replace(" ","-")}.png`,Be=new Image;Be.src=pt,Be.onload=()=>{o(Be),u(!1)},Be.onerror=()=>{o(null),u(!0)}}},[r,i]);const st=()=>Math.random().toString(36).substr(2,9),ht=()=>{const ve="+919266767693",de=encodeURIComponent("Hi! I would like to order this custom t-shirt design. Can you help me with the pricing and delivery details?"),Ae=`https://wa.me/${ve}?text=${de}`;window.open(Ae,"_blank")},Ct=(ve,de)=>{const Ae=pi[r];return Ae?ve>=Ae.x&&de>=Ae.y&&ve<=Ae.x+Ae.width&&de<=Ae.y+Ae.height:!1},Ue=(ve,de)=>{const Ae=I.map(qe=>{if(qe.id===ve&&qe.type==="text"){const pt=de.length*(qe.fontSize||24)*.6;return{...qe,text:de,width:pt}}return qe});ae(Ae),Ce(Ae)},it=ve=>{const de=I.find(Ae=>Ae.id===ve);de&&de.type==="text"&&(D(ve),q(de.text||""))},bt=()=>{W&&O.trim()&&Ue(W,O.trim()),D(null),q("")},St=ve=>{if(ve.type==="text")return ve;const de=pi[ve.tshirtPart];if(!de)return ve;const Ae=ve.width||100,qe=ve.height||30;let pt=Math.max(de.x,Math.min(ve.x,de.x+de.width-Ae)),Be=Math.max(de.y,Math.min(ve.y,de.y+de.height-qe));return{...ve,x:pt,y:Be}},Pt=(ve,de,Ae)=>{if(ve.type==="text")return{width:de,height:Ae};const qe=pi[ve.tshirtPart];if(!qe)return{width:de,height:Ae};const pt=qe.width,Be=qe.height,ke=Math.min(de,pt),Je=Math.min(Ae,Be),Ze=20,yt=Math.max(ke,Ze),At=Math.max(Je,Ze);return{width:yt,height:At}},Dt=ve=>{if(!t.current)return;const Ae={id:st(),type:"text",text:ve.text,x:100,y:150,color:ve.color,fontSize:ve.size,fontFamily:ve.font,fontWeight:ve.weight,fontStyle:"normal",width:ve.text.length*ve.size*.6,height:ve.size,rotation:0,visible:!0,tshirtPart:r},qe=[...I,Ae];ae(qe),Ce(qe),le(Ae.id),f("move"),et(!1)},Rt=ve=>{const de=new window.Image;de.onload=()=>{const Ae=pi[r],qe=Ae.width*.6,pt=Ae.height*.6,Be=de.naturalWidth/de.naturalHeight;let ke,Je;Be>1?(ke=Math.min(qe,pt*Be),Je=ke/Be):(Je=Math.min(pt,qe/Be),ke=Je*Be);const Ze=40;ke<Ze&&(ke=Ze,Je=Ze/Be),Je<Ze&&(Je=Ze,ke=Ze*Be);const yt=Ae.x+(Ae.width-ke)/2,At=Ae.y+(Ae.height-Je)/2,z={id:st(),type:"image",imageData:de,x:yt,y:At,width:ke,height:Je,rotation:0,visible:!0,tshirtPart:r},te=[...I,z];ae(te),Ce(te),le(z.id),f("move"),et(!0)},de.onerror=()=>{console.error("Failed to load clipart:",ve)},de.src=ve},vt=(ve,de,Ae)=>{const pt=Ae.width||100,Be=Ae.height||30,ke=Ae.x,Je=Ae.y;return ve>=ke-20&&ve<=ke+20&&de>=Je-20&&de<=Je+20?"nw":ve>=ke+pt-20&&ve<=ke+pt+20&&de>=Je-20&&de<=Je+20?"ne":ve>=ke-20&&ve<=ke+20&&de>=Je+Be-20&&de<=Je+Be+20?"sw":ve>=ke+pt-20&&ve<=ke+pt+20&&de>=Je+Be-20&&de<=Je+Be+20?"se":ve>=ke-20&&ve<=ke+pt+20&&de>=Je-20&&de<=Je+20?"n":ve>=ke-20&&ve<=ke+pt+20&&de>=Je+Be-20&&de<=Je+Be+20?"s":ve>=ke-20&&ve<=ke+20&&de>=Je-20&&de<=Je+Be+20?"w":ve>=ke+pt-20&&ve<=ke+pt+20&&de>=Je-20&&de<=Je+Be+20?"e":null},$r=(ve,de,Ae)=>{const qe=Ae.x+(Ae.width||100)/2,pt=Ae.y-35;return Math.sqrt((ve-qe)**2+(de-pt)**2)<=15},er=(ve,de,Ae,qe)=>{if(ve.type!=="image"||!ve.imageData)return{width:de,height:Ae};const pt=ve.imageData.naturalWidth/ve.imageData.naturalHeight,Be=ve.width||100,ke=ve.height||100;let Je=de,Ze=Ae;if(qe.includes("n")||qe.includes("s"))Ze=Ae,Je=Ze*pt;else if(qe.includes("e")||qe.includes("w"))Je=de,Ze=Je/pt;else{const yt=Math.abs(de-Be),At=Math.abs(Ae-ke);yt>At?(Je=de,Ze=Je/pt):(Ze=Ae,Je=Ze*pt)}return{width:Je,height:Ze}},mn=C.useCallback(()=>{const ve=t.current;if(!ve||!s)return;ve.width=600,ve.height=700;const de=ve.getContext("2d");if(!de)return;de.clearRect(0,0,ve.width,ve.height),de.fillStyle="#2d3748",de.fillRect(0,0,ve.width,ve.height);const Ae=Math.min(ve.width/s.naturalWidth,ve.height/s.naturalHeight)*.95,qe=(ve.width-s.naturalWidth*Ae)/2,pt=(ve.height-s.naturalHeight*Ae)/2;de.drawImage(s,qe,pt,s.naturalWidth*Ae,s.naturalHeight*Ae);const Be=pi[r];Be&&(de.strokeStyle="#3b82f6",de.lineWidth=2,de.setLineDash([10,5]),de.strokeRect(Be.x,Be.y,Be.width,Be.height),de.setLineDash([]),de.fillStyle="#3b82f6",de.font="bold 14px Arial",de.textAlign="center",de.fillText("Design Area",Be.x+Be.width/2,Be.y-10)),I.filter(ke=>ke.visible!==!1&&ke.tshirtPart===r).forEach(ke=>{if(de.save(),ke.rotation){const Je=ke.x+(ke.width||50)/2,Ze=ke.y+(ke.height||30)/2;de.translate(Je,Ze),de.rotate(ke.rotation*Math.PI/180),de.translate(-Je,-Ze)}if(ke.type==="text"){const Je=ke.fontFamily||b.family,Ze=ke.fontWeight||"normal",yt=ke.fontStyle||"normal";de.font=`${yt} ${Ze} ${ke.fontSize}px ${Je}`,de.fillStyle=ke.color||"#000000",de.textBaseline="top",de.fillText(ke.text||"",ke.x,ke.y)}else ke.type==="shape"?(de.fillStyle=ke.color||"#000000",ke.shape==="rectangle"?de.fillRect(ke.x,ke.y,ke.width||50,ke.height||50):ke.shape==="circle"&&(de.beginPath(),de.arc(ke.x+(ke.width||50)/2,ke.y+(ke.height||50)/2,(ke.width||50)/2,0,2*Math.PI),de.fill())):ke.type==="image"&&ke.imageData&&de.drawImage(ke.imageData,ke.x,ke.y,ke.width||100,ke.height||100);if(de.restore(),X===ke.id){const Je=ke.width||100,Ze=ke.height||30;de.strokeStyle="#3b82f6",de.lineWidth=3,de.setLineDash([8,4]),de.strokeRect(ke.x-3,ke.y-3,Je+6,Ze+6),de.setLineDash([]),de.fillStyle="#3b82f6",de.strokeStyle="#ffffff",de.lineWidth=3;const yt=16;[{x:ke.x-yt/2,y:ke.y-yt/2},{x:ke.x+Je/2-yt/2,y:ke.y-yt/2},{x:ke.x+Je-yt/2,y:ke.y-yt/2},{x:ke.x+Je-yt/2,y:ke.y+Ze/2-yt/2},{x:ke.x+Je-yt/2,y:ke.y+Ze-yt/2},{x:ke.x+Je/2-yt/2,y:ke.y+Ze-yt/2},{x:ke.x-yt/2,y:ke.y+Ze-yt/2},{x:ke.x-yt/2,y:ke.y+Ze/2-yt/2}].forEach((K,ee)=>{ee<4?de.fillStyle="#3b82f6":de.fillStyle="#60a5fa",de.fillRect(K.x,K.y,yt,yt),de.strokeRect(K.x,K.y,yt,yt),de.fillStyle="#ffffff",de.beginPath(),de.arc(K.x+yt/2,K.y+yt/2,2,0,2*Math.PI),de.fill()});const z=ke.x+Je/2-10,te=ke.y-40;de.fillStyle="#10b981",de.strokeStyle="#ffffff",de.lineWidth=3,de.beginPath(),de.arc(z+10,te+10,12,0,2*Math.PI),de.fill(),de.stroke(),de.strokeStyle="#ffffff",de.lineWidth=2,de.beginPath(),de.arc(z+10,te+10,6,0,1.5*Math.PI),de.stroke(),de.beginPath(),de.moveTo(z+16,te+4),de.lineTo(z+14,te+2),de.moveTo(z+16,te+4),de.lineTo(z+14,te+6),de.stroke(),ke.type==="image"&&ke.imageData&&(de.fillStyle="#059669",de.font="bold 10px Arial",de.textAlign="center",de.fillText("Aspect Locked",ke.x+Je/2,ke.y-5))}})},[s,I,X,r]);C.useEffect(()=>{mn()},[mn]);const ur=ve=>{const de=t.current;if(!de)return;const Ae=de.getBoundingClientRect(),qe=(ve.clientX-Ae.left)*(de.width/Ae.width),pt=(ve.clientY-Ae.top)*(de.height/Ae.height);if(h!=="move"&&h!=="text"||Ct(qe,pt)&&h!=="text"?et(!0):et(!1),h==="text"&&x.trim()){const Be=x.length*y*.6,ke=y;let Je=Math.max(10,Math.min(qe,de.width-Be-10)),Ze=Math.max(10,Math.min(pt,de.height-ke-10));const yt={id:st(),type:"text",text:x,x:Je,y:Ze,color:d,fontSize:y,fontFamily:b.family,fontWeight:T,fontStyle:P,width:Be,height:ke,rotation:0,visible:!0,tshirtPart:r},At=[...I,yt];ae(At),Ce(At),m(""),le(yt.id),f("move"),et(!1)}else if(h==="move"){if(X){const ke=I.find(Je=>Je.id===X);if(ke&&$r(qe,pt,ke)){B(!0),ue({x:qe,y:pt});return}}if(X){const ke=I.find(Je=>Je.id===X);if(ke){const Je=vt(qe,pt,ke);if(Je){M(Je),Ge(!0),je(!1),ue({x:qe,y:pt});return}}}let Be=!1;for(let ke=I.length-1;ke>=0;ke--){const Je=I[ke];if(Je.visible!==!1&&Je.tshirtPart===r&&qe>=Je.x&&qe<=Je.x+(Je.width||100)&&pt>=Je.y&&pt<=Je.y+(Je.height||30)){le(Je.id),ue({x:qe-Je.x,y:pt-Je.y}),je(!0),Ge(!1),B(!1),M(null),Je.type!=="text"&&Ct(qe,pt)?et(!0):et(!1),Be=!0;break}}Be||(le(null),je(!1),Ge(!1),B(!1),M(null))}},vr=ve=>{if(h!=="move"||X===null||!re||!Z&&!ge&&!R)return;const de=t.current;if(!de)return;const Ae=de.getBoundingClientRect(),qe=(ve.clientX-Ae.left)*(de.width/Ae.width),pt=(ve.clientY-Ae.top)*(de.height/Ae.height);if(R){const Be=I.find(ke=>ke.id===X);if(Be){const ke=Be.x+(Be.width||100)/2,Je=Be.y+(Be.height||30)/2,Ze=Math.atan2(pt-Je,qe-ke)*180/Math.PI+90,yt=I.map(At=>At.id===X?{...At,rotation:Ze}:At);ae(yt)}}else if(ge&&A){const Be=qe-re.x,ke=pt-re.y,Je=I.map(Ze=>{if(Ze.id===X){const yt={...Ze},At=20;let z=Ze.width||100,te=Ze.height||30,K=Ze.x,ee=Ze.y;switch(A){case"nw":z=Math.max(At,(Ze.width||100)-Be),te=Math.max(At,(Ze.height||30)-ke),K=Ze.x+Be,ee=Ze.y+ke;break;case"n":te=Math.max(At,(Ze.height||30)-ke),ee=Ze.y+ke;break;case"ne":z=Math.max(At,(Ze.width||100)+Be),te=Math.max(At,(Ze.height||30)-ke),ee=Ze.y+ke;break;case"e":z=Math.max(At,(Ze.width||100)+Be);break;case"se":z=Math.max(At,(Ze.width||100)+Be),te=Math.max(At,(Ze.height||30)+ke);break;case"s":te=Math.max(At,(Ze.height||30)+ke);break;case"sw":z=Math.max(At,(Ze.width||100)-Be),te=Math.max(At,(Ze.height||30)+ke),K=Ze.x+Be;break;case"w":z=Math.max(At,(Ze.width||100)-Be),K=Ze.x+Be;break}if(Ze.type==="image"&&Ze.imageData){const se=er(Ze,z,te,A);z=se.width,te=se.height,A.includes("w")&&(K=Ze.x+(Ze.width||100)-z),A.includes("n")&&(ee=Ze.y+(Ze.height||30)-te)}if(Ze.type==="text"&&Ze.fontSize){const se=Ze.width||100,De=z/se;yt.fontSize=Math.max(8,Math.round(Ze.fontSize*De))}const ie=Pt(Ze,z,te);return z=ie.width,te=ie.height,yt.width=z,yt.height=te,yt.x=K,yt.y=ee,Ze.type!=="text"?St(yt):yt}return Ze});ae(Je),ue({x:qe,y:pt})}else{const Be=I.map(ke=>{if(ke.id===X){const Je=qe-re.x,Ze=pt-re.y;if(ke.type==="text"){const yt=ke.width||100,At=ke.height||30,z=Math.max(5,Math.min(Je,de.width-yt-5)),te=Math.max(5,Math.min(Ze,de.height-At-5));return{...ke,x:z,y:te}}else{const yt={...ke,x:Je,y:Ze};return St(yt)}}return ke});ae(Be)}if(X&&!ge&&!R){const Be=I.find(ke=>ke.id===X);if(Be)if($r(qe,pt,Be))de.style.cursor="grab";else{const ke=vt(qe,pt,Be);if(ke){const Je={nw:"nw-resize",n:"n-resize",ne:"ne-resize",e:"e-resize",se:"se-resize",s:"s-resize",sw:"sw-resize",w:"w-resize"};de.style.cursor=Je[ke]||"default"}else de.style.cursor="move"}}},Wn=()=>{re&&X&&(Z||ge||R)&&Ce(I),ue(null),je(!1),Ge(!1),B(!1),M(null)},ir=ve=>{var qe;const de=(qe=ve.target.files)==null?void 0:qe[0];if(!de)return;const Ae=new FileReader;Ae.onload=pt=>{var ke;const Be=new Image;Be.onload=()=>{const Je=pi[r],Ze=Je.width*.7,yt=Je.height*.7,At=Be.naturalWidth/Be.naturalHeight;let z,te;At>1?(z=Math.min(Ze,yt*At),te=z/At):(te=Math.min(yt,Ze/At),z=te*At);const K=50;z<K&&(z=K,te=K/At),te<K&&(te=K,z=K*At);const ee={id:st(),type:"image",imageData:Be,x:Je.x+(Je.width-z)/2,y:Je.y+(Je.height-te)/2,width:z,height:te,rotation:0,visible:!0,tshirtPart:r},ie=[...I,ee];ae(ie),Ce(ie),le(ee.id),f("move"),et(!0)},Be.src=(ke=pt.target)==null?void 0:ke.result},Ae.readAsDataURL(de)},Wi=()=>{if(X!==null){const ve=I.filter(de=>de.id!==X);ae(ve),Ce(ve),le(null)}},Br=()=>{if(X){const ve=I.find(de=>de.id===X);if(ve){let de;ve.type==="text"?de={...ve,id:st(),x:ve.x+20,y:ve.y+20,tshirtPart:r}:de=St({...ve,id:st(),x:ve.x+20,y:ve.y+20,tshirtPart:r});const Ae=[...I,de];ae(Ae),Ce(Ae),le(de.id)}}},Zn=ve=>{if(X){const de=I.map(Ae=>Ae.id===X?{...Ae,rotation:(Ae.rotation||0)+ve}:Ae);ae(de),Ce(de)}},La=ve=>{const de=I.map(Ae=>Ae.id===ve?{...Ae,visible:!Ae.visible}:Ae);ae(de),Ce(de)},Tr=(ve,de)=>{const Ae=I.findIndex(Be=>Be.id===ve);if(Ae===-1)return;const qe=[...I],[pt]=qe.splice(Ae,1);de==="front"?qe.push(pt):qe.unshift(pt),ae(qe),Ce(qe)},Ht=()=>{const ve=t.current;if(!ve)return;const de=document.createElement("a");de.download=`tshirt-${Sf[r].name.toLowerCase().replace(" ","-")}.png`,de.href=ve.toDataURL(),de.click()};return C.useEffect(()=>{const ve=de=>{if(de.ctrlKey||de.metaKey)de.key==="z"&&!de.shiftKey?(de.preventDefault(),Oe()):de.key==="z"&&de.shiftKey||de.key==="y"?(de.preventDefault(),Xe()):de.key==="d"&&(de.preventDefault(),Br());else if(de.key==="Delete"||de.key==="Backspace")Wi();else if(de.key==="r"&&X)Zn(15);else if(de.key==="R"&&X)Zn(-15);else if(X){const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=de.shiftKey?10:1;let pt=Ae.x,Be=Ae.y;switch(de.key){case"ArrowUp":de.preventDefault(),Be-=qe;break;case"ArrowDown":de.preventDefault(),Be+=qe;break;case"ArrowLeft":de.preventDefault(),pt-=qe;break;case"ArrowRight":de.preventDefault(),pt+=qe;break;case"Home":de.preventDefault();const Ze=pi[Ae.tshirtPart];Ze&&(pt=Ze.x+(Ze.width-(Ae.width||100))/2,Be=Ze.y+(Ze.height-(Ae.height||30))/2);break;case"End":de.preventDefault();const yt=pi[Ae.tshirtPart];yt&&(pt=yt.x+yt.width-(Ae.width||100),Be=yt.y+yt.height-(Ae.height||30));break;case"PageUp":de.preventDefault();const At=pi[Ae.tshirtPart];At&&(pt=At.x+(At.width-(Ae.width||100))/2,Be=At.y);break;case"PageDown":de.preventDefault();const z=pi[Ae.tshirtPart];z&&(pt=z.x+(z.width-(Ae.width||100))/2,Be=z.y+z.height-(Ae.height||30));break}let ke={...Ae,x:pt,y:Be};Ae.type!=="text"&&(ke=St(ke));const Je=I.map(Ze=>Ze.id===X?ke:Ze);ae(Je),Ce(Je)}}};return window.addEventListener("keydown",ve),()=>window.removeEventListener("keydown",ve)},[he,X,I,Q]),C.useEffect(()=>{le(null),Ge(!1),B(!1),M(null),et(!0)},[r]),C.useEffect(()=>{h!=="move"&&et(!0)},[h]),C.useEffect(()=>{const ve=I.find(de=>de.id===X);ve&&ve.type!=="text"?et(!0):et(!1)},[X,I]),l.jsxs("div",{className:"flex h-screen bg-gray-900 pt-32",children:[l.jsx("div",{className:"w-80 bg-gray-800 shadow-lg overflow-y-auto border-r border-gray-700",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"T-Shirt Studio"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Oe,disabled:he===0,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-gray-300 hover:text-white",title:"Undo (Ctrl+Z)",children:l.jsx(s7,{size:18})}),l.jsx("button",{onClick:Xe,disabled:he===Q.length-1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-gray-300 hover:text-white",title:"Redo (Ctrl+Y)",children:l.jsx(i7,{size:18})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-200",children:"T-Shirt Color"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:W1.map((ve,de)=>l.jsxs("button",{onClick:()=>a(de),className:`p-2 rounded-lg border-2 transition-all hover:scale-105 flex flex-col items-center ${i===de?"border-blue-500 ring-2 ring-blue-200 shadow-md":"border-gray-600 hover:border-gray-500"}`,title:ve.name,children:[l.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 mb-1",style:{backgroundColor:ve.color}}),l.jsx("span",{className:"text-xs text-gray-300",children:ve.name})]},de))}),l.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Selected: ",W1[i].name," T-shirt"]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-200",children:"T-Shirt Part"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Sf.map((ve,de)=>l.jsx("button",{onClick:()=>n(de),className:`p-3 text-sm rounded-lg border transition-all ${r===de?"bg-blue-500 text-white border-blue-500 shadow-md":"bg-gray-700 hover:bg-gray-600 border-gray-600 text-gray-200"}`,children:ve.name},de))}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Elements will only appear on the selected part"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-200",children:"Tools"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"move",icon:IH,label:"Select"},{id:"text",icon:Wv,label:"Text"}].map(({id:ve,icon:de,label:Ae})=>l.jsxs("button",{onClick:()=>f(ve),className:`p-3 rounded-lg border transition-all flex flex-col items-center ${h===ve?"bg-blue-500 text-white border-blue-500 shadow-md":"bg-gray-700 hover:bg-gray-600 border-gray-600 text-gray-200"}`,children:[l.jsx(de,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:Ae})]},ve))}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:ht,className:"w-full p-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2 shadow-sm font-medium",children:"📱 Share on WhatsApp"})})]}),X&&(()=>{const ve=I.find(Ae=>Ae.id===X);let de=null;return ve&&ve.type==="text"&&(de=l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Edit Text:"}),W===X?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:O,onChange:Ae=>q(Ae.target.value),onKeyDown:Ae=>{Ae.key==="Enter"&&bt(),Ae.key==="Escape"&&(D(null),q(""))},className:"flex-1 p-2 border border-gray-500 rounded focus:outline-none focus:ring-2 focus:ring-gray-500 bg-gray-700 text-gray-200 placeholder-gray-400",placeholder:"Enter text...",autoFocus:!0}),l.jsx("button",{onClick:bt,children:"✓"}),l.jsx("button",{onClick:()=>{D(null),q("")},children:"✕"})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"flex-1 p-2 bg-gray-700 border border-gray-500 rounded text-gray-200",children:['"',ve.text,'"']}),l.jsxs("button",{onClick:()=>it(X),children:[l.jsx(Wv,{size:14}),"Edit"]})]})]})),l.jsxs("div",{className:"mb-6 p-4 bg-gray-700 border border-gray-600 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-semibold text-gray-200",children:"Selected Element"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=pi[Ae.tshirtPart];if(qe){const pt=qe.x+(qe.width-(Ae.width||100))/2,Be=qe.y+(qe.height-(Ae.height||30))/2;let ke=Ae.width||100,Je=Ae.height||30;if(Ae.type==="image"&&Ae.imageData){const At=Math.min(qe.width,qe.height)*.3;if(ke<At){const z=Ae.imageData.naturalWidth/Ae.imageData.naturalHeight;ke=At,Je=At/z}}const Ze=St({...Ae,x:pt,y:Be,width:ke,height:Je}),yt=I.map(At=>At.id===X?Ze:At);ae(yt),Ce(yt)}}},className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-1 text-xs",title:"Quick fix: Center and optimize position",children:"🎯 Fix Position"}),l.jsxs("button",{onClick:Wi,className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1",title:"Delete Selected Element",children:[l.jsx(pu,{size:14}),"Delete"]})]})]}),de,l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("button",{onClick:()=>Zn(-15),className:"flex-1 p-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center justify-center gap-1",title:"Rotate Left (Shift+R)",children:[l.jsx(sy,{size:14}),"-15°"]}),l.jsxs("button",{onClick:()=>Zn(15),className:"flex-1 p-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center justify-center gap-1",title:"Rotate Right (R)",children:[l.jsx(VH,{size:14}),"+15°"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>Tr(X,"front"),className:"flex-1 p-2 bg-green-500 text-white rounded hover:bg-green-600 text-xs",children:"Bring Front"}),l.jsx("button",{onClick:()=>Tr(X,"back"),className:"flex-1 p-2 bg-orange-500 text-white rounded hover:bg-orange-600 text-xs",children:"Send Back"})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"text-xs text-gray-300 mb-2 font-medium",children:"Position Controls:"}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("button",{onClick:()=>{const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=pi[Ae.tshirtPart];if(qe){const pt=qe.x+(qe.width-(Ae.width||100))/2,Be=qe.y+(qe.height-(Ae.height||30))/2,ke=St({...Ae,x:pt,y:Be}),Je=I.map(Ze=>Ze.id===X?ke:Ze);ae(Je),Ce(Je)}}},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs",title:"Center in design area (Home key)",children:"Center"}),l.jsx("button",{onClick:()=>{const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=pi[Ae.tshirtPart];if(qe){const pt=qe.x,Be=qe.y+(qe.height-(Ae.height||30))/2,ke=St({...Ae,x:pt,y:Be}),Je=I.map(Ze=>Ze.id===X?ke:Ze);ae(Je),Ce(Je)}}},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs",title:"Align to left edge",children:"Left"}),l.jsx("button",{onClick:()=>{const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=pi[Ae.tshirtPart];if(qe){const pt=qe.x+qe.width-(Ae.width||100),Be=qe.y+(qe.height-(Ae.height||30))/2,ke=St({...Ae,x:pt,y:Be}),Je=I.map(Ze=>Ze.id===X?ke:Ze);ae(Je),Ce(Je)}}},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs",title:"Align to right edge",children:"Right"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-1",children:[l.jsx("button",{onClick:()=>{const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=pi[Ae.tshirtPart];if(qe){const pt=qe.x+(qe.width-(Ae.width||100))/2,Be=qe.y,ke=St({...Ae,x:pt,y:Be}),Je=I.map(Ze=>Ze.id===X?ke:Ze);ae(Je),Ce(Je)}}},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs",title:"Align to top (PageUp key)",children:"Top"}),l.jsx("button",{onClick:()=>{const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=pi[Ae.tshirtPart];if(qe){const pt=qe.x+(qe.width-(Ae.width||100))/2,Be=qe.y+qe.height-(Ae.height||30),ke=St({...Ae,x:pt,y:Be}),Je=I.map(Ze=>Ze.id===X?ke:Ze);ae(Je),Ce(Je)}}},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs",title:"Align to bottom (PageDown key)",children:"Bottom"}),l.jsx("button",{onClick:()=>{const Ae=I.find(qe=>qe.id===X);if(Ae){const qe=pi[Ae.tshirtPart];if(qe){const pt=qe.x+qe.width-(Ae.width||100),Be=qe.y+qe.height-(Ae.height||30),ke=St({...Ae,x:pt,y:Be}),Je=I.map(Ze=>Ze.id===X?ke:Ze);ae(Je),Ce(Je)}}},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs",title:"Snap to corner (End key)",children:"Corner"})]})]}),l.jsx("p",{className:"text-xs text-gray-300 mt-2",children:"💡 Drag to move, use corner/edge handles to resize, use green circle to rotate"}),l.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"🎯 Use arrow keys for fine positioning, Shift+arrows for larger moves"})]})})(),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-200",children:"Cliparts"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:XX.map((ve,de)=>l.jsxs("div",{onClick:()=>Rt(ve.image),className:"relative bg-gray-700 hover:bg-blue-600 border border-gray-600 hover:border-blue-400 rounded-lg transition-all cursor-pointer hover:shadow-md group overflow-hidden transform hover:scale-105",style:{aspectRatio:"1",minHeight:"80px"},title:`Click to add ${ve.name} to design area`,children:[l.jsx("img",{src:ve.image,alt:ve.name,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform duration-200",onError:Ae=>{const qe=Ae.target;qe.style.display="none";const pt=qe.parentElement;pt&&(pt.innerHTML=`
                        <div class="w-full h-full flex items-center justify-center bg-gray-600 text-gray-300 p-2">
                          <div class="text-center">
                            <div class="text-2xl mb-1">🎨</div>
                            <div class="text-xs">${ve.name}</div>
                          </div>
                        </div>
                      `)}}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-80 text-white text-xs p-1 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:ve.name}),l.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to Add"})]},de))}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"🎯 Click any clipart to add it to the center of your design area - it will be automatically selected for easy editing!"}),l.jsxs("div",{className:"mt-2 p-2 bg-gray-700 border border-gray-600 rounded text-xs text-gray-300",children:["💡 ",l.jsx("strong",{children:"Pro Tip:"})," Use the corner handles (blue squares) to resize while maintaining aspect ratio. Edge handles (light blue) allow free resizing."]})]}),h==="text"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-700",children:"Text Settings"}),l.jsx("input",{type:"text",value:x,onChange:ve=>m(ve.target.value),placeholder:"Enter text...",className:"w-full p-3 border border-gray-300 rounded-lg mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsxs("div",{className:"mb-3 relative",children:[l.jsxs("button",{onClick:()=>F(!L),className:"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 hover:bg-gray-600 flex items-center justify-between text-gray-200",style:{fontFamily:b.family},children:[l.jsx("span",{children:b.name}),l.jsx("span",{className:"text-gray-400",children:"▼"})]}),L&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>F(!1)}),l.jsx("div",{className:"absolute left-0 top-full z-50 w-96 bg-white border border-gray-300 rounded-lg shadow-xl mt-1",style:{maxHeight:"300px",overflowY:"auto"},children:Object.entries(hD).map(([ve,de])=>l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-3 font-semibold uppercase tracking-wide border-b border-gray-200 pb-1",children:ve}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:de.map(Ae=>l.jsxs("button",{onClick:()=>{S({...Ae,category:ve}),F(!1)},className:`p-3 text-center rounded-lg border-2 transition-all hover:border-blue-400 hover:bg-blue-50 ${b.name===Ae.name?"border-blue-500 bg-blue-100":"border-gray-200"}`,style:{fontFamily:Ae.family},children:[l.jsx("div",{className:"text-2xl font-medium mb-1",children:Ae.preview}),l.jsx("div",{className:"text-xs text-gray-600",children:Ae.name})]},Ae.name))})]},ve))})]})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("button",{onClick:()=>E(T==="bold"?"normal":"bold"),className:`px-3 py-2 border rounded ${T==="bold"?"bg-blue-500 text-white":"bg-gray-700 text-gray-200 border-gray-600"}`,style:{fontWeight:"bold"},children:"B"}),l.jsx("button",{onClick:()=>j(P==="italic"?"normal":"italic"),className:`px-3 py-2 border rounded ${P==="italic"?"bg-blue-500 text-white":"bg-gray-700 text-gray-200 border-gray-600"}`,style:{fontStyle:"italic"},children:"I"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm mb-2 text-gray-300",children:["Font Size: ",y,"px"]}),l.jsx("input",{type:"range",min:"12",max:"72",value:y,onChange:ve=>v(Number(ve.target.value)),className:"w-full"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-200",children:"Text Examples"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:KX.map((ve,de)=>l.jsx("button",{onClick:()=>Dt(ve),className:"p-3 bg-gray-700 hover:bg-blue-600 border border-gray-600 hover:border-blue-400 rounded-lg transition-all text-center hover:shadow-sm",style:{fontFamily:ve.font,color:ve.color,fontSize:"14px",fontWeight:ve.weight==="600"?"600":ve.weight},children:ve.text},de))}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Click any example to add it to the design area"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("button",{onClick:()=>{var ve;return(ve=e.current)==null?void 0:ve.click()},className:"w-full p-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2 shadow-sm",children:[l.jsx(o7,{size:20}),"Upload Image"]}),l.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:ir,className:"hidden"}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Images will be auto-sized to fit the design area"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("button",{onClick:()=>ce(!me),className:"w-full p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 shadow-sm font-medium",children:[l.jsx(n7,{size:16}),me?"Hide":"Show"," Text Colors"]}),me&&l.jsxs("div",{className:"mt-3 p-3 bg-gray-700 rounded-lg border border-gray-600",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-200 text-sm",children:"Text Color"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:YX.map(ve=>l.jsx("button",{onClick:()=>p(ve),className:`w-8 h-8 rounded-lg border-2 transition-all hover:scale-105 ${d===ve?"border-blue-500 ring-2 ring-blue-200":"border-gray-600"}`,style:{backgroundColor:ve},title:ve},ve))}),l.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Selected: ",l.jsx("span",{style:{color:d},children:"■"})," ",d]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:Br,disabled:X===null,className:"flex-1 p-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",title:"Duplicate (Ctrl+D)",children:[l.jsx(CH,{size:16}),"Copy"]})}),l.jsxs("button",{onClick:()=>He(!Te),className:"w-full p-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 flex items-center justify-center gap-2 transition-colors",children:[l.jsx(PH,{size:16}),Te?"Hide":"Show"," Layers"]}),l.jsxs("button",{onClick:()=>et(!Qe),className:"w-full p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center justify-center gap-2 transition-colors",children:[l.jsx(du,{size:16}),Qe?"Hide":"Show"," Design Area"]}),l.jsxs("button",{onClick:Ht,className:"w-full p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center justify-center gap-2 transition-colors shadow-sm",children:[l.jsx(ZO,{size:18}),"Download Design"]})]}),Te&&l.jsxs("div",{className:"mt-6 border-t border-gray-700 pt-6",children:[l.jsxs("h3",{className:"font-semibold mb-3 text-gray-200",children:["Layers for ",Sf[r].name," (",I.filter(ve=>ve.tshirtPart===r).length,")"]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:I.filter(ve=>ve.tshirtPart===r).map((ve,de)=>l.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${X===ve.id?"border-blue-500 bg-blue-900":"border-gray-600 bg-gray-700"}`,onClick:()=>le(ve.id),children:[l.jsxs("span",{className:"text-sm truncate flex-1 cursor-pointer text-gray-200",children:[ve.type==="text"?ve.text||"Text":ve.type==="shape"?ve.shape:"Image"," #",de+1]}),l.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),La(ve.id)},className:"p-1 hover:bg-gray-600 rounded text-gray-300",children:ve.visible!==!1?l.jsx(du,{size:14}):l.jsx(e0,{size:14})})]},ve.id))})]})]})}),l.jsx("div",{className:"flex-1 flex justify-center p-4 pt-8",style:{alignItems:"center"},children:l.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[l.jsx("div",{className:"bg-gray-700 text-white p-4",children:l.jsxs("h3",{className:"font-semibold text-center",children:[W1[i].name," T-shirt - ",Sf[r].name," View"]})}),c?l.jsx("div",{className:"w-96 h-96 flex items-center justify-center text-red-500 bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg mb-2",children:"T-shirt image not found"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Check if images exist in /tshirt-parts/ folder"})]})}):l.jsx("div",{className:"p-2",children:l.jsx("canvas",{ref:t,onMouseDown:ur,onMouseMove:vr,onMouseUp:Wn,onMouseLeave:Wn,className:"border-2 border-gray-200 rounded-lg shadow-inner cursor-crosshair",style:{width:"600px",height:"700px",background:"#2d3748"}})}),l.jsxs("div",{className:"bg-gray-700 px-6 py-3 border-t border-gray-600",children:[l.jsxs("div",{className:"text-center text-gray-300 text-sm",children:["Use tools to customize • ",I.filter(ve=>ve.tshirtPart===r).length," element",I.filter(ve=>ve.tshirtPart===r).length!==1?"s":""," on ",Sf[r].name]}),X&&l.jsx("div",{className:"text-center text-gray-300 text-xs mt-1",children:"💡 Press R to rotate 15°, Shift+R to rotate -15°, Del to delete"})]})]})})]})}function we(t,e,r){return(e=function(n){var i=function(a,s){if(typeof a!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,s);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}(n,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function un(t,e){if(t==null)return{};var r,n,i=function(s,o){if(s==null)return{};var c={};for(var u in s)if({}.hasOwnProperty.call(s,u)){if(o.indexOf(u)>=0)continue;c[u]=s[u]}return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}let wA=class{constructor(){we(this,"browserShadowBlurConstant",1),we(this,"DPI",96),we(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),we(this,"perfLimitSizeTotal",2097152),we(this,"maxCacheSideLimit",4096),we(this,"minCacheSideLimit",256),we(this,"disableStyleCopyPaste",!1),we(this,"enableGLFiltering",!0),we(this,"textureSize",4096),we(this,"forceGLPutImageData",!1),we(this,"cachesBoundsOfCurve",!1),we(this,"fontPaths",{}),we(this,"NUM_FRACTION_DIGITS",4)}};const xr=new class extends wA{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=Se(Se({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new wA,r=(t==null?void 0:t.reduce((n,i)=>(n[i]=e[i],n),{}))||e;this.configure(r)}},xu=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};let Uo=class extends Error{constructor(e,r){super("fabric: ".concat(e),r)}},JX=class extends Uo{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},ZX=class{},e$=class extends ZX{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(r,n)),r.getExtension("WEBGL_lose_context").loseContext(),xu("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const t$={};let SA;const Qo=()=>SA||(SA={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new e$,dispose(){},copyPasteData:t$}),T0=()=>Qo().document,Sy=()=>Qo().window,fD=()=>{var t;return Math.max((t=xr.devicePixelRatio)!==null&&t!==void 0?t:Sy().devicePixelRatio,1)},nm=new class{constructor(){we(this,"charWidthsCache",{}),we(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],a="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return i[a]||(i[a]={}),i[a]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=xr,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},GS="6.7.0";function rv(){}const kg=Math.PI/2,t2=2*Math.PI,__=Math.PI/180,sa=Object.freeze([1,0,0,1,0,0]),N_=16,_c=.4477152502,or="center",Ar="left",Sa="top",YS="bottom",jn="right",_a="none",T_=/\r?\n/,dD="moving",_y="scaling",pD="rotating",C_="rotate",mD="skewing",Fm="resizing",r$="modifyPoly",n$="modifyPath",r2="changed",Ny="scale",Aa="scaleX",Os="scaleY",C0="skewX",A0="skewY",Kn="fill",Na="stroke",n2="modified",_f="json",Tw="svg",kt=new class{constructor(){this[_f]=new Map,this[Tw]=new Map}has(t){return this[_f].has(t)}getClass(t){const e=this[_f].get(t);if(!e)throw new Uo("No class registered for ".concat(t));return e}setClass(t,e){e?this[_f].set(e,t):(this[_f].set(t.type,t),this[_f].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Tw].get(t)}setSVGClass(t,e){this[Tw].set(e??t.type.toLowerCase(),t)}},i2=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t});return e.forEach(r=>r.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(r=>r.target===t);return e.forEach(r=>r.abort()),e}};let i$=class{constructor(){we(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(n=>{let[i,a]=n;this.on(i,a)}),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach(i=>{let[a,s]=i;n.push(this.once(a,s))}),()=>n.forEach(i=>i())}if(r){const n=this.on(e,function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];r.call(this,...a),n()});return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach(n=>{let[i,a]=n;this._removeEventListener(i,a)}):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let a=0;a<i.length;a++)i[a].call(this,r||{})}};const If=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},Yl=t=>{if(t===0)return 1;switch(Math.abs(t)/kg){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},Xl=t=>{if(t===0)return 0;const e=t/kg,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};let Ye=class $i{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new $i(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new $i(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new $i(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new $i(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new $i(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new $i(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new $i(this.x/e.x,this.y/e.y)}scalarDivide(e){return new $i(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new $i(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new $i(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new $i(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new $i(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A_;const n=Xl(e),i=Yl(e),a=this.subtract(r);return new $i(a.x*i-a.y*n,a.x*n+a.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new $i(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}};const A_=new Ye(0,0),nv=t=>!!t&&Array.isArray(t._objects);function gD(t){class e extends t{constructor(){super(...arguments),we(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];const s=this._objects.push(...i);return i.forEach(o=>this._onObjectAdded(o)),s}insertAt(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return this._objects.splice(n,0,...a),a.forEach(o=>this._onObjectAdded(o)),this._objects.length}remove(){const n=this._objects,i=[];for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return s.forEach(c=>{const u=n.indexOf(c);u!==-1&&(n.splice(u,1),i.push(c),this._onObjectRemoved(c))}),i}forEachObject(n){this.getObjects().forEach((i,a,s)=>n(i,a,s))}getObjects(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.length===0?[...this._objects]:this._objects.filter(s=>s.isType(...i))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some(a=>a instanceof e&&a.contains(n,!0))}complexity(){return this._objects.reduce((n,i)=>n+=i.complexity?i.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(If(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(If(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const a=this._objects.indexOf(n);if(a!==0){const s=this.findNewLowerIndex(n,a,i);return If(this._objects,n),this._objects.splice(s,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const a=this._objects.indexOf(n);if(a!==this._objects.length-1){const s=this.findNewUpperIndex(n,a,i);return If(this._objects,n),this._objects.splice(s,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(If(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,a){let s;if(a){s=i;for(let o=i-1;o>=0;--o)if(n.isOverlapping(this._objects[o])){s=o;break}}else s=i-1;return s}findNewUpperIndex(n,i,a){let s;if(a){s=i;for(let o=i+1;o<this._objects.length;++o)if(n.isOverlapping(this._objects[o])){s=o;break}}else s=i+1;return s}collectObjects(n){let{left:i,top:a,width:s,height:o}=n,{includeIntersecting:c=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=[],h=new Ye(i,a),f=h.add(new Ye(s,o));for(let d=this._objects.length-1;d>=0;d--){const p=this._objects[d];p.selectable&&p.visible&&(c&&p.intersectsWithRect(h,f)||p.isContainedWithinRect(h,f)||c&&p.containsPoint(h)||c&&p.containsPoint(f))&&u.push(p)}return u}}return e}let xD=class extends i${_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}};function iv(t){return Sy().requestAnimationFrame(t)}function a$(t){return Sy().cancelAnimationFrame(t)}let s$=0;const vu=()=>s$++,$l=()=>{const t=T0().createElement("canvas");if(!t||t.getContext===void 0)throw new Uo("Failed to create `canvas` element");return t},o$=()=>T0().createElement("img"),Ls=t=>{const e=$l();return e.width=t.width,e.height=t.height,e},vD=(t,e,r)=>t.toDataURL("image/".concat(e),r),yD=(t,e,r)=>new Promise((n,i)=>{t.toBlob(n,"image/".concat(e),r)}),Dn=t=>t*__,Kl=t=>t/__,l$=t=>t.every((e,r)=>e===sa[r]),ya=(t,e,r)=>new Ye(t).transform(e,r),ro=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new Ye(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},Si=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],E_=(t,e)=>t.reduceRight((r,n)=>n&&r?Si(n,r,e):n||r,void 0)||sa.concat(),bD=t=>{let[e,r]=t;return Math.atan2(r,e)},a2=t=>{const e=bD(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,a=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:Kl(e),scaleX:n,scaleY:i,skewX:Kl(a),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},Og=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function E0(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Dn(t),i=Yl(n),a=Xl(n);return[i,a,-a,i,e?e-(i*e-a*r):0,r?r-(a*e+i*r):0]}const j_=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},wD=t=>Math.tan(Dn(t)),SD=t=>[1,0,wD(t),1,0,0],_D=t=>[1,wD(t),0,1,0,0],Ty=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:a=0,skewY:s=0}=t,o=j_(n?-e:e,i?-r:r);return a&&(o=Si(o,SD(a),!0)),s&&(o=Si(o,_D(s),!0)),o},c$=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=Og(e,r);n&&(i=Si(i,E0({angle:n})));const a=Ty(t);return l$(a)||(i=Si(i,a)),i},av=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,i){if(e&&e.aborted)return i(new JX("loadImage"));const a=o$();let s;e&&(s=function(c){a.src="",i(c)},e.addEventListener("abort",s,{once:!0}));const o=function(){a.onload=a.onerror=null,s&&(e==null||e.removeEventListener("abort",s)),n(a)};t?(a.onload=o,a.onerror=function(){s&&(e==null||e.removeEventListener("abort",s)),i(new Uo("Error loading ".concat(a.src)))},r&&(a.crossOrigin=r),a.src=t):o()})},Im=function(t){let{signal:e,reviver:r=rv}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const a=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(s=>kt.getClass(s.type).fromObject(s,{signal:e}).then(o=>(r(s,o),a.push(o),o)))).then(n).catch(s=>{a.forEach(o=>{o.dispose&&o.dispose()}),i(s)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},Cy=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const a=Object.values(t).map(o=>o&&o.type&&kt.has(o.type)?Im([o],{signal:e}).then(c=>{let[u]=c;return i.push(u),u}):o),s=Object.keys(t);Promise.all(a).then(o=>o.reduce((c,u,h)=>(c[s[h]]=u,c),{})).then(r).catch(o=>{i.forEach(c=>{c.dispose&&c.dispose()}),n(o)}).finally(()=>{e&&e.removeEventListener("abort",n)})})},j0=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,r)=>(r in t&&(e[r]=t[r]),e),{})},k_=(t,e)=>Object.keys(t).reduce((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r),{}),Zr=(t,e)=>parseFloat(Number(t).toFixed(e)),Bm=t=>"matrix("+t.map(e=>Zr(e,xr.NUM_FRACTION_DIGITS)).join(" ")+")",Cs=t=>!!t&&t.toLive!==void 0,_A=t=>!!t&&typeof t.toObject=="function",NA=t=>!!t&&t.offsetX!==void 0&&"source"in t,Gu=t=>!!t&&"multiSelectionStacking"in t;function ND(t){const e=t&&Zs(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const a=e.documentElement,s=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=s.scrollLeft||a.scrollLeft||0,n=s.scrollTop||a.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const Zs=t=>t.ownerDocument||null,TD=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},CD=function(t,e,r){let{width:n,height:i}=r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,a>1&&(t.setAttribute("width",(n*a).toString()),t.setAttribute("height",(i*a).toString()),e.scale(a,a))},XS=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function TA(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=_a,t}let AD=class{constructor(e){we(this,"_originalCanvasStyle",void 0),we(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&T0().getElementById(e)||$l();var n;if(r.hasAttribute("data-fabric"))throw new Uo("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;CD(n,i,e,r)}setCSSDimensions(e){XS(this.lower.el,e)}calcOffset(){return function(e){var r;const n=e&&Zs(e),i={left:0,top:0};if(!n)return i;const a=((r=TD(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(a.borderLeftWidth,10)||0,i.top+=parseInt(a.borderTopWidth,10)||0,i.left+=parseInt(a.paddingLeft,10)||0,i.top+=parseInt(a.paddingTop,10)||0;let s={left:0,top:0};const o=n.documentElement;e.getBoundingClientRect!==void 0&&(s=e.getBoundingClientRect());const c=ND(e);return{left:s.left+c.left-(o.clientLeft||0)+i.left,top:s.top+c.top-(o.clientTop||0)+i.top}}(this.lower.el)}dispose(){Qo().dispose(this.lower.el),delete this.lower}};const u$={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...sa]};let O_=class ED extends gD(xD){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return ED.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new AD(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const a=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),a}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(xu("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?fD():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=Se({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],a=ya(e,ro(i));i[0]=r,i[3]=r;const s=ya(a,i);i[4]+=n.x-s.x,i[5]+=n.y-s.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new Ye(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new Ye(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=iv(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,r=this.height,n=ro(this.viewportTransform),i=ya({x:0,y:0},n),a=ya({x:e,y:r},n),s=i.min(a),o=i.max(a);return this.vptCoords={tl:s,tr:new Ye(o.x,s.y),bl:new Ye(s.x,o.y),br:o}}cancelRequestedRender(){this.nextRenderHandle&&(a$(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],a=this.viewportTransform,s=this["".concat(r,"Vpt")];if(!n&&!i)return;const o=Cs(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=o?n.toLive(e):n,s&&e.transform(...a),o){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const c=n.gradientTransform||n.patternTransform;c&&e.transform(...c)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:c}=this;this.skipOffscreen=s,s&&e.transform(...a),i.render(e),this.skipOffscreen=c,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Ye(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new Ye(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new Ye(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new Ye(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new Ye(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return ya(this.getCenterPoint(),ro(this.viewportTransform))}_centerObject(e,r){e.setXY(r,or,or),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return Se(Se(Se({version:GS},j0(this,r)),{},{objects:this._objects.filter(a=>!a.excludeFromExport).map(a=>this._toObject(a,e,r))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const a=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),a}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,a=this.overlayImage,s=this.backgroundColor,o=this.overlayColor;return Cs(s)?s.excludeFromExport||(n.background=s.toObject(r)):s&&(n.background=s),Cs(o)?o.excludeFromExport||(n.overlay=o.toObject(r)):o&&(n.overlay=o),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),a&&!a.excludeFromExport&&(n.overlayImage=this._toObject(a,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),a=xr.NUM_FRACTION_DIGITS,s=r.viewBox;let o;if(s)o='viewBox="'.concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height,'" ');else if(this.svgViewportTransformation){const c=this.viewportTransform;o='viewBox="'.concat(Zr(-c[4]/c[0],a)," ").concat(Zr(-c[5]/c[3],a)," ").concat(Zr(this.width/c[0],a)," ").concat(Zr(this.height/c[3],a),'" ')}else o='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',o,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",GS,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(vu()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const r=this["".concat(e,"Color")];if(Cs(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,a={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(a,{additionalTransform:n?Bm(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=xr.fontPaths;this._objects.forEach(function a(s){e.push(s),nv(s)&&s._objects.forEach(a)}),e.forEach(a=>{if(!(s=a)||typeof s._renderText!="function")return;var s;const{styles:o,fontFamily:c}=a;!r[c]&&n[c]&&(r[c]=!0,o&&Object.values(o).forEach(u=>{Object.values(u).forEach(h=>{let{fontFamily:f=""}=h;!r[f]&&n[f]&&(r[f]=!0)})}))});const i=Object.keys(r).map(a=>`		@font-face {
			font-family: '`.concat(a,`';
			src: url('`).concat(n[a],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,r)})}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if(Cs(n)){const i=n.repeat||"",a=this.width,s=this.height,o=this["".concat(r,"Vpt")]?Bm(ro(this.viewportTransform)):"";e.push('<rect transform="'.concat(o," translate(").concat(a/2,",").concat(s/2,')" x="').concat(n.offsetX-a/2,'" y="').concat(n.offsetY-s/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!NA(n)?a:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!NA(n)?s:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new Uo("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:a=[],backgroundImage:s,background:o,overlayImage:c,overlay:u,clipPath:h}=i,f=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Im(a,{reviver:r,signal:n}),Cy({backgroundImage:s,backgroundColor:o,overlayImage:c,overlayColor:u,clipPath:h},{signal:n})]).then(d=>{let[p,x]=d;return this.clear(),this.add(...p),this.set(i),this.set(x),this.renderOnAddRemove=f,this})}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=Ls(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:a=!1}=e,s=i*(a?this.getRetinaScaling():1);return vD(this.toCanvasElement(s,e),r,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:a=!1}=e,s=i*(a?this.getRetinaScaling():1);return yD(this.toCanvasElement(s,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:a,filter:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=(r||this.width)*e,c=(n||this.height)*e,u=this.getZoom(),h=this.width,f=this.height,d=this.skipControlsDrawing,p=u*e,x=this.viewportTransform,m=[p,0,0,p,(x[4]-(i||0))*e,(x[5]-(a||0))*e],y=this.enableRetinaScaling,v=Ls({width:o,height:c}),b=s?this._objects.filter(S=>s(S)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=m,this.width=o,this.height=c,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(v.getContext("2d"),b),this.viewportTransform=x,this.width=h,this.height=f,this.calcViewportBoundaries(),this.enableRetinaScaling=y,this.skipControlsDrawing=d,v}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),i2.cancelByCanvas(this),this.disposed=!0,new Promise((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};we(O_,"ownDefaults",u$);const h$=["touchstart","touchmove","touchend"],f$=t=>{const e=ND(t.target),r=function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n}(t);return new Ye(r.clientX+e.left,r.clientY+e.top)},$S=t=>h$.includes(t.type)||t.pointerType==="touch",CA=t=>{t.preventDefault(),t.stopPropagation()},Ml=t=>{let e=0,r=0,n=0,i=0;for(let a=0,s=t.length;a<s;a++){const{x:o,y:c}=t[a];(o>n||!a)&&(n=o),(o<e||!a)&&(e=o),(c>i||!a)&&(i=c),(c<r||!a)&&(r=c)}return{left:e,top:r,width:n-e,height:i-r}},d$=["translateX","translateY","scaleX","scaleY"],p$=(t,e)=>s2(t,Si(e,t.calcOwnMatrix())),s2=(t,e)=>{const r=a2(e),{translateX:n,translateY:i,scaleX:a,scaleY:s}=r,o=un(r,d$),c=new Ye(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,o),t.set({scaleX:a,scaleY:s}),t.setPositionByOrigin(c,or,or)},m$=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},jD=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),L_=(t,e,r)=>{const n=t/2,i=e/2,a=[new Ye(-n,-i),new Ye(n,-i),new Ye(-n,i),new Ye(n,i)].map(o=>o.transform(r)),s=Ml(a);return new Ye(s.width,s.height)},Ay=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sa;return Si(ro(arguments.length>1&&arguments[1]!==void 0?arguments[1]:sa),t)},gd=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sa,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sa;return t.transform(Ay(e,r))},g$=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sa,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sa;return t.transform(Ay(e,r),!0)},x$=(t,e,r)=>{const n=Ay(e,r);return s2(t,Si(n,t.calcOwnMatrix())),n},kD=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),Se(Se({},e),{},{target:n})),n.fire(t,e)},v$={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Un=t=>typeof t=="string"?v$[t]:t-.5,o2="not-allowed";function OD(t){return Un(t.originX)===Un(or)&&Un(t.originY)===Un(or)}function AA(t){return .5-Un(t)}const so=(t,e)=>t[e],LD=(t,e,r,n)=>({e:t,transform:e,pointer:new Ye(r,n)});function DD(t,e){const r=t.getTotalAngle()+Kl(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function D_(t,e,r,n,i){var a;let{target:s,corner:o}=t;const c=s.controls[o],u=((a=s.canvas)===null||a===void 0?void 0:a.getZoom())||1,h=s.padding/u,f=function(d,p,x,m){const y=d.getRelativeCenterPoint(),v=x!==void 0&&m!==void 0?d.translateToGivenOrigin(y,or,or,x,m):new Ye(d.left,d.top);return(d.angle?p.rotate(-Dn(d.angle),y):p).subtract(v)}(s,new Ye(n,i),e,r);return f.x>=h&&(f.x-=h),f.x<=-h&&(f.x+=h),f.y>=h&&(f.y-=h),f.y<=h&&(f.y+=h),f.x-=c.offsetX,f.y-=c.offsetY,f}const y$=(t,e,r,n)=>{const{target:i,offsetX:a,offsetY:s}=e,o=r-a,c=n-s,u=!so(i,"lockMovementX")&&i.left!==o,h=!so(i,"lockMovementY")&&i.top!==c;return u&&i.set(Ar,o),h&&i.set(Sa,c),(u||h)&&kD(dD,LD(t,e,r,n)),u||h},EA={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Cw=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),jA=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),a=Math.min(t,e,r);let s,o;const c=(i+a)/2;if(i===a)s=o=0;else{const u=i-a;switch(o=c>.5?u/(2-i-a):u/(i+a),i){case t:s=(e-r)/u+(e<r?6:0);break;case e:s=(r-t)/u+2;break;case r:s=(t-e)/u+4}s/=6}return[Math.round(360*s),Math.round(100*o),Math.round(100*c),n]},kA=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},G1=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),OA=t=>{let[e,r,n,i=1]=t;const a=Math.round(.3*e+.59*r+.11*n);return[a,a,a,i]};let ss=class Pi{constructor(e){if(we(this,"isUnrecognised",!1),e)if(e instanceof Pi)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,a=1]=e;this.setSource([r,n,i,a])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in EA&&(e=EA[e]),e==="transparent"?[255,255,255,0]:Pi.sourceFromHex(e)||Pi.sourceFromRgb(e)||Pi.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=jA(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=jA(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(G1(e)).concat(G1(r)).concat(G1(n)).concat(G1(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(OA(this.getSource())),this}toBlackWhite(e){const[r,,,n]=OA(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof Pi||(e=new Pi(e));const r=this.getSource(),n=e.getSource(),[i,a,s]=r.map((o,c)=>Math.round(.5*o+.5*n[c]));return this.setSource([i,a,s,r[3]]),this}static fromRgb(e){return Pi.fromRgba(e)}static fromRgba(e){return new Pi(Pi.sourceFromRgb(e))}static sourceFromRgb(e){const r=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(r){const[n,i,a]=r.slice(1,4).map(s=>{const o=parseFloat(s);return s.endsWith("%")?Math.round(2.55*o):o});return[n,i,a,kA(r[4])]}}static fromHsl(e){return Pi.fromHsla(e)}static fromHsla(e){return new Pi(Pi.sourceFromHsl(e))}static sourceFromHsl(e){const r=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!r)return;const n=(Pi.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,a=parseFloat(r[3])/100;let s,o,c;if(i===0)s=o=c=a;else{const u=a<=.5?a*(i+1):a+i-a*i,h=2*a-u;s=Cw(h,u,n+1/3),o=Cw(h,u,n),c=Cw(h,u,n-1/3)}return[Math.round(255*s),Math.round(255*o),Math.round(255*c),kA(r[4])]}static fromHex(e){return new Pi(Pi.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map(c=>c+c):r.match(/.{2}/g);const[i,a,s,o=255]=n.map(c=>parseInt(c,16));return[i,a,s,o/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?Kl(n):r.includes("turn")?360*n:n}};const xd=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N_;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=xr.DPI;switch(r==null?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},b$=t=>{const[e,r]=t.trim().split(" "),[n,i]=(a=e)&&a!==_a?[a.slice(1,4),a.slice(5,8)]:a===_a?[a,a]:["Mid","Mid"];var a;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},zm=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const a=new ss(e),s=a.getAlpha();r=a.toRgb(),s!==1&&(n=s.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")};class PD{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):_a,a=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=this.opacity!==void 0?this.opacity:"1",h=this.visible?"":" visibility: hidden;",f=e?"":this.getSvgFilter(),d=zm(Kn,this.fill);return[zm(Na,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",c,"; ",d,"fill-rule: ",r,"; ","opacity: ",u,";",f,h].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(Bm(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),a=e.indexOf("COMMON_PARTS");return e[a]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=r?"":'style="'.concat(this.getSvgStyles(),'" '),o=i?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",h=c&&c.absolutePositioned,f=this.stroke,d=this.fill,p=this.shadow,x=[],m=e.indexOf("COMMON_PARTS");let y;c&&(c.clipPathId="CLIPPATH_".concat(vu()),y='<clipPath id="'.concat(c.clipPathId,`" >
`).concat(c.toClipPathSVG(n),`</clipPath>
`)),h&&x.push("<g ",o,this.getSvgCommons(),` >
`),x.push("<g ",this.getSvgTransform(!1),h?"":o+this.getSvgCommons(),` >
`);const v=[s,u,r?"":this.addPaintOrder()," ",a?'transform="'.concat(a,'" '):""].join("");return e[m]=v,Cs(d)&&x.push(d.toSVG(this)),Cs(f)&&x.push(f.toSVG(this)),p&&x.push(p.toSVG(this)),c&&x.push(y),x.push(e.join("")),x.push(`</g>
`),h&&x.push(`</g>
`),n?n(x.join("")):x.join("")}addPaintOrder(){return this.paintFirst!==Kn?' paint-order="'.concat(this.paintFirst,'" '):""}}function Ey(t){return new RegExp("^("+t.join("|")+")\\b","i")}const kh="textDecorationThickness",RD=["fontSize","fontWeight","fontFamily","fontStyle"],MD=["underline","overline","linethrough"],FD=[...RD,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],ID=[...FD,...MD,"textBackgroundColor","direction",kh],w$=[...RD,...MD,Na,"strokeWidth",Kn,"deltaY","textBackgroundColor",kh],S$={_reNewline:T_,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ar,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ar,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[kh]:66.667},Fo="justify",l2="justify-left",im="justify-right",am="justify-center";var LA,DA,PA;const no=String.raw(LA||(LA=rl(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Aw=String.raw(DA||(DA=rl(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),_$=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+no+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+no+"))?\\s+(.*)"),N$={cx:Ar,x:Ar,r:"radius",cy:Sa,y:Sa,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":kh},Ew="font-size",jw="clip-path";Ey(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Ey(["symbol","image","marker","pattern","view","svg"]);const RA=Ey(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(PA||(PA=rl(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),no,Aw,no,Aw,no,Aw,no));const T$=new Ye(1,0),BD=new Ye,zD=(t,e)=>t.rotate(e),KS=(t,e)=>new Ye(e).subtract(t),QS=t=>t.distanceFrom(BD),JS=(t,e)=>Math.atan2(sm(t,e),A$(t,e)),C$=t=>JS(T$,t),P_=t=>t.eq(BD)?t:t.scalarDivide(QS(t)),UD=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return P_(new Ye(-t.y,t.x).scalarMultiply(e?1:-1))},sm=(t,e)=>t.x*e.y-t.y*e.x,A$=(t,e)=>t.x*e.x+t.y*e.y,MA=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=sm(e,r),i=sm(e,t),a=sm(r,t);return n>=0?i>=0&&a<=0:!(i<=0&&a>=0)},FA="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",IA=new RegExp("(?:\\s|^)"+FA+FA+"("+no+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Fl{constructor(e){const r=typeof e=="string"?Fl.parseShadow(e):e;Object.assign(this,Fl.ownDefaults,r),this.id=vu()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,a=0]=(IA.exec(r)||[]).map(s=>parseFloat(s)||0);return{color:(r.replace(IA,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:a}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=zD(new Ye(this.offsetX,this.offsetY),Dn(-e.angle)),n=new ss(this.color);let i=40,a=40;return e.width&&e.height&&(i=100*Zr((Math.abs(r.x)+this.blur)/e.width,xr.NUM_FRACTION_DIGITS)+20,a=100*Zr((Math.abs(r.y)+this.blur)/e.height,xr.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(a,'%" height="').concat(100+2*a,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Zr(this.blur?this.blur/2:0,xr.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Zr(r.x,xr.NUM_FRACTION_DIGITS),'" dy="').concat(Zr(r.y,xr.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=Fl.ownDefaults;return this.includeDefaultValues?e:k_(e,(n,i)=>n!==r[i])}static async fromObject(e){return new this(e)}}we(Fl,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),we(Fl,"type","shadow"),kt.setClass(Fl,"shadow");const a0=(t,e,r)=>Math.max(t,Math.min(e,r)),E$=[Sa,Ar,Aa,Os,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",C0,A0],rc=[Kn,Na,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],j$={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ar,originY:Sa,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Kn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},k$=(t,e,r,n)=>-r*Math.cos(t/n*kg)+r+e,O$=()=>!1;class R_{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:a=0,easing:s=k$,onStart:o=rv,onChange:c=rv,onComplete:u=rv,abort:h=O$,target:f}=e;we(this,"_state","pending"),we(this,"durationProgress",0),we(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=a,this.easing=s,this._onStart=o,this._onChange=c,this._onComplete=u,this._abort=h,this.target=f,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>iv(e),this.delay):iv(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:a}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=a,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),iv(this.tick)))}register(){i2.push(this)}unregister(){i2.remove(this)}abort(){this._state="aborted",this.unregister()}}const L$=["startValue","endValue"];class D$ extends R_{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(Se(Se({},un(e,L$)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}}const P$=["startValue","endValue"];class R$ extends R_{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(Se(Se({},un(e,P$)),{},{startValue:r,byValue:n.map((i,a)=>i-r[a])}))}calculate(e){const r=this.startValue.map((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}const M$=["startValue","endValue","easing","onChange","onComplete","abort"],F$=(t,e,r,n)=>e+r*(1-Math.cos(t/n*kg)),kw=t=>t&&((e,r,n)=>t(new ss(e).toRgba(),r,n));class I$ extends R_{constructor(e){let{startValue:r,endValue:n,easing:i=F$,onChange:a,onComplete:s,abort:o}=e,c=un(e,M$);const u=new ss(r).getSource(),h=new ss(n).getSource();super(Se(Se({},c),{},{startValue:u,byValue:h.map((f,d)=>f-u[d]),easing:i,onChange:kw(a),onComplete:kw(s),abort:kw(o)}))}calculate(e){const[r,n,i,a]=this.startValue.map((o,c)=>this.easing(e,o,this.byValue[c],this.duration,c)),s=[...[r,n,i].map(Math.round),a0(0,a,1)];return{value:s,valueProgress:s.map((o,c)=>this.byValue[c]!==0?Math.abs((o-this.startValue[c])/this.byValue[c]):0).find(o=>o!==0)||0}}}function HD(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new R$(t):new D$(t);return e.start(),e}function B$(t){const e=new I$(t);return e.start(),e}class dn{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(r=>r.eq(e))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter(i=>!this.includes(i))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const a=KS(r,n),s=KS(r,e).divide(a);return i?Math.abs(s.x)===Math.abs(s.y):s.x===s.y&&s.x>=0&&s.x<=1}}static isPointInPolygon(e,r){const n=new Ye(e).setX(Math.min(e.x-1,...r.map(a=>a.x)));let i=0;for(let a=0;a<r.length;a++){const s=this.intersectSegmentSegment(r[a],r[(a+1)%r.length],e,n);if(s.includes(e))return!0;i+=+(s.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const o=r.x-e.x,c=r.y-e.y,u=i.x-n.x,h=i.y-n.y,f=e.x-n.x,d=e.y-n.y,p=u*d-h*f,x=o*d-c*f,m=h*o-u*c;if(m!==0){const y=p/m,v=x/m;return(a||0<=y&&y<=1)&&(s||0<=v&&v<=1)?new dn("Intersection").append(new Ye(e.x+y*o,e.y+y*c)):new dn}if(p===0||x===0){const y=a||s||dn.isPointContained(e,n,i)||dn.isPointContained(r,n,i)||dn.isPointContained(n,e,r)||dn.isPointContained(i,e,r);return new dn(y?"Coincident":void 0)}return new dn("Parallel")}static intersectSegmentLine(e,r,n,i){return dn.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return dn.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const a=new dn,s=n.length;for(let o,c,u,h=0;h<s;h++){if(o=n[h],c=n[(h+1)%s],u=dn.intersectLineLine(e,r,o,c,i,!1),u.status==="Coincident")return u;a.append(...u.points)}return a.points.length>0&&(a.status="Intersection"),a}static intersectSegmentPolygon(e,r,n){return dn.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new dn,i=e.length,a=[];for(let s=0;s<i;s++){const o=e[s],c=e[(s+1)%i],u=dn.intersectSegmentPolygon(o,c,r);u.status==="Coincident"?(a.push(u),n.append(o,c)):n.append(...u.points)}return a.length>0&&a.length===e.length?new dn("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),a=r.max(n),s=new Ye(a.x,i.y),o=new Ye(i.x,a.y);return dn.intersectPolygonPolygon(e,[i,s,a,o])}}class z$ extends xD{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?ya(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=ya(e,ro(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new Ye(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),a=[e,r,n,i];if(this.group){const s=this.group.calcTransformMatrix();return a.map(o=>ya(o,s))}return a}intersectsWithRect(e,r){return dn.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=dn.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(r=>e.containsPoint(r))}isContainedWithinRect(e,r){const{left:n,top:i,width:a,height:s}=this.getBoundingRect();return n>=e.x&&n+a<=r.x&&i>=e.y&&i+s<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return dn.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y)||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every(n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return Ml(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Aa,e),this._set(Os,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Kl(bD(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||sa.concat()}calcACoords(){const e=E0({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=Og(r,n),a=Si(i,e),s=this._getTransformedDimensions(),o=s.x/2,c=s.y/2;return{tl:ya({x:-o,y:-c},a),tr:ya({x:o,y:-c},a),bl:ya({x:-o,y:c},a),br:ya({x:o,y:c},a)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Un(this.originX),Un(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((a,s)=>a===n[s])?i.value:(this.group&&(r=Si(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},a=c$(i);return this.ownMatrixCache={key:e,value:a},a}_getNonTransformedDimensions(){return new Ye(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=Se({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,a=0;this.strokeUniform&&(i=0,a=n);const s=r.width+i,o=r.height+i;let c;return c=r.skewX===0&&r.skewY===0?new Ye(s*r.scaleX,o*r.scaleY):L_(s,o,Ty(r)),c.scalarAdd(a)}translateToGivenOrigin(e,r,n,i,a){let s=e.x,o=e.y;const c=Un(i)-Un(r),u=Un(a)-Un(n);if(c||u){const h=this._getTransformedDimensions();s+=c*h.x,o+=u*h.y}return new Ye(s,o)}translateToCenterPoint(e,r,n){if(r===or&&n===or)return e;const i=this.translateToGivenOrigin(e,r,n,or,or);return this.angle?i.rotate(Dn(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,or,or,r,n);return this.angle?i.rotate(Dn(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?ya(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new Ye(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),a=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:a.x,top:a.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ar,Sa)}}const U$=["type"],H$=["extraParam"];let wl=class sv extends z${static getDefaults(){return sv.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){xu("warn","Setting type has no effect",e)}constructor(e){super(),we(this,"_cacheContext",null),Object.assign(this,sv.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=$l(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=xr.maxCacheSideLimit,a=xr.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=xr.perfLimitSizeTotal)return r<a&&(e.width=a),n<a&&(e.height=a),e;const s=r/n,[o,c]=nm.limitDimsByArea(s),u=a0(a,o,i),h=a0(a,c,i);return r>u&&(e.zoomX/=r/u,e.width=u,e.capped=!0),n>h&&(e.zoomY/=n/h,e.height=h,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,{width:n,height:i,zoomX:a,zoomY:s,x:o,y:c}=this._limitCacheSize(this._getCacheCanvasDimensions()),u=n!==e.width||i!==e.height,h=this.zoomX!==a||this.zoomY!==s;if(!e||!r)return!1;if(u||h){n!==e.width||i!==e.height?(e.width=n,e.height=i):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height));const f=o/2,d=c/2;return this.cacheTranslationX=Math.round(e.width/2-f)+f,this.cacheTranslationY=Math.round(e.height/2-d)+d,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(a,s),this.zoomX=a,this.zoomY=s,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new Ye(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=a2(this.calcTransformMatrix());return new Ye(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==Aa&&e!==Os||(r=this._constrainScale(r)),e===Aa&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof Fl||(r=new Fl(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:a}=this,{width:s,height:o}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:a,width:s,height:o,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Na&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r,n){e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,r,n){const i=this.fill,a=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=i,this.stroke=a}createClipPathLayer(e,r){const n=Ls(r),i=n.getContext("2d");if(i.translate(r.cacheTranslationX,r.cacheTranslationY),i.scale(r.zoomX,r.zoomY),e._cacheCanvas=n,r.parentClipPaths.forEach(a=>{a.transform(i)}),r.parentClipPaths.push(e),e.absolutePositioned){const a=ro(this.calcTransformMatrix());i.transform(a[0],a[1],a[2],a[3],a[4],a[5])}return e.transform(i),e.drawObject(i,!0,r),n}_drawClipPath(e,r,n){if(!r)return;r._transformDone=!0;const i=this.createClipPathLayer(r,n);this.drawClipPathOnCache(e,r,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,Cs(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&(Cs(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&e.setLineDash(r)}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[a,,,s]=(n==null?void 0:n.viewportTransform)||sa,o=a*i,c=s*i,u=r.nonScaling?new Ye(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*xr.browserShadowBlurConstant*(o+c)*(u.x+u.y)/4,e.shadowOffsetX=r.offsetX*o*u.x,e.shadowOffsetY=r.offsetY*c*u.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!Cs(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,a=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,a):e.transform(1,0,0,1,i,a),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:a}}_renderPaintInOrder(e){this.paintFirst===Na?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),a=this.getCanvasRetinaScaling(),s=i.x/this.scaleX/a,o=i.y/this.scaleY/a,c=Ls({width:Math.ceil(s),height:Math.ceil(o)}),u=c.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(s,0),u.lineTo(s,o),u.lineTo(0,o),u.closePath(),u.translate(s/2,o/2),u.scale(i.zoomX/this.scaleX/a,i.zoomY/this.scaleY/a),this._applyPatternGradientTransform(u,r),u.fillStyle=r.toLive(e),u.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/i.zoomX,a*this.scaleY/i.zoomY),e.strokeStyle=(n=u.createPattern(c,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new Ye(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(kt.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=jD(this),n=this.group,i=this.shadow,a=Math.abs,s=e.enableRetinaScaling?fD():1,o=(e.multiplier||1)*s,c=e.canvasProvider||(b=>new O_(b,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&m$(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&x$(this,this.getViewportTransform()),this.setCoords();const u=$l(),h=this.getBoundingRect(),f=this.shadow,d=new Ye;if(f){const b=f.blur,S=f.nonScaling?new Ye(1,1):this.getObjectScaling();d.x=2*Math.round(a(f.offsetX)+b)*a(S.x),d.y=2*Math.round(a(f.offsetY)+b)*a(S.y)}const p=h.width+d.x,x=h.height+d.y;u.width=Math.ceil(p),u.height=Math.ceil(x);const m=c(u);e.format==="jpeg"&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new Ye(m.width/2,m.height/2),or,or);const y=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();const v=m.toCanvasElement(o||1,e);return this.set("canvas",y),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),m._objects=[],m.destroy(),v}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vD(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return yD(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:a,y:s}=this.getRelativeCenterPoint();this.originX=or,this.originY=or,this.left=a,this.top=s}if(this.set("angle",e),r){const{x:a,y:s}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=a,this.top=s,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){i2.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Qo().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce((n,i)=>{let[a,s]=i;return n[a]=this._animate(a,s,r),n},{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),a=this.constructor.colorProperties.includes(i[i.length-1]),{abort:s,startValue:o,onChange:c,onComplete:u}=n,h=Se(Se({},n),{},{target:this,startValue:o??i.reduce((f,d)=>f[d],this),endValue:r,abort:s==null?void 0:s.bind(this),onChange:(f,d,p)=>{i.reduce((x,m,y)=>(y===i.length-1&&(x[m]=f),x[m]),this),c&&c(f,d,p)},onComplete:(f,d,p)=>{this.setCoords(),u&&u(f,d,p)}});return a?B$(h):HD(h)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,a=0;a<r.length;a++){if(i=r[a],i===e)return{fork:[this,...r.slice(0,a)],otherFork:[],common:r.slice(a)};for(let s=0;s<n.length;s++){if(this===n[s])return{fork:[],otherFork:[e,...n.slice(0,s)],common:[this,...r]};if(i===n[s])return{fork:[this,...r.slice(0,a)],otherFork:[e,...n.slice(0,s)],common:r.slice(a)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),a=r.otherFork.pop(),s=n._objects.indexOf(i),o=n._objects.indexOf(a);return s>-1&&s>o}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(sv.customProperties,this.constructor.customProperties||[]);let r;const n=xr.NUM_FRACTION_DIGITS,{clipPath:i,fill:a,stroke:s,shadow:o,strokeDashArray:c,left:u,top:h,originX:f,originY:d,width:p,height:x,strokeWidth:m,strokeLineCap:y,strokeDashOffset:v,strokeLineJoin:b,strokeUniform:S,strokeMiterLimit:T,scaleX:E,scaleY:P,angle:j,flipX:L,flipY:F,opacity:W,visible:D,backgroundColor:O,fillRule:q,paintFirst:I,globalCompositeOperation:ae,skewX:X,skewY:le}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const re=ge=>Zr(ge,n),ue=Se(Se({},j0(this,e)),{},{type:this.constructor.type,version:GS,originX:f,originY:d,left:re(u),top:re(h),width:re(p),height:re(x),fill:_A(a)?a.toObject():a,stroke:_A(s)?s.toObject():s,strokeWidth:re(m),strokeDashArray:c&&c.concat(),strokeLineCap:y,strokeDashOffset:v,strokeLineJoin:b,strokeUniform:S,strokeMiterLimit:re(T),scaleX:re(E),scaleY:re(P),angle:re(j),flipX:L,flipY:F,opacity:re(W),shadow:o&&o.toObject(),visible:D,backgroundColor:O,fillRule:q,paintFirst:I,globalCompositeOperation:ae,skewX:re(X),skewY:re(le)},r?{clipPath:r}:null);return this.includeDefaultValues?ue:this._removeDefaultValues(ue)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return k_(e,(i,a)=>{if(a===Ar||a===Sa||a==="type")return!0;const s=n[a];return i!==s&&!(Array.isArray(i)&&Array.isArray(s)&&i.length===0&&s.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=un(e,U$),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,a=un(n,H$);return Cy(r,a).then(s=>i?(delete s[i],new this(r[i],s)):new this(s))}static fromObject(e,r){return this._fromObject(e,r)}};we(wl,"stateProperties",E$),we(wl,"cacheProperties",rc),we(wl,"ownDefaults",j$),we(wl,"type","FabricObject"),we(wl,"colorProperties",[Kn,Na,"backgroundColor"]),we(wl,"customProperties",[]),kt.setClass(wl),kt.setClass(wl,"object");const k0=(t,e,r)=>(n,i,a,s)=>{const o=e(n,i,a,s);return o&&kD(t,Se(Se({},LD(n,i,a,s)),r)),o};function O0(t){return(e,r,n,i)=>{const{target:a,originX:s,originY:o}=r,c=a.getRelativeCenterPoint(),u=a.translateToOriginPoint(c,s,o),h=t(e,r,n,i);return a.setPositionByOrigin(u,r.originX,r.originY),h}}const BA=k0(Fm,O0((t,e,r,n)=>{const i=D_(e,e.originX,e.originY,r,n);if(Un(e.originX)===Un(or)||Un(e.originX)===Un(jn)&&i.x<0||Un(e.originX)===Un(Ar)&&i.x>0){const{target:a}=e,s=a.strokeWidth/(a.strokeUniform?a.scaleX:1),o=OD(e)?2:1,c=a.width,u=Math.abs(i.x*o/a.scaleX)-s;return a.set("width",Math.max(u,1)),c!==a.width}return!1}));function q$(t,e,r,n,i){n=n||{};const a=this.sizeX||n.cornerSize||i.cornerSize,s=this.sizeY||n.cornerSize||i.cornerSize,o=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,c=o?Na:Kn,u=!o&&(n.cornerStrokeColor||i.cornerStrokeColor);let h,f=e,d=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",a>s?(h=a,t.scale(1,s/a),d=r*a/s):s>a?(h=s,t.scale(a/s,1),f=e*s/a):h=a,t.beginPath(),t.arc(f,d,h/2,0,t2,!1),t[c](),u&&t.stroke(),t.restore()}function V$(t,e,r,n,i){n=n||{};const a=this.sizeX||n.cornerSize||i.cornerSize,s=this.sizeY||n.cornerSize||i.cornerSize,o=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,c=o?Na:Kn,u=!o&&(n.cornerStrokeColor||i.cornerStrokeColor),h=a/2,f=s/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,r);const d=i.getTotalAngle();t.rotate(Dn(d)),t["".concat(c,"Rect")](-h,-f,a,s),u&&t.strokeRect(-h,-f,a,s),t.restore()}class Gs{constructor(e){we(this,"visible",!0),we(this,"actionName",Ny),we(this,"angle",0),we(this,"x",0),we(this,"y",0),we(this,"offsetX",0),we(this,"offsetY",0),we(this,"sizeX",0),we(this,"sizeY",0),we(this,"touchSizeX",0),we(this,"touchSizeY",0),we(this,"cursorStyle","crosshair"),we(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var a;let{tl:s,tr:o,br:c,bl:u}=i;return((a=r.canvas)===null||a===void 0?void 0:a.getActiveObject())===r&&r.isControlVisible(e)&&dn.isPointInPolygon(n,[s,o,c,u])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new Ye(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,a,s){const o=E_([Og(n,i),E0({angle:e}),j_((a?this.touchSizeX:this.sizeX)||r,(a?this.touchSizeY:this.sizeY)||r)]);return{tl:new Ye(-.5,-.5).transform(o),tr:new Ye(.5,-.5).transform(o),br:new Ye(.5,.5).transform(o),bl:new Ye(-.5,.5).transform(o)}}render(e,r,n,i,a){((i=i||{}).cornerStyle||a.cornerStyle)==="circle"?q$.call(this,e,r,n,i,a):V$.call(this,e,r,n,i,a)}}const W$=(t,e,r)=>r.lockRotation?o2:e.cursorStyle,G$=k0(pD,O0((t,e,r,n)=>{let{target:i,ex:a,ey:s,theta:o,originX:c,originY:u}=e;const h=i.translateToOriginPoint(i.getRelativeCenterPoint(),c,u);if(so(i,"lockRotation"))return!1;const f=Math.atan2(s-h.y,a-h.x),d=Math.atan2(n-h.y,r-h.x);let p=Kl(d-f+o);if(i.snapAngle&&i.snapAngle>0){const m=i.snapAngle,y=i.snapThreshold||m,v=Math.ceil(p/m)*m,b=Math.floor(p/m)*m;Math.abs(p-b)<y?p=b:Math.abs(p-v)<y&&(p=v)}p<0&&(p=360+p),p%=360;const x=i.angle!==p;return i.angle=p,x}));function qD(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function VD(t,e,r){const n=so(t,"lockScalingX"),i=so(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:a,height:s,strokeWidth:o}=t;return a===0&&o===0&&e!=="y"||s===0&&o===0&&e!=="x"}const Y$=["e","se","s","sw","w","nw","n","ne","e"],Fp=(t,e,r)=>{const n=qD(t,r);if(VD(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return o2;const i=DD(r,e);return"".concat(Y$[i],"-resize")};function M_(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const a=e.target,s=i.by,o=qD(t,a);let c,u,h,f,d,p;if(VD(a,s,o))return!1;if(e.gestureScale)u=e.scaleX*e.gestureScale,h=e.scaleY*e.gestureScale;else{if(c=D_(e,e.originX,e.originY,r,n),d=s!=="y"?Math.sign(c.x||e.signX||1):1,p=s!=="x"?Math.sign(c.y||e.signY||1):1,e.signX||(e.signX=d),e.signY||(e.signY=p),so(a,"lockScalingFlip")&&(e.signX!==d||e.signY!==p))return!1;if(f=a._getTransformedDimensions(),o&&!s){const y=Math.abs(c.x)+Math.abs(c.y),{original:v}=e,b=y/(Math.abs(f.x*v.scaleX/a.scaleX)+Math.abs(f.y*v.scaleY/a.scaleY));u=v.scaleX*b,h=v.scaleY*b}else u=Math.abs(c.x*a.scaleX/f.x),h=Math.abs(c.y*a.scaleY/f.y);OD(e)&&(u*=2,h*=2),e.signX!==d&&s!=="y"&&(e.originX=AA(e.originX),u*=-1,e.signX=d),e.signY!==p&&s!=="x"&&(e.originY=AA(e.originY),h*=-1,e.signY=p)}const x=a.scaleX,m=a.scaleY;return s?(s==="x"&&a.set(Aa,u),s==="y"&&a.set(Os,h)):(!so(a,"lockScalingX")&&a.set(Aa,u),!so(a,"lockScalingY")&&a.set(Os,h)),x!==a.scaleX||m!==a.scaleY}const Y1=k0(_y,O0((t,e,r,n)=>M_(t,e,r,n))),X$=k0(_y,O0((t,e,r,n)=>M_(t,e,r,n,{by:"x"}))),$$=k0(_y,O0((t,e,r,n)=>M_(t,e,r,n,{by:"y"}))),K$=["target","ex","ey","skewingSide"],Ow={x:{counterAxis:"y",scale:Aa,skew:C0,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Os,skew:A0,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Q$=["ns","nesw","ew","nwse"],J$=(t,e,r)=>{if(e.x!==0&&so(r,"lockSkewingY")||e.y!==0&&so(r,"lockSkewingX"))return o2;const n=DD(r,e)%4;return"".concat(Q$[n],"-resize")};function WD(t,e,r,n,i){const{target:a}=r,{counterAxis:s,origin:o,lockSkewing:c,skew:u,flip:h}=Ow[t];if(so(a,c))return!1;const{origin:f,flip:d}=Ow[s],p=Un(r[f])*(a[d]?-1:1),x=-Math.sign(p)*(a[h]?-1:1),m=.5*-((a[u]===0&&D_(r,or,or,n,i)[t]>0||a[u]>0?1:-1)*x)+.5;return k0(mD,O0((v,b,S,T)=>function(E,P,j){let{target:L,ex:F,ey:W,skewingSide:D}=P,O=un(P,K$);const{skew:q}=Ow[E],I=j.subtract(new Ye(F,W)).divide(new Ye(L.scaleX,L.scaleY))[E],ae=L[q],X=O[q],le=Math.tan(Dn(X)),re=E==="y"?L._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:L._getTransformedDimensions({scaleX:1,scaleY:1}).y,ue=2*I*D/Math.max(re,1)+le,ge=Kl(Math.atan(ue));L.set(q,ge);const Ge=ae!==L[q];if(Ge&&E==="y"){const{skewX:A,scaleX:M}=L,R=L._getTransformedDimensions({skewY:ae}),B=L._getTransformedDimensions(),Q=A!==0?R.x/B.x:1;Q!==1&&L.set(Aa,Q*M)}return Ge}(t,b,new Ye(S,T))))(e,Se(Se({},r),{},{[o]:m,skewingSide:x}),n,i)}const Z$=(t,e,r,n)=>WD("x",t,e,r,n),eK=(t,e,r,n)=>WD("y",t,e,r,n);function jy(t,e){return t[e.canvas.altActionKey]}const X1=(t,e,r)=>{const n=jy(t,r);return e.x===0?n?C0:Os:e.y===0?n?A0:Aa:""},ed=(t,e,r)=>jy(t,r)?J$(0,e,r):Fp(t,e,r),zA=(t,e,r,n)=>jy(t,e.target)?eK(t,e,r,n):X$(t,e,r,n),UA=(t,e,r,n)=>jy(t,e.target)?Z$(t,e,r,n):$$(t,e,r,n),GD=()=>({ml:new Gs({x:-.5,y:0,cursorStyleHandler:ed,actionHandler:zA,getActionName:X1}),mr:new Gs({x:.5,y:0,cursorStyleHandler:ed,actionHandler:zA,getActionName:X1}),mb:new Gs({x:0,y:.5,cursorStyleHandler:ed,actionHandler:UA,getActionName:X1}),mt:new Gs({x:0,y:-.5,cursorStyleHandler:ed,actionHandler:UA,getActionName:X1}),tl:new Gs({x:-.5,y:-.5,cursorStyleHandler:Fp,actionHandler:Y1}),tr:new Gs({x:.5,y:-.5,cursorStyleHandler:Fp,actionHandler:Y1}),bl:new Gs({x:-.5,y:.5,cursorStyleHandler:Fp,actionHandler:Y1}),br:new Gs({x:.5,y:.5,cursorStyleHandler:Fp,actionHandler:Y1}),mtr:new Gs({x:0,y:-.5,actionHandler:G$,cursorStyleHandler:W$,offsetY:-40,withConnection:!0,actionName:C_})}),tK=()=>({mr:new Gs({x:.5,y:0,actionHandler:BA,cursorStyleHandler:ed,actionName:Fm}),ml:new Gs({x:-.5,y:0,actionHandler:BA,cursorStyleHandler:ed,actionName:Fm})}),rK=()=>Se(Se({},GD()),tK());class Um extends wl{static getDefaults(){return Se(Se({},super.getDefaults()),Um.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Um.ownDefaults),this.setOptions(e)}static createControls(){return{controls:GD()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(Ny))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[a,s]=n[i],o=this.controls[a];if(o.shouldActivate(a,this,e,r?s.touchCorner:s.corner))return this.__corner=a,{key:a,control:o,coord:this.oCoords[a]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=Og(r.x,r.y),i=E0({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),a=Si(n,i),s=Si(e,a),o=Si(s,[1/e[0],0,0,1/e[3],0,0]),c=this.group?a2(this.calcTransformMatrix()):void 0;c&&(c.scaleX=Math.abs(c.scaleX),c.scaleY=Math.abs(c.scaleY));const u=this._calculateCurrentDimensions(c),h={};return this.forEachControl((f,d)=>{const p=f.positionHandler(u,o,this,f);h[d]=Object.assign(p,this._calcCornerCoords(f,p))}),h}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(Dn(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=Se({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,a=Se({hasBorders:n,hasControls:i},r),s=this.getViewportTransform(),o=a.hasBorders,c=a.hasControls,u=Si(s,this.calcTransformMatrix()),h=a2(u);e.save(),e.translate(h.translateX,h.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(h.angle-=180),e.rotate(Dn(this.group?h.angle:this.angle)),o&&this.drawBorders(e,h,r),c&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const a=L_(this.width,this.height,Ty(r)),s=this.isStrokeAccountedForInDimensions()?A_:(this.strokeUniform?new Ye().scalarAdd(this.canvas?this.canvas.getZoom():1):new Ye(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=a.add(s).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl((i,a)=>{i.withConnection&&i.getVisibility(this,a)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))}),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:a,cornerColor:s}=this,o=Se({cornerStrokeColor:i,cornerDashArray:a,cornerColor:s},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=o.cornerColor,this.transparentCorners||(e.strokeStyle=o.cornerStrokeColor),this._setLineDash(e,o.cornerDashArray),this.forEachControl((c,u)=>{if(c.getVisibility(this,u)){const h=this.oCoords[u];c.render(e,h.x,h.y,o,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(r=>{let[n,i]=r;return this.setControlVisible(n,i)})}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,a=this.height+4;return r.clearRect(-i/2,-a/2,i,a),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function YD(t,e){return e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))})}),t}we(Um,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Hi extends Um{}YD(Hi,[PD]),kt.setClass(Hi),kt.setClass(Hi,"object");const nK=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:a}=t.getImageData(e-n,r-n,i,i);for(let s=3;s<a.length;s+=4)if(a[s]>0)return!1;return!0};class XD{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Ye(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Ye(1/this.options.scaleX,1/this.options.scaleY):new Ye(1,1)}createSideVector(e,r){const n=KS(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new Ye(e);return r.y+=r.x*Math.tan(Dn(this.options.skewY)),r.x+=r.y*Math.tan(Dn(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}}const iK=new Ye;class vd extends XD{static getOrthogonalRotationFactor(e,r){const n=r?JS(e,r):C$(e);return Math.abs(n)<kg?-1:1}constructor(e,r,n,i){super(i),we(this,"AB",void 0),we(this,"AC",void 0),we(this,"alpha",void 0),we(this,"bisector",void 0),this.A=new Ye(e),this.B=new Ye(r),this.C=new Ye(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=JS(this.AB,this.AC),this.bisector=P_(zD(this.AB.eq(iK)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),a=UD(i),s=vd.getOrthogonalRotationFactor(a,this.bisector);return this.scaleUnitVector(a,n*s)}projectBevel(){const e=[];return(this.alpha%t2==0?[this.B]:[this.B,this.C]).forEach(r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),a=this.options.strokeUniform?QS(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return QS(i)/this.strokeProjectionMagnitude<=a&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new Ye(vd.getOrthogonalRotationFactor(this.bisector),vd.getOrthogonalRotationFactor(new Ye(this.bisector.y,this.bisector.x)));return[new Ye(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new Ye(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(a=>{MA(a,e,r)&&n.push(this.A.add(a))}),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:a,scaleX:s,scaleY:o,strokeUniform:c}=this.options,u=new Ye(Math.tan(Dn(i)),Math.tan(Dn(a))),h=this.strokeProjectionMagnitude,f=c?h/o/Math.sqrt(1/o**2+1/s**2*u.y**2):h/Math.sqrt(1+u.y**2),d=new Ye(Math.sqrt(Math.max(h**2-f**2,0)),f),p=c?h/Math.sqrt(1+u.x**2*(1/o)**2/(1/s+1/s*u.x*u.y)**2):h/Math.sqrt(1+u.x**2/(1+u.x*u.y)**2),x=new Ye(p,Math.sqrt(Math.max(h**2-p**2,0)));return[x,x.scalarMultiply(-1),d,d.scalarMultiply(-1)].map(m=>this.applySkew(c?m.multiply(this.strokeUniformScalar):m)).forEach(m=>{MA(m,e,r)&&n.push(this.applySkew(this.A).add(m))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%t2==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),a=e[r?1:0].subtract(n),s=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=sm(i,s)>0,c=o?i:a,u=o?a:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(c,u)):e.push(...this.projectRoundNoSkew(c,u)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class HA extends XD{constructor(e,r,n){super(n),this.A=new Ye(e),this.T=new Ye(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(UD(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new Ye(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new vd(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new Ye(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(P_(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map(r=>this.applySkew(r))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const aK=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce((a,s)=>(a[a.length-1].eq(s)||a.push(new Ye(s)),a),[new Ye(t[0])]);if(i.length===1)r=!0;else if(!r){const a=i[0],s=((o,c)=>{for(let u=o.length-1;u>=0;u--)if(c(o[u],u,o))return u;return-1})(i,o=>!o.eq(a));i.splice(s+1)}return i.forEach((a,s,o)=>{let c,u;s===0?(u=o[1],c=r?a:o[o.length-1]):s===o.length-1?(c=o[s-1],u=r?a:o[0]):(c=o[s-1],u=o[s+1]),r&&o.length===1?n.push(...new HA(a,a,e).project()):!r||s!==0&&s!==o.length-1?n.push(...new vd(a,c,u,e).project()):n.push(...new HA(a,s===0?u:c,e).project())}),n},F_=t=>{const e={};return Object.keys(t).forEach(r=>{e[r]={},Object.keys(t[r]).forEach(n=>{e[r][n]=Se({},t[r][n])})}),e},sK=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Ap;const I_=t=>{if(Ap||Ap||(Ap="Intl"in Sy()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Ap){const e=Ap.segment(t);return Array.from(e).map(r=>{let{segment:n}=r;return n})}return oK(t)},oK=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=lK(t,n))!==!1&&e.push(r);return e},lK=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},B_=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},cK=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,a={};t=F_(t);for(let s=0;s<r.length;s++){const o=I_(r[s]);if(t[s])for(let c=0;c<o.length;c++){i++;const u=t[s][c];u&&Object.keys(u).length>0&&(B_(a,u,!0)?n.push({start:i,end:i+1,style:u}):n[n.length-1].end++),a=u||{}}else i+=o.length,a={}}return n},uK=(t,e)=>{if(!Array.isArray(t))return F_(t);const r=e.split(T_),n={};let i=-1,a=0;for(let s=0;s<r.length;s++){const o=I_(r[s]);for(let c=0;c<o.length;c++)i++,t[a]&&t[a].start<=i&&i<t[a].end&&(n[s]=n[s]||{},n[s][c]=Se({},t[a].style),i===t[a].end-1&&a++)}return n},Au=["display","transform",Kn,"fill-opacity","fill-rule","opacity",Na,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function qA(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),a="(?![a-zA-Z\\-]+)";let s;if(s=new RegExp("^"+r,"i"),e=e.replace(s,""),i&&e.length&&(s=new RegExp("#"+i+a,"i"),e=e.replace(s,"")),n&&e.length){const o=n.split(" ");for(let c=o.length;c--;)s=new RegExp("\\."+o[c]+a,"i"),e=e.replace(s,"")}return e.length===0}function hK(t,e){let r=!0;const n=qA(t,e.pop());return n&&e.length&&(r=function(i,a){let s,o=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&a.length;)o&&(s=a.pop()),o=qA(i=i.parentElement,s);return a.length===0}(t,e)),n&&r&&e.length===0}const fK=t=>{var e;return(e=N$[t])!==null&&e!==void 0?e:t},dK=new RegExp("(".concat(no,")"),"gi"),pK=t=>t.replace(dK," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var VA,WA,GA,YA,XA,$A,KA;const ta="(".concat(no,")"),mK=String.raw(VA||(VA=rl(["(skewX)(",")"],["(skewX)\\(","\\)"])),ta),gK=String.raw(WA||(WA=rl(["(skewY)(",")"],["(skewY)\\(","\\)"])),ta),xK=String.raw(GA||(GA=rl(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),ta,ta,ta),vK=String.raw(YA||(YA=rl(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),ta,ta),yK=String.raw(XA||(XA=rl(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),ta,ta),bK=String.raw($A||($A=rl(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),ta,ta,ta,ta,ta,ta),z_="(?:".concat(bK,"|").concat(yK,"|").concat(xK,"|").concat(vK,"|").concat(mK,"|").concat(gK,")"),wK="(?:".concat(z_,"*)"),SK=String.raw(KA||(KA=rl(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),wK),_K=new RegExp(SK),NK=new RegExp(z_),TK=new RegExp(z_,"g");function ZS(t){const e=[];if(!(t=pK(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!_K.test(t))return[...sa];for(const r of t.matchAll(TK)){const n=NK.exec(r[0]);if(!n)continue;let i=sa;const a=n.filter(x=>!!x),[,s,...o]=a,[c,u,h,f,d,p]=o.map(x=>parseFloat(x));switch(s){case"translate":i=Og(c,u);break;case C_:i=E0({angle:c},{x:u,y:h});break;case Ny:i=j_(c,u);break;case C0:i=SD(c);break;case A0:i=_D(c);break;case"matrix":i=[c,u,h,f,d,p]}e.push(i)}return E_(e)}function CK(t,e,r,n){const i=Array.isArray(e);let a,s=e;if(t!==Kn&&t!==Na||e!==_a){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")s=e===_a?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")s=r&&r.transformMatrix?Si(r.transformMatrix,ZS(e)):ZS(e);else if(t==="visible")s=e!==_a&&e!=="hidden",r&&r.visible===!1&&(s=!1);else if(t==="opacity")s=parseFloat(e),r&&r.opacity!==void 0&&(s*=r.opacity);else if(t==="textAnchor")s=e==="start"?Ar:e==="end"?jn:or;else if(t==="charSpacing"||t===kh)a=xd(e,n)/n*1e3;else if(t==="paintFirst"){const o=e.indexOf(Kn),c=e.indexOf(Na);s=Kn,(o>-1&&c>-1&&c<o||o===-1&&c>-1)&&(s=Na)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";a=i?e.map(xd):xd(e,n)}}else s="";return!i&&isNaN(a)?s:a}function AK(t,e){const r=t.match(_$);if(!r)return;const n=r[1],i=r[3],a=r[4],s=r[5],o=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(e.fontSize=xd(a)),o&&(e.fontFamily=o),s&&(e.lineHeight=s==="normal"?1:s)}function EK(t,e){t.replace(/;\s*$/,"").split(";").forEach(r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()})}function jK(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?EK(r,e):function(n,i){Object.entries(n).forEach(a=>{let[s,o]=a;o!==void 0&&(i[s.toLowerCase()]=o)})}(r,e)),e}const kK={stroke:"strokeOpacity",fill:"fillOpacity"};function nc(t,e,r){if(!t)return{};let n,i={},a=N_;t.parentNode&&RA.test(t.parentNode.nodeName)&&(i=nc(t.parentElement,e,r),i.fontSize&&(n=a=xd(i.fontSize)));const s=Se(Se(Se({},e.reduce((u,h)=>{const f=t.getAttribute(h);return f&&(u[h]=f),u},{})),function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f={};for(const d in h)hK(u,d.split(" "))&&(f=Se(Se({},f),h[d]));return f}(t,r)),jK(t));s[jw]&&t.setAttribute(jw,s[jw]),s[Ew]&&(n=xd(s[Ew],a),s[Ew]="".concat(n));const o={};for(const u in s){const h=fK(u),f=CK(h,s[u],i,n);o[h]=f}o&&o.font&&AK(o.font,o);const c=Se(Se({},i),o);return RA.test(t.nodeName)?c:function(u){const h=Hi.getDefaults();return Object.entries(kK).forEach(f=>{let[d,p]=f;if(u[p]===void 0||u[d]==="")return;if(u[d]===void 0){if(!h[d])return;u[d]=h[d]}if(u[d].indexOf("url(")===0)return;const x=new ss(u[d]);u[d]=x.setAlpha(Zr(x.getAlpha()*u[p],2)).toRgba()}),u}(c)}const OK=["left","top","width","height","visible"],$D=["rx","ry"];class Js extends Hi{static getDefaults(){return Se(Se({},super.getDefaults()),Js.ownDefaults)}constructor(e){super(),Object.assign(this,Js.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,a=-n/2,s=this.rx?Math.min(this.rx,r/2):0,o=this.ry?Math.min(this.ry,n/2):0,c=s!==0||o!==0;e.beginPath(),e.moveTo(i+s,a),e.lineTo(i+r-s,a),c&&e.bezierCurveTo(i+r-_c*s,a,i+r,a+_c*o,i+r,a+o),e.lineTo(i+r,a+n-o),c&&e.bezierCurveTo(i+r,a+n-_c*o,i+r-_c*s,a+n,i+r-s,a+n),e.lineTo(i+s,a+n),c&&e.bezierCurveTo(i+_c*s,a+n,i,a+n-_c*o,i,a+n-o),e.lineTo(i,a+o),c&&e.bezierCurveTo(i,a+_c*o,i+_c*s,a,i+s,a),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...$D,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=nc(e,this.ATTRIBUTE_NAMES,n),{left:a=0,top:s=0,width:o=0,height:c=0,visible:u=!0}=i,h=un(i,OK);return new this(Se(Se(Se({},r),h),{},{left:a,top:s,width:o,height:c,visible:!!(u&&o&&c)}))}}we(Js,"type","Rect"),we(Js,"cacheProperties",[...rc,...$D]),we(Js,"ownDefaults",{rx:0,ry:0}),we(Js,"ATTRIBUTE_NAMES",[...Au,"x","y","rx","ry","width","height"]),kt.setClass(Js),kt.setSVGClass(Js);const Dl="initialization",c2="added",U_="removed",u2="imperative",KD=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:a,group:s}=e,o=s&&s!==t?Ay(s.calcTransformMatrix(),t.calcTransformMatrix()):null,c=o?e.getRelativeCenterPoint().transform(o):e.getRelativeCenterPoint(),u=!e.isStrokeAccountedForInDimensions(),h=r&&u?g$(new Ye(n,n),void 0,t.calcTransformMatrix()):A_,f=!r&&u?n:0,d=L_(i+f,a+f,E_([o,e.calcOwnMatrix()],!0)).add(h).scalarDivide(2);return[c.subtract(d),c.add(d)]};class ky{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===Dl||r===u2||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==Dl&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===u2&&r.overrides)return r.overrides;if(e.length===0)return;const{left:a,top:s,width:o,height:c}=Ml(e.map(f=>KD(i,f)).reduce((f,d)=>f.concat(d),[])),u=new Ye(o,c),h=new Ye(a,s).add(u.scalarDivide(2));if(n===Dl){const f=this.getInitialSize(r,{size:u,center:h});return{center:h,relativeCorrection:new Ye(0,0),size:f}}return{center:h.transform(i.calcOwnMatrix()),size:u}}}we(ky,"type","strategy");class e4 extends ky{shouldPerformLayout(e){return!0}}we(e4,"type","fit-content"),kt.setClass(e4);const LK=["strategy"],DK=["target","strategy","bubbles","prevStrategy"],QD="layoutManager";class Hm{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new e4;we(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=Se(Se({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[n2,dD,Fm,pD,_y,mD,r2,r$,n$].map(i=>e.on(i,a=>this.performLayout(i===n2?{type:"object_modified",trigger:i,e:a,target:n}:{type:"object_modifying",trigger:i,e:a,target:n})))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach(n=>n()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(r=>this.unsubscribe(r,e))}subscribeTargets(e){e.targets.forEach(r=>this.subscribe(r,e))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===Dl||n===c2?this.subscribeTargets(e):n===U_&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===u2&&e.deep){const a=un(e,LK);r.forEachObject(s=>s.layoutManager&&s.layoutManager.performLayout(Se(Se({},a),{},{bubbles:!1,target:s})))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,a=n.calcLayoutResult(e,r.getObjects());if(!a)return;const s=i===Dl?new Ye:r.getRelativeCenterPoint(),{center:o,correction:c=new Ye,relativeCorrection:u=new Ye}=a,h=s.subtract(o).add(c).transform(i===Dl?sa:ro(r.calcOwnMatrix()),!0).add(u);return{result:a,prevCenter:s,nextCenter:o,offset:h}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:a}=r;var s,o;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===Dl?n.set({left:(s=e.x)!==null&&s!==void 0?s:a.x+i.x*Un(n.originX),top:(o=e.y)!==null&&o!==void 0?o:a.y+i.y*Un(n.originY)}):(n.setPositionByOrigin(a,or,or),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject(i=>{i.group===n&&this.layoutObject(e,r,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:a,prevStrategy:s}=e,o=un(e,DK),{canvas:c}=n;n.fire("layout:after",{context:e,result:r}),c&&c.fire("object:layout:after",{context:e,result:r,target:n});const u=n.parent;a&&u!=null&&u.layoutManager&&((o.path||(o.path=[])).push(n),u.layoutManager.performLayout(Se(Se({},o),{},{target:u}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(r=>r.forEach(n=>n())),e.clear()}toObject(){return{type:QD,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}kt.setClass(Hm,QD);const PK=["type","objects","layoutManager"];class RK extends Hm{performLayout(){}}class vh extends gD(Hi){static getDefaults(){return Se(Se({},super.getDefaults()),vh.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),we(this,"_activeObjects",[]),we(this,"__objectSelectionTracker",void 0),we(this,"__objectSelectionDisposer",void 0),Object.assign(this,vh.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new Hm,this.layoutManager.performLayout({type:Dl,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(xu("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(xu("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n)}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),a=super.add(...i);return this._onAfterObjectsChange(c2,i),a}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const a=this._filterObjectsBeforeEnteringGroup(n),s=super.insertAt(e,...a);return this._onAfterObjectsChange(c2,a),s}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(U_,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach(i=>{i._set(e,r)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const a=i.indexOf(n);a>-1&&(i.splice(a,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&s2(e,Si(ro(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(s2(e,Si(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=Hi.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,r,n){this._renderBackground(e);for(let a=0;a<this._objects.length;a++){var i;const s=this._objects[a];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&s.group!==this?(e.save(),e.transform(...ro(this.calcTransformMatrix())),s.render(e),e.restore()):s.group===this&&s.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(Se({target:this,type:u2},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const a=i.includeDefaultValues;i.includeDefaultValues=n;const s=i[e||"toObject"](r);return i.includeDefaultValues=a,s})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return Se(Se(Se({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=Js.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:a}=e,s=un(e,PK);return Promise.all([Im(i,r),Cy(s,r)]).then(o=>{let[c,u]=o;const h=new this(c,Se(Se(Se({},s),u),{},{layoutManager:new RK}));if(a){const f=kt.getClass(a.type),d=kt.getClass(a.strategy);h.layoutManager=new f(new d)}else h.layoutManager=new Hm;return h.layoutManager.subscribeTargets({type:Dl,target:h,targets:h.getObjects()}),h.setCoords(),h})}}we(vh,"type","Group"),we(vh,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),kt.setClass(vh);const MK=(t,e)=>Math.min(e.width/t.width,e.height/t.height),FK=(t,e)=>Math.max(e.width/t.width,e.height/t.height),t4="\\s*,?\\s*",Ep="".concat(t4,"(").concat(no,")"),IK="".concat(Ep).concat(Ep).concat(Ep).concat(t4,"([01])").concat(t4,"([01])").concat(Ep).concat(Ep),BK={m:"l",M:"L"},zK=(t,e,r,n,i,a,s,o,c,u,h)=>{const f=Yl(t),d=Xl(t),p=Yl(e),x=Xl(e),m=r*i*p-n*a*x+s,y=n*i*p+r*a*x+o;return["C",u+c*(-r*i*d-n*a*f),h+c*(-n*i*d+r*a*f),m+c*(r*i*x+n*a*p),y+c*(n*i*x-r*a*p),m,y]},QA=(t,e,r,n)=>{const i=Math.atan2(e,t),a=Math.atan2(n,r);return a>=i?a-i:2*Math.PI-(i-a)};function JA(t,e,r,n,i,a,s,o){let c;if(xr.cachesBoundsOfCurve&&(c=[...arguments].join(),nm.boundsOfCurveCache[c]))return nm.boundsOfCurveCache[c];const u=Math.sqrt,h=Math.abs,f=[],d=[[0,0],[0,0]];let p=6*t-12*r+6*i,x=-3*t+9*r-9*i+3*s,m=3*r-3*t;for(let T=0;T<2;++T){if(T>0&&(p=6*e-12*n+6*a,x=-3*e+9*n-9*a+3*o,m=3*n-3*e),h(x)<1e-12){if(h(p)<1e-12)continue;const F=-m/p;0<F&&F<1&&f.push(F);continue}const E=p*p-4*m*x;if(E<0)continue;const P=u(E),j=(-p+P)/(2*x);0<j&&j<1&&f.push(j);const L=(-p-P)/(2*x);0<L&&L<1&&f.push(L)}let y=f.length;const v=y,b=JD(t,e,r,n,i,a,s,o);for(;y--;){const{x:T,y:E}=b(f[y]);d[0][y]=T,d[1][y]=E}d[0][v]=t,d[1][v]=e,d[0][v+1]=s,d[1][v+1]=o;const S=[new Ye(Math.min(...d[0]),Math.min(...d[1])),new Ye(Math.max(...d[0]),Math.max(...d[1]))];return xr.cachesBoundsOfCurve&&(nm.boundsOfCurveCache[c]=S),S}const UK=(t,e,r)=>{let[n,i,a,s,o,c,u,h]=r;const f=((d,p,x,m,y,v,b)=>{if(x===0||m===0)return[];let S=0,T=0,E=0;const P=Math.PI,j=b*__,L=Xl(j),F=Yl(j),W=.5*(-F*d-L*p),D=.5*(-F*p+L*d),O=x**2,q=m**2,I=D**2,ae=W**2,X=O*q-O*I-q*ae;let le=Math.abs(x),re=Math.abs(m);if(X<0){const Te=Math.sqrt(1-X/(O*q));le*=Te,re*=Te}else E=(y===v?-1:1)*Math.sqrt(X/(O*I+q*ae));const ue=E*le*D/re,ge=-E*re*W/le,Ge=F*ue-L*ge+.5*d,A=L*ue+F*ge+.5*p;let M=QA(1,0,(W-ue)/le,(D-ge)/re),R=QA((W-ue)/le,(D-ge)/re,(-W-ue)/le,(-D-ge)/re);v===0&&R>0?R-=2*P:v===1&&R<0&&(R+=2*P);const B=Math.ceil(Math.abs(R/P*2)),Q=[],fe=R/B,he=8/3*Math.sin(fe/4)*Math.sin(fe/4)/Math.sin(fe/2);let pe=M+fe;for(let Te=0;Te<B;Te++)Q[Te]=zK(M,pe,F,L,le,re,Ge,A,he,S,T),S=Q[Te][5],T=Q[Te][6],M=pe,pe+=fe;return Q})(u-t,h-e,i,a,o,c,s);for(let d=0,p=f.length;d<p;d++)f[d][1]+=t,f[d][2]+=e,f[d][3]+=t,f[d][4]+=e,f[d][5]+=t,f[d][6]+=e;return f},HK=t=>{let e=0,r=0,n=0,i=0;const a=[];let s,o=0,c=0;for(const u of t){const h=[...u];let f;switch(h[0]){case"l":h[1]+=e,h[2]+=r;case"L":e=h[1],r=h[2],f=["L",e,r];break;case"h":h[1]+=e;case"H":e=h[1],f=["L",e,r];break;case"v":h[1]+=r;case"V":r=h[1],f=["L",e,r];break;case"m":h[1]+=e,h[2]+=r;case"M":e=h[1],r=h[2],n=h[1],i=h[2],f=["M",e,r];break;case"c":h[1]+=e,h[2]+=r,h[3]+=e,h[4]+=r,h[5]+=e,h[6]+=r;case"C":o=h[3],c=h[4],e=h[5],r=h[6],f=["C",h[1],h[2],o,c,e,r];break;case"s":h[1]+=e,h[2]+=r,h[3]+=e,h[4]+=r;case"S":s==="C"?(o=2*e-o,c=2*r-c):(o=e,c=r),e=h[3],r=h[4],f=["C",o,c,h[1],h[2],e,r],o=f[3],c=f[4];break;case"q":h[1]+=e,h[2]+=r,h[3]+=e,h[4]+=r;case"Q":o=h[1],c=h[2],e=h[3],r=h[4],f=["Q",o,c,e,r];break;case"t":h[1]+=e,h[2]+=r;case"T":s==="Q"?(o=2*e-o,c=2*r-c):(o=e,c=r),e=h[1],r=h[2],f=["Q",o,c,e,r];break;case"a":h[6]+=e,h[7]+=r;case"A":UK(e,r,h).forEach(d=>a.push(d)),e=h[6],r=h[7];break;case"z":case"Z":e=n,r=i,f=["Z"]}f?(a.push(f),s=f[0]):s=""}return a},h2=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),JD=(t,e,r,n,i,a,s,o)=>c=>{const u=c**3,h=(p=>3*p**2*(1-p))(c),f=(p=>3*p*(1-p)**2)(c),d=(p=>(1-p)**3)(c);return new Ye(s*u+i*h+r*f+t*d,o*u+a*h+n*f+e*d)},ZD=t=>t**2,eP=t=>2*t*(1-t),tP=t=>(1-t)**2,qK=(t,e,r,n,i,a,s,o)=>c=>{const u=ZD(c),h=eP(c),f=tP(c),d=3*(f*(r-t)+h*(i-r)+u*(s-i)),p=3*(f*(n-e)+h*(a-n)+u*(o-a));return Math.atan2(p,d)},VK=(t,e,r,n,i,a)=>s=>{const o=ZD(s),c=eP(s),u=tP(s);return new Ye(i*o+r*c+t*u,a*o+n*c+e*u)},WK=(t,e,r,n,i,a)=>s=>{const o=1-s,c=2*(o*(r-t)+s*(i-r)),u=2*(o*(n-e)+s*(a-n));return Math.atan2(u,c)},ZA=(t,e,r)=>{let n=new Ye(e,r),i=0;for(let a=1;a<=100;a+=1){const s=t(a/100);i+=h2(n.x,n.y,s.x,s.y),n=s}return i},GK=(t,e)=>{let r,n=0,i=0,a={x:t.x,y:t.y},s=Se({},a),o=.01,c=0;const u=t.iterator,h=t.angleFinder;for(;i<e&&o>1e-4;)s=u(n),c=n,r=h2(a.x,a.y,s.x,s.y),r+i>e?(n-=o,o/=2):(a=s,n+=o,i+=r);return Se(Se({},s),{},{angle:h(c)})},rP=t=>{let e,r,n=0,i=0,a=0,s=0,o=0;const c=[];for(const u of t){const h={x:i,y:a,command:u[0],length:0};switch(u[0]){case"M":r=h,r.x=s=i=u[1],r.y=o=a=u[2];break;case"L":r=h,r.length=h2(i,a,u[1],u[2]),i=u[1],a=u[2];break;case"C":e=JD(i,a,u[1],u[2],u[3],u[4],u[5],u[6]),r=h,r.iterator=e,r.angleFinder=qK(i,a,u[1],u[2],u[3],u[4],u[5],u[6]),r.length=ZA(e,i,a),i=u[5],a=u[6];break;case"Q":e=VK(i,a,u[1],u[2],u[3],u[4]),r=h,r.iterator=e,r.angleFinder=WK(i,a,u[1],u[2],u[3],u[4]),r.length=ZA(e,i,a),i=u[3],a=u[4];break;case"Z":r=h,r.destX=s,r.destY=o,r.length=h2(i,a,s,o),i=s,a=o}n+=r.length,c.push(r)}return c.push({length:n,x:i,y:a}),c},YK=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rP(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],a=e/i.length,s=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return Se(Se({},new Ye(i.x,i.y).lerp(new Ye(i.destX,i.destY),a)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return Se(Se({},new Ye(i.x,i.y).lerp(new Ye(s[1],s[2]),a)),{},{angle:Math.atan2(s[2]-i.y,s[1]-i.x)});case"C":case"Q":return GK(i,e)}},XK=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),eE=new RegExp(IK,"g"),$K=new RegExp(no,"gi"),KK={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},QK=t=>{var e;const r=[],n=(e=t.match(XK))!==null&&e!==void 0?e:[];for(const i of n){const a=i[0];if(a==="z"||a==="Z"){r.push([a]);continue}const s=KK[a.toLowerCase()];let o=[];if(a==="a"||a==="A"){eE.lastIndex=0;for(let c=null;c=eE.exec(i);)o.push(...c.slice(1))}else o=i.match($K)||[];for(let c=0;c<o.length;c+=s){const u=new Array(s),h=BK[a];u[0]=c>0&&h?h:a;for(let f=0;f<s;f++)u[f+1]=parseFloat(o[c+f]);r.push(u)}}return r},JK=(t,e)=>t.map(r=>r.map((n,i)=>i===0||e===void 0?n:Zr(n,e)).join(" ")).join(" ");function r4(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach(n=>{let[i,a]=n;return r.setProperty(i,a)}))}class ZK extends AD{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),we(this,"upper",void 0),we(this,"container",void 0);const{el:i}=this.lower,a=this.createUpperCanvas();this.upper={el:a,ctx:a.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(a,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const s=this.createContainerElement();s.classList.add(n),i.parentNode&&i.parentNode.replaceChild(s,i),s.append(i,a),this.container=s}createUpperCanvas(){const{el:e}=this.lower,r=$l();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=T0().createElement("div");return e.setAttribute("data-fabric","wrapper"),r4(e,{position:"relative"}),TA(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;r4(e,Se(Se({},n),{},{"touch-action":i?"manipulation":_a})),TA(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;CD(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),XS(this.upper.el,e),XS(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),Qo().dispose(this.upper.el),delete this.upper,delete this.container}}class Oy extends O_{constructor(){super(...arguments),we(this,"targets",[]),we(this,"_hoveredTargets",[]),we(this,"_objectsToRender",void 0),we(this,"_currentTransform",null),we(this,"_groupSelector",null),we(this,"contextTopDirty",!1)}static getDefaults(){return Se(Se({},super.getDefaults()),Oy.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new ZK(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(r=>!r.group&&r!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,a=this.pixelFindContext;this.clearContext(a),a.save(),a.translate(-r+i,-n+i),a.transform(...this.viewportTransform);const s=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(a),e.selectionBackgroundColor=s,a.restore();const o=Math.round(i*this.getRetinaScaling());return nK(a,o,o,o)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find(n=>!!n&&e[n]===!0):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===Ny||r===Aa||r===Os||r===Fm?i=this.centeredScaling||e.centeredScaling:r===C_&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=jn:["mr","tr","br"].includes(r)&&(n.x=Ar),["tl","mt","tr"].includes(r)?n.y=YS:["bl","mb","br"].includes(r)&&(n.y=Sa)),n}_setupCurrentTransform(e,r,n){var i;const a=r.group?gd(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:s="",control:o}=r.getActiveControl()||{},c=n&&o?(i=o.getActionHandler(e,r,o))===null||i===void 0?void 0:i.bind(o):y$,u=((p,x,m,y)=>{if(!x||!p)return"drag";const v=y.controls[x];return v.getActionName(m,v,y)})(n,s,e,r),h=e[this.centeredKey],f=this._shouldCenterTransform(r,u,h)?{x:or,y:or}:this._getOriginFromCorner(r,s),d={target:r,action:u,actionHandler:c,actionPerformed:!1,corner:s,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:a.x-r.left,offsetY:a.y-r.top,originX:f.x,originY:f.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:Dn(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:h,original:Se(Se({},jD(r)),{},{originX:f.x,originY:f.y})};this._currentTransform=d,this.fire("before:transform",{e,transform:d})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:a}=this._groupSelector,s=new Ye(r,n).transform(this.viewportTransform),o=new Ye(r+i,n+a).transform(this.viewportTransform),c=this.selectionLineWidth/2;let u=Math.min(s.x,o.x),h=Math.min(s.y,o.y),f=Math.max(s.x,o.x),d=Math.max(s.y,o.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(u,h,f-u,d-h)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,u+=c,h+=c,f-=c,d-=c,Hi.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(u,h,f-u,d-h))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,$S(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const a=this.targets;this.targets=[];const s=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&s&&s!==n?(this.targets=a,n):s}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),a=e.padding/i;if(a){const[s,o,c,u]=n,h=Math.atan2(o.y-s.y,o.x-s.x),f=Yl(h)*a,d=Xl(h)*a,p=f+d,x=f-d;n=[new Ye(s.x-x,s.y-p),new Ye(o.x+p,o.y-x),new Ye(c.x+x,c.y+p),new Ye(u.x-p,u.y+x)]}return dn.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,gd(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(nv(i)&&i.subTargetCheck){const a=this._searchPossibleTargets(i._objects,r);a&&this.targets.push(a)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&nv(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let a=i.length-1;a>0;a--){const s=i[a];if(!nv(s)||!s.interactive)return s}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let a=f$(e),s=i.width||0,o=i.height||0;s&&o||(Sa in i&&YS in i&&(o=Math.abs(i.top-i.bottom)),jn in i&&Ar in i&&(s=Math.abs(i.right-i.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,r||(a=gd(a,void 0,this.viewportTransform));const c=this.getRetinaScaling();c!==1&&(a.x/=c,a.y/=c);const u=s===0||o===0?new Ye(1,1):new Ye(n.width/s,n.height/o);return a.multiply(u)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=$l(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Gu(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const a=this.getActiveObjects(),s=[],o=[];e.forEach(c=>{a.includes(c)||(n=!0,c.fire("deselected",{e:r,target:c}),o.push(c))}),a.forEach(c=>{e.includes(c)||(n=!0,c.fire("selected",{e:r,target:c}),s.push(c))}),e.length>0&&a.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:s,deselected:o})):a.length>0?(i=!0,this.fire("selection:created",{e:r,selected:s})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:o})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,Gu(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),Gu(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(n2,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;Gu(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),a=super._toObject(e,r,n);return e.set(i),a}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&Gu(r)&&this._activeObject===r){const n=j0(e,["angle","flipX","flipY",Ar,Aa,Os,C0,A0,Sa]);return p$(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}}we(Oy,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class eQ{constructor(e){we(this,"targets",[]),we(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),If(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const tQ=["target","oldTarget","fireCanvas","e"],Ua={passive:!1},Nf=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},Nc=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},ms=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},rQ={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class n4 extends Oy{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),we(this,"_isClick",void 0),we(this,"textEditingManager",new eQ(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(r=>{this[r]=this[r].bind(this)}),this.addOrRemove(Nc,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(TD(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,Ua),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"click",this._onClick),e(n,"dblclick",this._onClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,Ua)}removeListeners(){this.addOrRemove(ms,"remove");const e=this._getEventPrefix(),r=Zs(this.upperCanvasEl);ms(r,"".concat(e,"up"),this._onMouseUp),ms(r,"touchend",this._onTouchEnd,Ua),ms(r,"".concat(e,"move"),this._onMouseMove,Ua),ms(r,"touchmove",this._onMouseMove,Ua),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=Se({e},Nf(this,e));this.fire("mouse:out",Se(Se({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",Se({},n)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",Se(Se({},n),{},{target:i})),i&&i.fire("mouseout",Se({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",Se({e},Nf(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void Nc(this.upperCanvasEl,"drag",this._onDragProgress)}CA(e)}_renderDragEffects(e,r,n){let i=!1;const a=this._dropTarget;a&&a!==r&&a!==n&&(a.clearContextTop(),i=!0),r==null||r.clearContextTop(),n!==r&&(n==null||n.clearContextTop());const s=this.contextTop;s.save(),s.transform(...this.viewportTransform),r&&(s.save(),r.transform(s),r.renderDragSourceEffect(e),s.restore(),i=!0),n&&(s.save(),n.transform(s),n.renderDropTargetEffect(e),s.restore(),i=!0),s.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==_a,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};ms(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),a=this._dragSource,s={e,target:n,subTargets:i,dragSource:a,canDrop:!1,dropTarget:void 0};let o;this.fire(r,s),this._fireEnterLeaveEvents(n,s),n&&(n.canDrop(e)&&(o=n),n.fire(r,s));for(let c=0;c<i.length;c++){const u=i[c];u.canDrop(e)&&(o=u),u.fire(r,s)}this._renderDragEffects(e,a,o),this._dropTarget=o}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",Se({e,target:r,subTargets:n,dragSource:this._dragSource},Nf(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&CA(e),this._basicEventHandler("contextmenu",i),!1}_onClick(e){const r=e.detail;r>3||r<2||(this._cacheTransformEventData(e),r==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),r==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let r=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(r=!0),r&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,a=this._getEventPrefix(),s=Zs(i);Nc(s,"touchend",this._onTouchEnd,Ua),r&&Nc(s,"touchmove",this._onMouseMove,Ua),ms(i,"".concat(a,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();ms(r,"".concat(n,"move"),this._onMouseMove,Ua);const i=Zs(r);Nc(i,"".concat(n,"up"),this._onMouseUp),Nc(i,"".concat(n,"move"),this._onMouseMove,Ua)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=Zs(this.upperCanvasEl);ms(n,"touchend",this._onTouchEnd,Ua),ms(n,"touchmove",this._onMouseMove,Ua),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Nc(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=Zs(this.upperCanvasEl);ms(i,"".concat(n,"up"),this._onMouseUp),ms(i,"".concat(n,"move"),this._onMouseMove,Ua),Nc(r,"".concat(n,"move"),this._onMouseMove,Ua)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,a=this._target,{button:s}=e;if(s)return(this.fireMiddleClick&&s===1||this.fireRightClick&&s===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let o,c,u=!1;if(n&&(this._finalizeCurrentTransform(e),u=n.actionPerformed),!i){const h=a===this._activeObject;this.handleSelection(e),u||(u=this._shouldRender(a)||!h&&a===this._activeObject)}if(a){const h=a.findControl(this.getViewportPoint(e),$S(e)),{key:f,control:d}=h||{};if(c=f,a.selectable&&a!==this._activeObject&&a.activeOn==="up")this.setActiveObject(a,e),u=!0;else if(d){const p=d.getMouseUpHandler(e,a,d);p&&(o=this.getScenePoint(e),p.call(d,e,n,o.x,o.y))}a.isMoving=!1}if(n&&(n.target!==a||n.corner!==c)){const h=n.target&&n.target.controls[n.corner],f=h&&h.getMouseUpHandler(e,n.target,h);o=o||this.getScenePoint(e),f&&f.call(h,e,n,o.x,o.y)}this._setCursorFromEvent(e,a),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,a&&(a.__corner=void 0),u?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let a=0;a<i.length;a++)i[a]!==n&&i[a].fire(e,r);return r}_handleEvent(e,r,n){const i=this._target,a=this.targets||[],s=Se(Se(Se({e,target:i,subTargets:a},Nf(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),r==="down:before"||r==="down"?n:{});this.fire("mouse:".concat(r),s),i&&i.fire("mouse".concat(r),s);for(let o=0;o<a.length;o++)a[o]!==i&&a[o].fire("mouse".concat(r),s)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target,n=!!r&&r===this._activeObject;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down",{alreadySelected:n}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let a=this._shouldRender(r),s=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,s=!0,a=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const o=this.getScenePoint(e);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(n=!!r&&r===this._activeObject,r){r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const o=r.findControl(this.getViewportPoint(e),$S(e));if(r===this._activeObject&&(o||!s)){this._setupCurrentTransform(e,r,n);const c=o?o.control:void 0,u=this.getScenePoint(e),h=c&&c.getMouseDownHandler(e,r,c);h&&h.call(c,e,this._currentTransform,u.x,u.y)}}a&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),a&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=gd(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,a=this.targets,s=Math.max(i.length,a.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let o=0;o<s;o++)this.fireSyntheticInOutEvents("mouse",{e,target:a[o],oldTarget:i[o]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,a=this.targets,s=Math.max(i.length,a.length);this.fireSyntheticInOutEvents("drag",Se(Se({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let o=0;o<s;o++)this.fireSyntheticInOutEvents("drag",Se(Se({},r),{},{target:a[o],oldTarget:i[o]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:a,e:s}=r,o=un(r,tQ);const{targetIn:c,targetOut:u,canvasIn:h,canvasOut:f}=rQ[e],d=i!==n;if(i&&d){const p=Se(Se({},o),{},{e:s,target:i,nextTarget:n},Nf(this,s));a&&this.fire(f,p),i.fire(u,p)}if(n&&d){const p=Se(Se({},o),{},{e:s,target:n,previousTarget:i},Nf(this,s));a&&this.fire(h,p),n.fire(c,p)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,a=i.group?gd(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,a),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:a,target:s}=r,o=!!a&&a(e,r,n.x,n.y);o&&s.setCoords(),i==="drag"&&o&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||o}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=Gu(this._activeObject)?this._activeObject:null,a=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(a){const s=a.control;this.setCursor(s.cursorStyleHandler(e,s,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(s=>{n=s.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=Gu(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const a=n.getObjects();if(r===n){const s=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(a,s)||this.searchPossibleTargets(this._objects,s))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(a,e)}else{n.isEditing&&n.exitEditing();const a=new(kt.getClass("ActiveSelection"))([],{canvas:this});a.multiSelectAdd(n,r),this._hoveredTarget=a,this._setActiveObject(a,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:a}=this._groupSelector,s=new Ye(r,n),o=s.add(new Ye(i,a)),c=s.min(o),u=s.max(o).subtract(c),h=this.collectObjects({left:c.x,top:c.y,width:u.x,height:u.y},{includeIntersecting:!this.selectionFullyContained}),f=s.eq(o)?h[0]?[h[0]]:[]:h.length>1?h.filter(d=>!d.onSelect({e})).reverse():h;if(f.length===1)this.setActiveObject(f[0],e);else if(f.length>1){const d=kt.getClass("ActiveSelection");this.setActiveObject(new d(f,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const nP={x1:0,y1:0,x2:0,y2:0},nQ=Se(Se({},nP),{},{r1:0,r2:0}),td=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,iQ=/^(\d+\.\d+)%|(\d+)%$/;function iP(t){return t&&iQ.test(t)}function aP(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(iP(t)?100:1):NaN;return a0(0,td(r,e),1)}const aQ=/\s*;\s*/,sQ=/\s*:\s*/;function oQ(t,e){let r,n;const i=t.getAttribute("style");if(i){const s=i.split(aQ);s[s.length-1]===""&&s.pop();for(let o=s.length;o--;){const[c,u]=s[o].split(sQ).map(h=>h.trim());c==="stop-color"?r=u:c==="stop-opacity"&&(n=u)}}const a=new ss(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:aP(t.getAttribute("offset"),0),color:a.toRgb(),opacity:td(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*a.getAlpha()*e}}function lQ(t,e){const r=[],n=t.getElementsByTagName("stop"),i=aP(e,1);for(let a=n.length;a--;)r.push(oQ(n[a],i));return r}function sP(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function oP(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Us(t,e){return t.getAttribute(e)}function cQ(t,e){return function(r,n){let i,{width:a,height:s,gradientUnits:o}=n;return Object.keys(r).reduce((c,u)=>{const h=r[u];return h==="Infinity"?i=1:h==="-Infinity"?i=0:(i=typeof h=="string"?parseFloat(h):h,typeof h=="string"&&iP(h)&&(i*=.01,o==="pixels"&&(u!=="x1"&&u!=="x2"&&u!=="r2"||(i*=a),u!=="y1"&&u!=="y2"||(i*=s)))),c[u]=i,c},{})}(sP(t)==="linear"?function(r){return{x1:Us(r,"x1")||0,y1:Us(r,"y1")||0,x2:Us(r,"x2")||"100%",y2:Us(r,"y2")||0}}(t):function(r){return{x1:Us(r,"fx")||Us(r,"cx")||"50%",y1:Us(r,"fy")||Us(r,"cy")||"50%",r1:0,x2:Us(r,"cx")||"50%",y2:Us(r,"cy")||"50%",r2:Us(r,"r")||"50%"}}(t),Se(Se({},e),{},{gradientUnits:oP(t)}))}class $1{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:a=[],offsetX:s=0,offsetY:o=0,gradientTransform:c,id:u}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:Se(Se({},r==="radial"?nQ:nP),i),colorStops:a,offsetX:s,offsetY:o,gradientTransform:c,id:u?"".concat(u,"_").concat(vu()):vu()})}addColorStop(e){for(const r in e){const n=new ss(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return Se(Se({},j0(this,e)),{},{type:this.type,coords:Se({},this.coords),colorStops:this.colorStops.map(r=>Se({},r)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():sa.concat(),a=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",s=this.colorStops.map(f=>Se({},f)).sort((f,d)=>f.offset-d.offset);let o=-this.offsetX,c=-this.offsetY;var u;a==="objectBoundingBox"?(o/=e.width,c/=e.height):(o+=e.width/2,c+=e.height/2),(u=e)&&typeof u._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(o-=e.pathOffset.x,c-=e.pathOffset.y),i[4]-=o,i[5]-=c;const h=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(a,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(Bm(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:f,y1:d,x2:p,y2:x}=this.coords;n.push("<linearGradient ",h,' x1="',f,'" y1="',d,'" x2="',p,'" y2="',x,`">
`)}else if(this.type==="radial"){const{x1:f,y1:d,x2:p,y2:x,r1:m,r2:y}=this.coords,v=m>y;n.push("<radialGradient ",h,' cx="',v?f:p,'" cy="',v?d:x,'" r="',v?m:y,'" fx="',v?p:f,'" fy="',v?x:d,`">
`),v&&(s.reverse(),s.forEach(S=>{S.offset=1-S.offset}));const b=Math.min(m,y);if(b>0){const S=b/Math.max(m,y);s.forEach(T=>{T.offset+=S*(1-T.offset)})}}return s.forEach(f=>{let{color:d,offset:p,opacity:x}=f;n.push("<stop ",'offset="',100*p+"%",'" style="stop-color:',d,x!==void 0?";stop-opacity: "+x:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:a,r1:s,r2:o}=this.coords,c=this.type==="linear"?e.createLinearGradient(r,n,i,a):e.createRadialGradient(r,n,s,i,a,o);return this.colorStops.forEach(u=>{let{color:h,opacity:f,offset:d}=u;c.addColorStop(d,f!==void 0?new ss(h).setAlpha(f).toRgba():h)}),c}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(Se(Se({},e),{},{colorStops:r?r.map(i=>Se({},i)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=oP(e),a=r._findCenterFromElement();return new this(Se({id:e.getAttribute("id")||void 0,type:sP(e),coords:cQ(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:lQ(e,n.opacity),gradientUnits:i,gradientTransform:ZS(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-a.x,offsetY:r.height/2-a.y}:{offsetX:0,offsetY:0}))}}we($1,"type","Gradient"),kt.setClass($1,"gradient"),kt.setClass($1,"linear"),kt.setClass($1,"radial");const uQ=["type","source","patternTransform"];class Lw{get type(){return"pattern"}set type(e){xu("warn","Setting type has no effect",e)}constructor(e){we(this,"repeat","repeat"),we(this,"offsetX",0),we(this,"offsetY",0),we(this,"crossOrigin",""),this.id=vu(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return Se(Se({},j0(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:Zr(this.offsetX,xr.NUM_FRACTION_DIGITS),offsetY:Zr(this.offsetY,xr.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:a,id:s}=this,o=td(this.offsetX/r,0),c=td(this.offsetY/n,0),u=a==="repeat-y"||a==="no-repeat"?1+Math.abs(o||0):td(i.width/r,0),h=a==="repeat-x"||a==="no-repeat"?1+Math.abs(c||0):td(i.height/n,0);return['<pattern id="SVGID_'.concat(s,'" x="').concat(o,'" y="').concat(c,'" width="').concat(u,'" height="').concat(h,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:a}=e,s=un(e,uQ);const o=await av(i,Se(Se({},r),{},{crossOrigin:s.crossOrigin}));return new this(Se(Se({},s),{},{patternTransform:a&&a.slice(0),source:o}))}}we(Lw,"type","Pattern"),kt.setClass(Lw),kt.setClass(Lw,"pattern");const hQ=["path","left","top"],fQ=["d"];class Yu extends Hi{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:a}=r,s=un(r,hQ);super(),Object.assign(this,Yu.ownDefaults),this.setOptions(s),this._setPath(e||[],!0),typeof i=="number"&&this.set(Ar,i),typeof a=="number"&&this.set(Sa,a)}_setPath(e,r){this.path=HK(Array.isArray(e)?e:QK(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new Ye(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Se(Se({},super.toObject(e)),{},{path:this.path.map(r=>r.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=JK(this.path,xr.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=xr.NUM_FRACTION_DIGITS;return" translate(".concat(Zr(-this.pathOffset.x,e),", ").concat(Zr(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,or,or)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,a=0;for(const s of this.path)switch(s[0]){case"L":i=s[1],a=s[2],e.push({x:r,y:n},{x:i,y:a});break;case"M":i=s[1],a=s[2],r=i,n=a;break;case"C":e.push(...JA(i,a,s[1],s[2],s[3],s[4],s[5],s[6])),i=s[5],a=s[6];break;case"Q":e.push(...JA(i,a,s[1],s[2],s[1],s[2],s[3],s[4])),i=s[3],a=s[4];break;case"Z":i=r,a=n}return Ml(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return Se(Se({},e),{},{pathOffset:new Ye(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=nc(e,this.ATTRIBUTE_NAMES,n),{d:a}=i;return new this(a,Se(Se(Se({},un(i,fQ)),r),{},{left:void 0,top:void 0}))}}we(Yu,"type","Path"),we(Yu,"cacheProperties",[...rc,"path","fillRule"]),we(Yu,"ATTRIBUTE_NAMES",[...Au,"d"]),kt.setClass(Yu),kt.setSVGClass(Yu);const dQ=["left","top","radius"],lP=["radius","startAngle","endAngle","counterClockwise"];class Ro extends Hi{static getDefaults(){return Se(Se({},super.getDefaults()),Ro.ownDefaults)}constructor(e){super(),Object.assign(this,Ro.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Dn(this.startAngle),Dn(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Aa)}getRadiusY(){return this.get("radius")*this.get(Os)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...lP,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=Dn(this.startAngle),i=Dn(this.endAngle),a=Yl(n)*r,s=Xl(n)*r,o=Yl(i)*r,c=Xl(i)*r,u=e>180?1:0,h=this.counterClockwise?0:1;return['<path d="M '.concat(a," ").concat(s," A ").concat(r," ").concat(r," 0 ").concat(u," ").concat(h," ").concat(o," ").concat(c,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=nc(e,this.ATTRIBUTE_NAMES,n),{left:a=0,top:s=0,radius:o=0}=i;return new this(Se(Se({},un(i,dQ)),{},{radius:o,left:a-o,top:s-o}))}static fromObject(e){return super._fromObject(e)}}we(Ro,"type","Circle"),we(Ro,"cacheProperties",[...rc,...lP]),we(Ro,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),we(Ro,"ATTRIBUTE_NAMES",["cx","cy","r",...Au]),kt.setClass(Ro),kt.setSVGClass(Ro);const pQ=["x1","y1","x2","y2"],mQ=["x1","y1","x2","y2"],i4=["x1","x2","y1","y2"];class Ic extends Hi{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Ic.ownDefaults),this.setOptions(a),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:s,top:o}=a;typeof s=="number"&&this.set(Ar,s),typeof o=="number"&&this.set(Sa,o)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:a,top:s,width:o,height:c}=Ml([{x:e,y:r},{x:n,y:i}]),u=new Ye(a+o/2,s+c/2);this.setPositionByOrigin(u,or,or)}_set(e,r){return super._set(e,r),i4.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;Cs(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new Ye((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Se(Se({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:a,height:s}=this,o=e<=r?-1:1,c=n<=i?-1:1;return{x1:o*a/2,x2:o*-a/2,y1:c*s/2,y2:c*-s/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=nc(e,this.ATTRIBUTE_NAMES,n),{x1:a=0,y1:s=0,x2:o=0,y2:c=0}=i;return new this([a,s,o,c],un(i,pQ))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:a}=e,s=un(e,mQ);return this._fromObject(Se(Se({},s),{},{points:[r,n,i,a]}),{extraParam:"points"})}}we(Ic,"type","Line"),we(Ic,"cacheProperties",[...rc,...i4]),we(Ic,"ATTRIBUTE_NAMES",Au.concat(i4)),kt.setClass(Ic),kt.setSVGClass(Ic);class Qc extends Hi{static getDefaults(){return Se(Se({},super.getDefaults()),Qc.ownDefaults)}constructor(e){super(),Object.assign(this,Qc.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}}we(Qc,"type","Triangle"),we(Qc,"ownDefaults",{width:100,height:100}),kt.setClass(Qc),kt.setSVGClass(Qc);const cP=["rx","ry"];class _l extends Hi{static getDefaults(){return Se(Se({},super.getDefaults()),_l.ownDefaults)}constructor(e){super(),Object.assign(this,_l.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Aa)}getRy(){return this.get("ry")*this.get(Os)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...cP,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,t2,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=nc(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function gQ(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}we(_l,"type","Ellipse"),we(_l,"cacheProperties",[...rc,...cP]),we(_l,"ownDefaults",{rx:0,ry:0}),we(_l,"ATTRIBUTE_NAMES",[...Au,"cx","cy","rx","ry"]),kt.setClass(_l),kt.setSVGClass(_l);const xQ=["left","top"],uP={exactBoundingBox:!1};class Qs extends Hi{static getDefaults(){return Se(Se({},super.getDefaults()),Qs.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),we(this,"strokeDiff",void 0),Object.assign(this,Qs.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(Ar,n),typeof i=="number"&&this.set(Sa,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return aK(this.points,e,this.isOpen())}_calcDimensions(e){e=Se({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(u=>u.projectedPoint):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Ye,strokeOffset:new Ye,strokeDiff:new Ye};const n=Ml(r),i=Ty(Se(Se({},e),{},{scaleX:1,scaleY:1})),a=Ml(this.points.map(u=>ya(u,i,!0))),s=new Ye(this.scaleX,this.scaleY);let o=n.left+n.width/2,c=n.top+n.height/2;return this.exactBoundingBox&&(o-=c*Math.tan(Dn(this.skewX)),c-=o*Math.tan(Dn(this.skewY))),Se(Se({},n),{},{pathOffset:new Ye(o,c),strokeOffset:new Ye(a.left,a.top).subtract(new Ye(n.left,n.top)).multiply(s),strokeDiff:new Ye(n.width,n.height).subtract(new Ye(a.width,a.height)).multiply(s)})}_findCenterFromElement(){const e=Ml(this.points);return new Ye(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:a,pathOffset:s,strokeOffset:o,strokeDiff:c}=this._calcDimensions();this.set({width:i,height:a,pathOffset:s,strokeOffset:o,strokeDiff:c}),e&&this.setPositionByOrigin(new Ye(r+i/2,n+a/2),or,or)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Ye(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let s;if(Object.keys(e).some(o=>this.strokeUniform||this.constructor.layoutProperties.includes(o))){var r,n;const{width:o,height:c}=this._calcDimensions(e);s=new Ye((r=e.width)!==null&&r!==void 0?r:o,(n=e.height)!==null&&n!==void 0?n:c)}else{var i,a;s=new Ye((i=e.width)!==null&&i!==void 0?i:this.width,(a=e.height)!==null&&a!==void 0?a:this.height)}return s.multiply(new Ye(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===Aa||e===Os)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Se(Se({},super.toObject(e)),{},{points:this.points.map(r=>{let{x:n,y:i}=r;return{x:n,y:i}})})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=xr.NUM_FRACTION_DIGITS;for(let a=0,s=this.points.length;a<s;a++)e.push(Zr(this.points[a].x-r,i),",",Zr(this.points[a].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let a=0;a<r;a++){const s=this.points[a];e.lineTo(s.x-n,s.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(gQ(e.getAttribute("points")),Se(Se({},un(nc(e,this.ATTRIBUTE_NAMES,n),xQ)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}we(Qs,"ownDefaults",uP),we(Qs,"type","Polyline"),we(Qs,"layoutProperties",[C0,A0,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),we(Qs,"cacheProperties",[...rc,"points"]),we(Qs,"ATTRIBUTE_NAMES",[...Au]),kt.setClass(Qs),kt.setSVGClass(Qs);class K1 extends Qs{isOpen(){return!1}}we(K1,"ownDefaults",uP),we(K1,"type","Polygon"),kt.setClass(K1),kt.setSVGClass(K1);class hP extends Hi{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const a in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const a in n[i])if(n[i][a][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,a=0,s=!0,o=0;for(const c in r){n=0;for(const u in r[c]){const h=r[c][u]||{};a++,h[e]!==void 0?(i?h[e]!==i&&(s=!1):i=h[e],h[e]===this[e]&&delete h[e]):s=!1,Object.keys(h).length!==0?n++:delete r[c][u]}n===0&&delete r[c]}for(let c=0;c<this._textLines.length;c++)o+=this._textLines[c].length;s&&a===o&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,a;for(i in r){for(a in n=r[i],n)delete n[a][e],Object.keys(n[a]).length===0&&delete n[a];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const a=k_(Se(Se({},this._getStyleDeclaration(n,i)),r),s=>s!==void 0);this._setStyleDeclaration(n,i,a)}getSelectionStyles(e,r,n){const i=[];for(let a=e;a<(r||e);a++)i.push(this.getStyleAtPosition(a,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return Se(Se({},j0(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}we(hP,"_styleProperties",w$);const vQ=/  +/g,yQ=/"/g;function Dw(t,e,r,n,i){return"		".concat(function(a,s){let{left:o,top:c,width:u,height:h}=s,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xr.NUM_FRACTION_DIGITS;const d=zm(Kn,a,!1),[p,x,m,y]=[o,c,u,h].map(v=>Zr(v,f));return"<rect ".concat(d,' x="').concat(p,'" y="').concat(x,'" width="').concat(m,'" height="').concat(y,'"></rect>')}(t,{left:e,top:r,width:n,height:i}),`
`)}const bQ=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Pw;class Ji extends hP{static getDefaults(){return Se(Se({},super.getDefaults()),Ji.ownDefaults)}constructor(e,r){super(),we(this,"__charBounds",[]),Object.assign(this,Ji.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=rP(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Fo)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,a,s,o;for(let c=0,u=this._textLines.length;c<u;c++)if((this.textAlign===Fo||c!==u-1&&!this.isEndOfWrapping(c))&&(i=0,a=this._textLines[c],r=this.getLineWidth(c),r<this.width&&(o=this.textLines[c].match(this._reSpacesAndTabs)))){n=o.length,e=(this.width-r)/n;for(let h=0;h<=a.length;h++)s=this.__charBounds[c][h],this._reSpaceAndTab.test(a[h])?(s.width+=e,s.kernedWidth+=e,s.left+=i,i+=e):s.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Na?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case or:e.textBaseline="middle";break;case"ascender":e.textBaseline=Sa;break;case"descender":e.textBaseline=YS}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,a,s){this._renderChars(e,r,n,i,a,s)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let a=0,s=this._textLines.length;a<s;a++){const o=this.getHeightOfLine(a);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",a)){i+=o;continue}const c=this._textLines[a].length,u=this._getLineLeftOffset(a);let h,f,d=0,p=0,x=this.getValueOfPropertyAt(a,0,"textBackgroundColor");for(let m=0;m<c;m++){const y=this.__charBounds[a][m];f=this.getValueOfPropertyAt(a,m,"textBackgroundColor"),this.path?(e.save(),e.translate(y.renderLeft,y.renderTop),e.rotate(y.angle),e.fillStyle=f,f&&e.fillRect(-y.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),y.width,o/this.lineHeight),e.restore()):f!==x?(h=n+u+p,this.direction==="rtl"&&(h=this.width-h-d),e.fillStyle=x,x&&e.fillRect(h,i,d,o/this.lineHeight),p=y.left,d=y.width,x=f):d+=y.kernedWidth}f&&!this.path&&(h=n+u+p,this.direction==="rtl"&&(h=this.width-h-d),e.fillStyle=f,e.fillRect(h,i,d,o/this.lineHeight)),i+=o}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const a=nm.getFontCache(r),s=this._getFontDeclaration(r),o=n+e,c=n&&s===this._getFontDeclaration(i),u=r.fontSize/this.CACHE_FONT_SIZE;let h,f,d,p;if(n&&a[n]!==void 0&&(d=a[n]),a[e]!==void 0&&(p=h=a[e]),c&&a[o]!==void 0&&(f=a[o],p=f-d),h===void 0||d===void 0||f===void 0){const x=function(){return Pw||(Pw=Ls({width:0,height:0}).getContext("2d")),Pw}();this._setTextStyles(x,r,!0),h===void 0&&(p=h=x.measureText(e).width,a[e]=h),d===void 0&&c&&n&&(d=x.measureText(n).width,a[n]=d),c&&f===void 0&&(f=x.measureText(o).width,a[o]=f,p=f-d)}return{width:h*u,kernedWidth:p*u}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const a=this.pathSide===jn,s=this.path,o=this._textLines[e],c=o.length,u=new Array(c);this.__charBounds[e]=u;for(let h=0;h<c;h++){const f=o[h];n=this._getGraphemeBox(f,e,h,r),u[h]=n,i+=n.kernedWidth,r=f}if(u[c]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},s&&s.segmentsInfo){let h=0;const f=s.segmentsInfo[s.segmentsInfo.length-1].length;switch(this.textAlign){case Ar:h=a?f-i:0;break;case or:h=(f-i)/2;break;case jn:h=a?0:f-i}h+=this.pathStartOffset*(a?-1:1);for(let d=a?c-1:0;a?d>=0:d<c;a?d--:d++)n=u[d],h>f?h%=f:h<0&&(h+=f),this._setGraphemeOnPath(h,n),h+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,a=YK(i.path,n,i.segmentsInfo);r.renderLeft=a.x-i.pathOffset.x,r.renderTop=a.y-i.pathOffset.y,r.angle=a.angle+(this.pathSide===jn?Math.PI:0)}_getGraphemeBox(e,r,n,i,a){const s=this.getCompleteStyleDeclaration(r,n),o=i?this.getCompleteStyleDeclaration(r,n-1):{},c=this._measureChar(e,s,i,o);let u,h=c.kernedWidth,f=c.width;this.charSpacing!==0&&(u=this._getWidthOfCharSpacing(),f+=u,h+=u);const d={width:f,left:0,height:s.fontSize,kernedWidth:h,deltaY:s.deltaY};if(n>0&&!a){const p=this.__charBounds[r][n-1];d.left=p.left+p.width+c.kernedWidth-c.width}return d}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let r=this.getHeightOfChar(e,0);for(let n=1,i=this._textLines[e].length;n<i;n++)r=Math.max(this.getHeightOfChar(e,n),r);return this.__lineHeights[e]=r*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,r=0;for(let n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),r+=n===i-1?e/this.lineHeight:e;return r}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),a=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const c=this.getHeightOfLine(s),u=c/this.lineHeight,h=this._getLineLeftOffset(s);this._renderTextLine(r,e,this._textLines[s],i+h,a+n+u,s),n+=c}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Kn))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,a,s){const o=this.getHeightOfLine(s),c=this.textAlign.includes(Fo),u=this.path,h=!c&&this.charSpacing===0&&this.isEmptyStyles(s)&&!u,f=this.direction==="ltr",d=this.direction==="ltr"?1:-1,p=r.direction;let x,m,y,v,b,S="",T=0;if(r.save(),p!==this.direction&&(r.canvas.setAttribute("dir",f?"ltr":"rtl"),r.direction=f?"ltr":"rtl",r.textAlign=f?Ar:jn),a-=o*this._fontSizeFraction/this.lineHeight,h)return this._renderChar(e,r,s,0,n.join(""),i,a),void r.restore();for(let E=0,P=n.length-1;E<=P;E++)v=E===P||this.charSpacing||u,S+=n[E],y=this.__charBounds[s][E],T===0?(i+=d*(y.kernedWidth-y.width),T+=y.width):T+=y.kernedWidth,c&&!v&&this._reSpaceAndTab.test(n[E])&&(v=!0),v||(x=x||this.getCompleteStyleDeclaration(s,E),m=this.getCompleteStyleDeclaration(s,E+1),v=B_(x,m,!1)),v&&(u?(r.save(),r.translate(y.renderLeft,y.renderTop),r.rotate(y.angle),this._renderChar(e,r,s,E,S,-T/2,0),r.restore()):(b=i,this._renderChar(e,r,s,E,S,b,a)),S="",x=m,i+=d*T,T=0);r.restore()}_applyPatternGradientTransformText(e){const r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=Ls({width:r,height:n}),a=i.getContext("2d");return i.width=r,i.height=n,a.beginPath(),a.moveTo(0,0),a.lineTo(r,0),a.lineTo(r,n),a.lineTo(0,n),a.closePath(),a.translate(r/2,n/2),a.fillStyle=e.toLive(a),this._applyPatternGradientTransform(a,e),a.fill(),a.createPattern(i,"no-repeat")}handleFiller(e,r,n){let i,a;return Cs(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,a=-this.height/2,e.translate(i,a),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:a}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,a,s,o){const c=this._getStyleDeclaration(n,i),u=this.getCompleteStyleDeclaration(n,i),h=e==="fillText"&&u.fill,f=e==="strokeText"&&u.stroke&&u.strokeWidth;if(f||h){if(r.save(),r.font=this._getFontDeclaration(u),c.textBackgroundColor&&this._removeShadow(r),c.deltaY&&(o+=c.deltaY),h){const d=this._setFillStyles(r,u);r.fillText(a,s-d.offsetX,o-d.offsetY)}if(f){const d=this._setStrokeStyles(r,u);r.strokeText(a,s-d.offsetX,o-d.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),a=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),o={fontSize:a*n.size,deltaY:s+a*n.baseline};this.setSelectionStyles(o,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,a=this.direction,s=this.isEndOfWrapping(e);let o=0;return i===Fo||i===am&&!s||i===im&&!s||i===l2&&!s?0:(i===or&&(o=n/2),i===jn&&(o=n),i===am&&(o=n/2),i===im&&(o=n),a==="rtl"&&(i===jn||i===Fo||i===im?o=0:i===Ar||i===l2?o=-n:i!==or&&i!==am||(o=-n/2)),o)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),a=this.path,s=this._getWidthOfCharSpacing(),o=r==="linethrough"?.5:r==="overline"?1:0,c=this.offsets[r];for(let u=0,h=this._textLines.length;u<h;u++){const f=this.getHeightOfLine(u);if(!this[r]&&!this.styleHas(r,u)){n+=f;continue}const d=this._textLines[u],p=f/this.lineHeight,x=this._getLineLeftOffset(u);let m=0,y=0,v=this.getValueOfPropertyAt(u,0,r),b=this.getValueOfPropertyAt(u,0,Kn),S=this.getValueOfPropertyAt(u,0,kh),T=v,E=b,P=S;const j=n+p*(1-this._fontSizeFraction);let L=this.getHeightOfChar(u,0),F=this.getValueOfPropertyAt(u,0,"deltaY");for(let O=0,q=d.length;O<q;O++){const I=this.__charBounds[u][O];T=this.getValueOfPropertyAt(u,O,r),E=this.getValueOfPropertyAt(u,O,Kn),P=this.getValueOfPropertyAt(u,O,kh);const ae=this.getHeightOfChar(u,O),X=this.getValueOfPropertyAt(u,O,"deltaY");if(a&&T&&E){const le=this.fontSize*P/1e3;e.save(),e.fillStyle=b,e.translate(I.renderLeft,I.renderTop),e.rotate(I.angle),e.fillRect(-I.kernedWidth/2,c*ae+X-o*le,I.kernedWidth,le),e.restore()}else if((T!==v||E!==b||ae!==L||P!==S||X!==F)&&y>0){const le=this.fontSize*S/1e3;let re=i+x+m;this.direction==="rtl"&&(re=this.width-re-y),v&&b&&S&&(e.fillStyle=b,e.fillRect(re,j+c*L+F-o*le,y,le)),m=I.left,y=I.width,v=T,S=P,b=E,L=ae,F=X}else y+=I.kernedWidth}let W=i+x+m;this.direction==="rtl"&&(W=this.width-W-y),e.fillStyle=E;const D=this.fontSize*P/1e3;T&&E&&P&&e.fillRect(W,j+c*L+F-o*D,y-s,D),n+=f}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const s=e.includes("'")||e.includes('"')||e.includes(",")||Ji.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(a?this.CACHE_FONT_SIZE:i,"px"),s].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return I_(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let a=[];for(let s=0;s<r.length;s++)n[s]=this.graphemeSplit(r[s]),a=a.concat(n[s],i);return a.pop(),{_unwrappedLines:n,lines:r,graphemeText:a,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Se(Se({},super.toObject([...ID,...e])),{},{styles:cK(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,a=!1;if(typeof e=="object")for(const s in e)s==="path"&&this.setPathInfo(),i=i||n.includes(s),a=a||s==="path";else i=n.includes(e),a=e==="path";return a&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=nc(e,Ji.ATTRIBUTE_NAMES,n),a=Se(Se({},r),i),{textAnchor:s=Ar,textDecoration:o="",dx:c=0,dy:u=0,top:h=0,left:f=0,fontSize:d=N_,strokeWidth:p=1}=a,x=un(a,bQ),m=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),Se({left:f+c,top:h+u,underline:o.includes("underline"),overline:o.includes("overline"),linethrough:o.includes("line-through"),strokeWidth:0,fontSize:d},x)),y=m.getScaledHeight()/m.height,v=((m.height+m.strokeWidth)*m.lineHeight-m.height)*y,b=m.getScaledHeight()+v;let S=0;return s===or&&(S=m.getScaledWidth()/2),s===jn&&(S=m.getScaledWidth()),m.set({left:m.left-S,top:m.top-(b-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:p}),m}static fromObject(e){return this._fromObject(Se(Se({},e),{},{styles:uK(e.styles||{},e.text)}),{extraParam:"text"})}}we(Ji,"textLayoutProperties",FD),we(Ji,"cacheProperties",[...rc,...ID]),we(Ji,"ownDefaults",S$),we(Ji,"type","Text"),we(Ji,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),we(Ji,"ATTRIBUTE_NAMES",Au.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),YD(Ji,[class extends PD{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),r=this.path;return r?e+r._createBaseSVGMarkup(r._toSVG(),{reviver:t,withShadow:!0,additionalTransform:Bm(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(yQ,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,a=t;this.backgroundColor&&n.push(...Dw(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let s=0,o=this._textLines.length;s<o;s++)i=this._getLineLeftOffset(s),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(n,s,e+i,a),this._setSVGTextLineText(r,s,e+i,a),a+=this.getHeightOfLine(s);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n,i){const a=xr.NUM_FRACTION_DIGITS,s=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(vQ)),o=s?'style="'.concat(s,'"'):"",c=e.deltaY,u=c?' dy="'.concat(Zr(c,a),'" '):"",{angle:h,renderLeft:f,renderTop:d,width:p}=i;let x="";if(f!==void 0){const m=p/2;h&&(x=' rotate="'.concat(Zr(Kl(h),a),'"'));const y=E0({angle:Kl(h)});y[4]=f,y[5]=d;const v=new Ye(-m,0).transform(y);r=v.x,n=v.y}return'<tspan x="'.concat(Zr(r,a),'" y="').concat(Zr(n,a),'" ').concat(u).concat(x).concat(o,">").concat(sK(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),a=this.textAlign.includes(Fo),s=this._textLines[e];let o,c,u,h,f,d="",p=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let x=0,m=s.length-1;x<=m;x++)f=x===m||this.charSpacing||this.path,d+=s[x],u=this.__charBounds[e][x],p===0?(r+=u.kernedWidth-u.width,p+=u.width):p+=u.kernedWidth,a&&!f&&this._reSpaceAndTab.test(s[x])&&(f=!0),f||(o=o||this.getCompleteStyleDeclaration(e,x),c=this.getCompleteStyleDeclaration(e,x+1),f=B_(o,c,!0)),f&&(h=this._getStyleDeclaration(e,x),t.push(this._createTextCharSpan(d,h,r,n,u)),d="",o=c,this.direction==="rtl"?r-=p:r+=p,p=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight;let s,o=0,c=0,u=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let h=0;h<i.length;h++){const{left:f,width:d,kernedWidth:p}=this.__charBounds[e][h];s=this.getValueOfPropertyAt(e,h,"textBackgroundColor"),s!==u?(u&&t.push(...Dw(u,r+c,n,o,a)),c=f,o=d,u=s):o+=p}s&&t.push(...Dw(u,r+c,n,o,a))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(Zr(this.textDecorationThickness*this.getObjectScaling().y/10,xr.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:a,fontSize:s,fontStyle:o,fontWeight:c,deltaY:u,textDecorationThickness:h,linethrough:f,overline:d,underline:p}=t,x=this.getSvgTextDecoration({underline:p??this.underline,overline:d??this.overline,linethrough:f??this.linethrough}),m=h||this.textDecorationThickness;return[i?zm(Na,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",s?"font-size: ".concat(s,"px; "):"",o?"font-style: ".concat(o,"; "):"",c?"font-weight: ".concat(c,"; "):"",x?"text-decoration: ".concat(x,"; text-decoration-thickness: ").concat(Zr(m*this.getObjectScaling().y/10,xr.NUM_FRACTION_DIGITS),"%; "):"",a?zm(Kn,a):"",u?"baseline-shift: ".concat(-u,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),kt.setClass(Ji),kt.setSVGClass(Ji);class wQ{constructor(e){we(this,"target",void 0),we(this,"__mouseDownInPlace",!1),we(this,"__dragStartFired",!1),we(this,"__isDraggingOver",!1),we(this,"__dragStartSelection",void 0),we(this,"__dragImageDisposer",void 0),we(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:a}=r;const s=this.target,o=s.canvas,c=new Ye(s.flipX?-1:1,s.flipY?-1:1),u=s._getCursorBoundaries(i),h=new Ye(u.left+u.leftOffset,u.top+u.topOffset).multiply(c).transform(s.calcTransformMatrix()),f=o.getScenePoint(e).subtract(h),d=s.getCanvasRetinaScaling(),p=s.getBoundingRect(),x=h.subtract(new Ye(p.left,p.top)),m=o.viewportTransform,y=x.add(f).transform(m,!0),v=s.backgroundColor,b=F_(s.styles);s.backgroundColor="";const S={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};s.setSelectionStyles(S,0,i),s.setSelectionStyles(S,a,s.text.length),s.dirty=!0;const T=s.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});s.backgroundColor=v,s.styles=b,s.dirty=!0,r4(T,{position:"fixed",left:"".concat(-T.width,"px"),border:_a,width:"".concat(T.width/d,"px"),height:"".concat(T.height/d,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{T.remove()},Zs(e.target||this.target.hiddenTextarea).body.appendChild(T),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(T,y.x,y.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},a=r._text.slice(i.selectionStart,i.selectionEnd).join(""),s=Se({text:r.text,value:a},i);e.dataTransfer.setData("text/plain",a),e.dataTransfer.setData("application/fabric",JSON.stringify({value:a,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,s)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let a=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(a&&!i){const s=this.target,o=s.canvas;let c=s.getSelectionStartFromPointer(n);const{styles:u}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},h=a[Math.max(0,a.length-1)],f=0;if(this.__dragStartSelection){const d=this.__dragStartSelection.selectionStart,p=this.__dragStartSelection.selectionEnd;c>d&&c<=p?c=d:c>p&&(c-=p-d),s.removeChars(d,p),delete this.__dragStartSelection}s._reNewline.test(h)&&(s._reNewline.test(s._text[c])||c===s._text.length)&&(a=a.trimEnd()),e.didDrop=!0,e.dropTarget=s,s.insertChars(a,u,c),o.setActiveObject(s),s.enterEditing(n),s.selectionStart=Math.min(c+f,s._text.length),s.selectionEnd=Math.min(s.selectionStart+a.length,s._text.length),s.hiddenTextarea.value=s.text,s._updateTextarea(),s.hiddenTextarea.focus(),s.fire(r2,{index:c+f,action:"drop"}),o.fire("text:changed",{target:s}),o.contextTopDirty=!0,o.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,a=this.target.canvas,{selectionStart:s,selectionEnd:o}=this.__dragStartSelection,c=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||_a;c===_a?(i.selectionStart=s,i.selectionEnd=o,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),c==="move"&&(i.removeChars(s,o),i.selectionStart=i.selectionEnd=s,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(r2,{index:s,action:"dragend"}),a.fire("text:changed",{target:i}),a.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const tE=/[ \n\.,;!\?\-]/;class SQ extends Ji{constructor(){super(...arguments),we(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:a}=e;return HD({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:a,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:s=>{this._currentCursorOpacity=s,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(r=>{r&&!r.isDone()&&(e=!0,r.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!T_.test(n[e-1]))?e-1:e,a=n[i];for(;i>0&&i<n.length&&!tE.test(a);)i+=r,a=n[i];return r===-1&&tE.test(a)&&i++,i}selectWord(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.searchWordBoundary(e,-1),i=Math.max(n,this.searchWordBoundary(e,1));this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;Zs(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,a=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==a||i!==n&&a!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===a||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),a=this.graphemeSplit(i).length;if(e===r)return{selectionStart:a,selectionEnd:a};const s=n.slice(e,r);return{selectionStart:a,selectionEnd:a+this.graphemeSplit(s).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,a=n.charIndex,s=this.getValueOfPropertyAt(i,a,"fontSize")*this.lineHeight,o=r.leftOffset,c=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,h=u.width/c,f=u.height/c,d=h-s,p=f-s,x=new Ye(r.left+o,r.top+r.topOffset+s).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Ye(u.clientWidth/h,u.clientHeight/f));return x.x<0&&(x.x=0),x.x>d&&(x.x=d),x.y<0&&(x.y=0),x.y>p&&(x.y=p),x.x+=this.canvas._offset.left,x.y+=this.canvas._offset.top,{left:"".concat(x.x,"px"),top:"".concat(x.y,"px"),fontSize:"".concat(s,"px"),charHeight:s}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(n2),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:a,charIndex:s}=this.get2DCursorLocation(r,!0);if(n!==a){if(this.styles[n])for(let o=i;o<this._unwrappedTextLines[n].length;o++)delete this.styles[n][o];if(this.styles[a])for(let o=s;o<this._unwrappedTextLines[a].length;o++){const c=this.styles[a][o];c&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+o-s]=c)}for(let o=n+1;o<=a;o++)delete this.styles[o];this.shiftLineStyles(a,n-a)}else if(this.styles[n]){const o=this.styles[n],c=s-i;for(let u=i;u<s;u++)delete o[u];for(const u in this.styles[n]){const h=parseInt(u,10);h>=s&&(o[h-c]=o[u],delete o[u])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const a=parseInt(i,10);a>e&&(this.styles[a+r]=n[a],n[a-r]||delete this.styles[a])}}insertNewlineStyleObject(e,r,n,i){const a={},s=this._unwrappedTextLines[e].length,o=s===r;let c=!1;n||(n=1),this.shiftLineStyles(e,n);const u=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const f in this.styles[e]){const d=parseInt(f,10);d>=r&&(c=!0,a[d-r]=this.styles[e][f],o&&r===0||delete this.styles[e][f])}let h=!1;for(c&&!o&&(this.styles[e+n]=a,h=!0),(h||s>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:Se({},i[n-1])}:u?this.styles[e+n]={0:Se({},u)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const a=this.styles[e],s=a?Se({},a):{};n||(n=1);for(const c in s){const u=parseInt(c,10);u>=r&&(a[u+n]=s[u],s[u-n]||delete a[u])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=Se({},i[n]));return}if(!a)return;const o=a[r?r-1:1];for(;o&&n--;)this.styles[e][r+n]=Se({},o)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),a=[0];let s,o=0;for(let c=0;c<e.length;c++)e[c]===`
`?(o++,a[o]=0):a[o]++;for(a[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,a[0],n),n=n&&n.slice(a[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+a[0],o),s=1;s<o;s++)a[s]>0?this.insertCharStyleObject(i.lineIndex+s,0,a[s],n):n&&this.styles[i.lineIndex+s]&&n[0]&&(this.styles[i.lineIndex+s][0]=n[0]),n=n&&n.slice(a[s]+1);a[s]>0&&this.insertCharStyleObject(i.lineIndex+s,0,a[s],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const a=this.graphemeSplit(e);this.insertNewStyleBlock(a,n,r),this._text=[...this._text.slice(0,n),...a,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=Ar:this._selectionDirection===jn&&(this._selectionDirection=Ar,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===jn?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=jn:this._selectionDirection===Ar&&(this._selectionDirection=jn,this.selectionStart=r),this.selectionEnd=n)}}class _Q extends SQ{initHiddenTextarea(){const e=this.canvas&&Zs(this.canvas.getElement())||T0(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(s=>{let[o,c]=s;return r.setAttribute(o,c)});const{top:n,left:i,fontSize:a}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(a,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(s=>{let[o,c]=s;return r.addEventListener(o,this[c].bind(this))}),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste,{value:n,selectionStart:i,selectionEnd:a}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const s=()=>{this.updateFromTextArea(),this.fire(r2),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void s();const o=this._splitTextIntoLines(n).graphemeText,c=this._text.length,u=o.length,h=this.selectionStart,f=this.selectionEnd,d=h!==f;let p,x,m,y,v=u-c;const b=this.fromStringToGraphemeSelection(i,a,n),S=h>b.selectionStart;d?(x=this._text.slice(h,f),v+=f-h):u<c&&(x=S?this._text.slice(f+v,f):this._text.slice(h,h-v));const T=o.slice(b.selectionEnd-v,b.selectionEnd);if(x&&x.length&&(T.length&&(p=this.getSelectionStyles(h,h+1,!1),p=T.map(()=>p[0])),d?(m=h,y=f):S?(m=f-x.length,y=f):(m=f,y=f+x.length),this.removeStyleFromTo(m,y)),T.length){const{copyPasteData:E}=Qo();r&&T.join("")===E.copiedText&&!xr.disableStyleCopyPaste&&(p=E.copiedTextStyle),this.insertNewStyleBlock(T,h,p)}s()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Qo();e.copiedText=this.getSelectedText(),xr.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),a=i.lineIndex;if(a===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const s=i.charIndex,o=this._getWidthBeforeCursor(a,s),c=this._getIndexOnLine(a+1,o);return this._textLines[a].slice(s).length+c+1+this.missingNewlineOffset(a)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),a=i.lineIndex;if(a===0||e.metaKey||e.keyCode===33)return-n;const s=i.charIndex,o=this._getWidthBeforeCursor(a,s),c=this._getIndexOnLine(a-1,o),u=this._textLines[a].slice(0,s),h=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+c-u.length+(1-h)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,a,s=this._getLineLeftOffset(e),o=0;for(let c=0,u=n.length;c<u;c++)if(i=this.__charBounds[e][c].width,s+=i,s>r){a=!0;const h=s-i,f=s,d=Math.abs(h-r);o=Math.abs(f-r)<d?c:c-1;break}return a||(o=n.length-1),o}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===jn);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=a0(0,this.selectionStart,i),this.selectionEnd=a0(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===Ar?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=Ar,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===jn&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ar,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Ar&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=jn,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=jn,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}}const rE=t=>!!t.button;class NQ extends _Q{constructor(){super(...arguments),we(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new wQ(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:r,alreadySelected:n}=e;this.canvas&&this.editable&&!rE(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const a=this.canvas._activeObject;if(a&&a!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||rE(r)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(ro(this.calcTransformMatrix())).add(new Ye(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,a=0;for(let u=0;u<this._textLines.length&&n<=r.y;u++)n+=this.getHeightOfLine(u),a=u,u>0&&(i+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));let s=Math.abs(this._getLineLeftOffset(a));const o=this._textLines[a].length,c=this.__charBounds[a];for(let u=0;u<o;u++){const h=s+c[u].kernedWidth;if(r.x<=h){Math.abs(r.x-h)<=Math.abs(r.x-s)&&i++;break}s=h,i++}return Math.min(this.flipX?o-i:i,this._text.length)}}const Q1="moveCursorUp",J1="moveCursorDown",Z1="moveCursorLeft",ex="moveCursorRight",tx="exitEditing",nE=(t,e)=>{const r=e.getRetinaScaling();t.setTransform(r,0,0,r,0,0);const n=e.viewportTransform;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])},TQ=Se({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:tx,27:tx,33:Q1,34:J1,35:ex,36:Z1,37:Z1,38:Q1,39:ex,40:J1},keysMapRtl:{9:tx,27:tx,33:Q1,34:J1,35:Z1,36:ex,37:ex,38:Q1,39:Z1,40:J1},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Ho extends NQ{static getDefaults(){return Se(Se({},super.getDefaults()),Ho.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,Se(Se({},Ho.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof n4&&this.canvas.textEditingManager.remove(this),r instanceof n4&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),i=n.length>0;let a,s=e;if(i){a=Ls(e.canvas),s=a.getContext("2d"),nE(s,this.canvas);const o=this.calcTransformMatrix();s.transform(o[0],o[1],o[2],o[3],o[4],o[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(s,r):this.renderCursor(s,r),i)for(const o of n){const c=o.clipPath,u=Ls(e.canvas),h=u.getContext("2d");if(nE(h,this.canvas),!c.absolutePositioned){const f=o.calcTransformMatrix();h.transform(f[0],f[1],f[2],f[3],f[4],f[5])}c.transform(h),c.drawObject(h,!0,{}),this.drawClipPathOnCache(s,c,u)}i&&(e.setTransform(1,0,0,1,0,0),e.drawImage(a,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let r=this;for(;r;)r.clipPath&&e.push(r),r=r.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),a=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:a.left,topOffset:a.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:a}=this.get2DCursorLocation(e);for(let u=0;u<a;u++)r+=this.getHeightOfLine(u);const s=this._getLineLeftOffset(a),o=this.__charBounds[a][i];o&&(n=o.left),this.charSpacing!==0&&i===this._textLines[a].length&&(n-=this._getWidthOfCharSpacing());const c={top:r,left:s+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===jn||this.textAlign===Fo||this.textAlign===im?c.left*=-1:this.textAlign===Ar||this.textAlign===l2?c.left=s-(n>0?n:0):this.textAlign!==or&&this.textAlign!==am||(c.left=s-(n>0?n:0))),c}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),i=n.lineIndex,a=n.charIndex>0?n.charIndex-1:0,s=this.getValueOfPropertyAt(i,a,"fontSize"),o=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/o,u=this.getValueOfPropertyAt(i,a,"deltaY"),h=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-s*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,a,"fill"),opacity:this._currentCursorOpacity,left:r.left+r.leftOffset-c/2,top:h+r.top+u,width:c,height:s}}_renderCursor(e,r,n){const{color:i,opacity:a,left:s,top:o,width:c,height:u}=this.getCursorRenderingData(n,r);e.fillStyle=i,e.globalAlpha=a,e.fillRect(s,o,c,u)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,a=r.selectionEnd,s=this.textAlign.includes(Fo),o=this.get2DCursorLocation(i),c=this.get2DCursorLocation(a),u=o.lineIndex,h=c.lineIndex,f=o.charIndex<0?0:o.charIndex,d=c.charIndex<0?0:c.charIndex;for(let p=u;p<=h;p++){const x=this._getLineLeftOffset(p)||0;let m=this.getHeightOfLine(p),y=0,v=0,b=0;if(p===u&&(v=this.__charBounds[u][f].left),p>=u&&p<h)b=s&&!this.isEndOfWrapping(p)?this.width:this.getLineWidth(p)||5;else if(p===h)if(d===0)b=this.__charBounds[h][d].left;else{const j=this._getWidthOfCharSpacing();b=this.__charBounds[h][d-1].left+this.__charBounds[h][d-1].width-j}y=m,(this.lineHeight<1||p===h&&this.lineHeight>1)&&(m/=this.lineHeight);let S=n.left+x+v,T=m,E=0;const P=b-v;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",T=1,E=m):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===jn||this.textAlign===Fo||this.textAlign===im?S=this.width-S-P:this.textAlign===Ar||this.textAlign===l2?S=n.left+x-b:this.textAlign!==or&&this.textAlign!==am||(S=n.left+x-b)),e.fillRect(S,n.top+n.topOffset+E,P,T),n.topOffset+=y}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Kn)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}we(Ho,"ownDefaults",TQ),we(Ho,"type","IText"),kt.setClass(Ho),kt.setClass(Ho,"i-text");class Ju extends Ho{static getDefaults(){return Se(Se({},super.getDefaults()),Ju.ownDefaults)}constructor(e,r){super(e,Se(Se({},Ju.ownDefaults),r))}static createControls(){return{controls:rK()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Fo)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const a={};for(let s=0;s<e.graphemeLines.length;s++)e.graphemeText[i]===`
`&&s>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&s>0&&(n++,i++),a[s]={line:r,offset:n},i+=e.graphemeLines[s].length,n+=e.graphemeLines[s].length;return a}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,a=!1;const s=this._styleMap[e],o=this._styleMap[e+1];s&&(e=s.line,n=s.offset),o&&(i=o.line,a=i===e,r=o.offset);const c=e===void 0?this.styles:{line:this.styles[e]};for(const u in c)for(const h in c[u]){const f=parseInt(h,10);if(f>=n&&(!a||f<r))for(const d in c[u][h])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let a=0;a<n.wordsData.length;a++)i.push(...this._wrapLine(a,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map((a,s)=>{let o=0;const c=r?this.graphemeSplit(a):this.wordSplit(a);return c.length===0?[{word:[],width:0}]:c.map(u=>{const h=r?[u]:this.graphemeSplit(u),f=this._measureWord(h,s,o);return i=Math.max(f,i),o+=h.length+n.length,{word:h,width:f}})}),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=0;for(let s=0,o=e.length;s<o;s++)a+=this._getGraphemeBox(e[s],r,s+i,n,!0).kernedWidth,n=e[s];return a}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:a}=n,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const o=this._getWidthOfCharSpacing(),c=this.splitByGrapheme,u=[],h=c?"":" ";let f=0,d=[],p=0,x=0,m=!0;r-=s;const y=Math.max(r,i,this.dynamicMinWidth),v=a[e];let b;for(p=0,b=0;b<v.length;b++){const{word:S,width:T}=v[b];p+=S.length,f+=x+T-o,f>y&&!m?(u.push(d),d=[],f=T,m=!0):f+=o,m||c||d.push(h),d=d.concat(S),x=c?0:this._measureWord([h],e,p),p++,m=!1}return b&&u.push(d),i+s>this.dynamicMinWidth&&(this.dynamicMinWidth=i-o+s),u}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let a=0;a<n.length;a++)i[a]=n[a].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}we(Ju,"type","Textbox"),we(Ju,"textLayoutProperties",[...Ho.textLayoutProperties,"width"]),we(Ju,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),kt.setClass(Ju);class iE extends ky{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:a}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:s,height:o}=Ml(KD(n,i)),c=new Ye(s,o);if(i.absolutePositioned)return{center:gd(i.getRelativeCenterPoint(),void 0,a?a.calcTransformMatrix():void 0),size:c};{const u=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:h=new Ye,correction:f=new Ye}=this.calcBoundingBox(r,e)||{};return{center:h.add(u),correction:f.subtract(u),size:c}}return{center:n.getRelativeCenterPoint().add(u),size:c}}}}we(iE,"type","clip-path"),kt.setClass(iE);class aE extends ky{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new Ye(n.width||i.x,n.height||i.y)}}we(aE,"type","fixed"),kt.setClass(aE);class CQ extends Hm{subscribeTargets(e){const r=e.target;e.targets.reduce((n,i)=>(i.parent&&n.add(i.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})})}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce((i,a)=>(a.parent&&i.add(a.parent),i),new Set).forEach(i=>{!n.some(a=>a.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})})}}class Zu extends vh{static getDefaults(){return Se(Se({},super.getDefaults()),Zu.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Zu.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:a}=r;this.groupInit(e,{left:n,top:i,layoutManager:a??new CQ})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach(i=>{const a=this._objects.findIndex(o=>o.isInFrontOf(i)),s=a===-1?this.size():a;this.insertAt(s,i)})}canEnterGroup(e){return this.getObjects().some(r=>r.isDescendantOf(e)||e.isDescendantOf(r))?(xu("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach(i=>{const{parent:a}=i;a&&n.add(a)}),e===U_?n.forEach(i=>{i._onAfterObjectsChange(c2,r)}):n.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=Se(Se({hasControls:!1},n),{},{forActiveSelection:!0});for(let a=0;a<this._objects.length;a++)this._objects[a]._renderControls(e,i);super._renderControls(e,r),e.restore()}}we(Zu,"type","ActiveSelection"),we(Zu,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),kt.setClass(Zu),kt.setClass(Zu,"activeSelection");class AQ{constructor(){we(this,"resources",{})}applyFilters(e,r,n,i,a){const s=a.getContext("2d");if(!s)return;s.drawImage(r,0,0,n,i);const o={sourceWidth:n,sourceHeight:i,imageData:s.getImageData(0,0,n,i),originalEl:r,originalImageData:s.getImageData(0,0,n,i),canvasEl:a,ctx:s,filterBackend:this};e.forEach(u=>{u.applyTo(o)});const{imageData:c}=o;return c.width===n&&c.height===i||(a.width=c.width,a.height=c.height),s.putImageData(c,0,0),o}}class fP{constructor(){let{tileSize:e=xr.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};we(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),we(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=Ls({width:e,height:r}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,a,s){const o=this.gl,c=a.getContext("2d");if(!o||!c)return;let u;s&&(u=this.getCachedTexture(s,r));const h={originalWidth:r.width||r.naturalWidth||0,originalHeight:r.height||r.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:o,sourceTexture:this.createTexture(o,n,i,u?void 0:r),targetTexture:this.createTexture(o,n,i),originalTexture:u||this.createTexture(o,n,i,u?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},f=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,f),e.forEach(d=>{d&&d.applyTo(h)}),function(d){const p=d.targetCanvas,x=p.width,m=p.height,y=d.destinationWidth,v=d.destinationHeight;x===y&&m===v||(p.width=y,p.height=v)}(h),this.copyGLTo2D(o,h),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(h.sourceTexture),o.deleteTexture(h.targetTexture),o.deleteFramebuffer(f),c.setTransform(1,0,0,1,0,0),h}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,a){const{NEAREST:s,TEXTURE_2D:o,RGBA:c,UNSIGNED_BYTE:u,CLAMP_TO_EDGE:h,TEXTURE_MAG_FILTER:f,TEXTURE_MIN_FILTER:d,TEXTURE_WRAP_S:p,TEXTURE_WRAP_T:x}=e,m=e.createTexture();return e.bindTexture(o,m),e.texParameteri(o,f,a||s),e.texParameteri(o,d,a||s),e.texParameteri(o,p,h),e.texParameteri(o,x,h),i?e.texImage2D(o,0,c,c,u,i):e.texImage2D(o,0,c,r,n,0,c,u,null),m}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const a=this.createTexture(this.gl,r.width,r.height,r,n);return a&&(i[e]=a),a}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,a=i.getContext("2d");if(!a)return;a.translate(0,i.height),a.scale(1,-1);const s=n.height-i.height;a.drawImage(n,0,s,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,a=r.destinationHeight,s=i*a*4;if(!n)return;const o=new Uint8Array(this.imageBuffer,0,s),c=new Uint8ClampedArray(this.imageBuffer,0,s);e.readPixels(0,0,i,a,e.RGBA,e.UNSIGNED_BYTE,o);const u=new ImageData(c,i,a);n.putImageData(u,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),a=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),a&&(r.vendor=a.toLowerCase())}return this.gpuInfo=r,r}}let Rw;function EQ(){const{WebGLProbe:t}=Qo();return t.queryWebGL($l()),xr.enableGLFiltering&&t.isSupported(xr.textureSize)?new fP({tileSize:xr.textureSize}):new AQ}function Mw(){return!Rw&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Rw=EQ()),Rw}const jQ=["filters","resizeFilter","src","crossOrigin","type"],dP=["cropX","cropY"];class Va extends Hi{static getDefaults(){return Se(Se({},super.getDefaults()),Va.ownDefaults)}constructor(e,r){super(),we(this,"_lastScaleX",1),we(this,"_lastScaleY",1),we(this,"_filterScalingX",1),we(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Va.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(vu()),this.setElement(typeof e=="string"?(this.canvas&&Zs(this.canvas.getElement())||T0()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(r=e.classList)===null||r===void 0||r.add(Va.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=Mw(!1);r instanceof fP&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const r=this[e];r&&Qo().dispose(r),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach(n=>{n&&r.push(n.toObject())}),Se(Se({},super.toObject([...dP,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let a=[],s=[],o="",c="";if(!r)return[];if(this.hasCrop()){const u=vu();a.push('<clipPath id="imageCrop_'+u+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),o=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(c=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(c).concat(o,`></image>
`)),this.stroke||this.strokeDashArray){const u=this.fill;this.fill=null,s=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=u}return a=this.paintFirst!==Kn?a.concat(s,e):a.concat(e,s),a}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return av(e,{crossOrigin:r,signal:n}).then(i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,a=n.y,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&a>r)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=a);const o=Ls(s),{width:c,height:u}=s;this._element=o,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=a,Mw().applyFilters([e],s,c,u,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(a=>a&&!a.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const a=Ls({width:n,height:i});this._element=a,this._filteredEl=a}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);Mw().applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,a=this.width,s=this.height,o=Math.max(this.cropX,0),c=Math.max(this.cropY,0),u=r.naturalWidth||r.width,h=r.naturalHeight||r.height,f=o*n,d=c*i,p=Math.min(a*n,u-f),x=Math.min(s*i,h-d),m=-a/2,y=-s/2,v=Math.min(a,u/n-o),b=Math.min(s,h/i-c);r&&e.drawImage(r,f,d,p,x,m,y,v,b)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=b$(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let a,s=this._element.width,o=this._element.height,c=1,u=1,h=0,f=0,d=0,p=0;return!e||e.alignX===_a&&e.alignY===_a?(c=r/s,u=n/o):(e.meetOrSlice==="meet"&&(c=u=MK(this._element,i),a=(r-s*c)/2,e.alignX==="Min"&&(h=-a),e.alignX==="Max"&&(h=a),a=(n-o*u)/2,e.alignY==="Min"&&(f=-a),e.alignY==="Max"&&(f=a)),e.meetOrSlice==="slice"&&(c=u=FK(this._element,i),a=s-r/c,e.alignX==="Mid"&&(d=a/2),e.alignX==="Max"&&(d=a),a=o-n/u,e.alignY==="Mid"&&(p=a/2),e.alignY==="Max"&&(p=a),s=r/c,o=n/u)),{width:s,height:o,scaleX:c,scaleY:u,offsetLeft:h,offsetTop:f,cropX:d,cropY:p}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:a,crossOrigin:s,type:o}=e,c=un(e,jQ);return Promise.all([av(a,Se(Se({},r),{},{crossOrigin:s})),n&&Im(n,r),i&&Im([i],r),Cy(c,r)]).then(u=>{let[h,f=[],[d]=[],p={}]=u;return new this(h,Se(Se({},c),{},{src:a,filters:f,resizeFilter:d},p))})}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return av(e,{crossOrigin:r,signal:n}).then(a=>new this(a,i))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=nc(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"]||i.href,r,i).catch(a=>(xu("log","Unable to parse Image",a),null))}}we(Va,"type","Image"),we(Va,"cacheProperties",[...rc,...dP]),we(Va,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),we(Va,"CSS_CANVAS","canvas-img"),we(Va,"ATTRIBUTE_NAMES",[...Au,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),kt.setClass(Va),kt.setSVGClass(Va);Ey(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Ly=t=>t.webgl!==void 0,H_="precision highp float",kQ=`
    `.concat(H_,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),OQ=["type"],LQ=["type"],DQ=new RegExp(H_,"g");class Jn{get type(){return this.constructor.type}constructor(){let e=un(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},OQ);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return kQ}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=Qo();i!=="highp"&&(r=r.replace(DQ,H_.replace("highp",i)));const a=e.createShader(e.VERTEX_SHADER),s=e.createShader(e.FRAGMENT_SHADER),o=e.createProgram();if(!a||!s||!o)throw new Uo("Vertex, fragment shader or program creation error");if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new Uo("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.shaderSource(s,r),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new Uo("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.attachShader(o,a),e.attachShader(o,s),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new Uo('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(o)));const c=this.getUniformLocations(e,o)||{};return c.uStepW=e.getUniformLocation(o,"uStepW"),c.uStepH=e.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:this.getAttributeLocations(e,o),uniformLocations:c}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let a=0;a<n.length;a++)i[n[a]]=e.getUniformLocation(r,n[a]);return i}sendAttributeData(e,r,n){const i=r.aPosition,a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){Ly(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:r,sourceHeight:n}=e,i=Ls({width:r,height:n});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return Se({type:this.type},e.reduce((r,n)=>(r[n]=this[n],r),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(un(e,LQ))}}we(Jn,"type","BaseFilter"),we(Jn,"uniformLocations",[]);const PQ={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class rx extends Jn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(PQ[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new ss(this.color).getSource(),i=this.alpha,a=n[0]*i,s=n[1]*i,o=n[2]*i,c=1-i;for(let u=0;u<r.length;u+=4){const h=r[u],f=r[u+1],d=r[u+2];let p,x,m;switch(this.mode){case"multiply":p=h*a/255,x=f*s/255,m=d*o/255;break;case"screen":p=255-(255-h)*(255-a)/255,x=255-(255-f)*(255-s)/255,m=255-(255-d)*(255-o)/255;break;case"add":p=h+a,x=f+s,m=d+o;break;case"difference":p=Math.abs(h-a),x=Math.abs(f-s),m=Math.abs(d-o);break;case"subtract":p=h-a,x=f-s,m=d-o;break;case"darken":p=Math.min(h,a),x=Math.min(f,s),m=Math.min(d,o);break;case"lighten":p=Math.max(h,a),x=Math.max(f,s),m=Math.max(d,o);break;case"overlay":p=a<128?2*h*a/255:255-2*(255-h)*(255-a)/255,x=s<128?2*f*s/255:255-2*(255-f)*(255-s)/255,m=o<128?2*d*o/255:255-2*(255-d)*(255-o)/255;break;case"exclusion":p=a+h-2*a*h/255,x=s+f-2*s*f/255,m=o+d-2*o*d/255;break;case"tint":p=a+h*c,x=s+f*c,m=o+d*c}r[u]=p,r[u+1]=x,r[u+2]=m}}sendUniformData(e,r){const n=new ss(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}}we(rx,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),we(rx,"type","BlendColor"),we(rx,"uniformLocations",["uColor"]),kt.setClass(rx);const RQ={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},MQ=["type","image"];class nx extends Jn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return RQ[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:a}}=e;const s=this.image;a.blendImage||(a.blendImage=$l());const o=a.blendImage,c=o.getContext("2d");o.width!==n||o.height!==i?(o.width=n,o.height=i):c.clearRect(0,0,n,i),c.setTransform(s.scaleX,0,0,s.scaleY,s.left,s.top),c.drawImage(s.getElement(),0,0,n,i);const u=c.getImageData(0,0,n,i).data;for(let h=0;h<r.length;h+=4){const f=r[h],d=r[h+1],p=r[h+2],x=r[h+3],m=u[h],y=u[h+1],v=u[h+2],b=u[h+3];switch(this.mode){case"multiply":r[h]=f*m/255,r[h+1]=d*y/255,r[h+2]=p*v/255,r[h+3]=x*b/255;break;case"mask":r[h+3]=b}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return Se(Se({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,a=un(e,MQ);return Va.fromObject(i,r).then(s=>new this(Se(Se({},a),{},{image:s})))}}we(nx,"type","BlendImage"),we(nx,"defaults",{mode:"multiply",alpha:1}),we(nx,"uniformLocations",["uTransformMatrix","uImage"]),kt.setClass(nx);class ix extends Jn{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){Ly(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;this.aspectRatio=n/i,this.horizontal=!0;let a=this.getBlurValue()*n;const s=new Uint8ClampedArray(r),o=15,c=4*n;for(let u=0;u<r.length;u+=4){let h=0,f=0,d=0,p=0,x=0;const m=u-u%c,y=m+c;for(let v=-14;v<o;v++){const b=v/o,S=4*Math.floor(a*b),T=1-Math.abs(b);let E=u+S;E<m?E=m:E>y&&(E=y);const P=r[E+3]*T;h+=r[E]*P,f+=r[E+1]*P,d+=r[E+2]*P,p+=P,x+=T}s[u]=h/p,s[u+1]=f/p,s[u+2]=d/p,s[u+3]=p/x}this.horizontal=!1,a=this.getBlurValue()*i;for(let u=0;u<s.length;u+=4){let h=0,f=0,d=0,p=0,x=0;const m=u%c,y=s.length-c+m;for(let v=-14;v<o;v++){const b=v/o,S=Math.floor(a*b)*c,T=1-Math.abs(b);let E=u+S;E<m?E=m:E>y&&(E=y);const P=s[E+3]*T;h+=s[E]*P,f+=s[E+1]*P,d+=s[E+2]*P,p+=P,x+=T}r[u]=h/p,r[u+1]=f/p,r[u+2]=d/p,r[u+3]=p/x}}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:r,aspectRatio:n}=this;return r?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}we(ix,"type","Blur"),we(ix,"defaults",{blur:0}),we(ix,"uniformLocations",["uDelta"]),kt.setClass(ix);class ax extends Jn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]+=n,r[i+1]+=n,r[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}}we(ax,"type","Brightness"),we(ax,"defaults",{brightness:0}),we(ax,"uniformLocations",["uBrightness"]),kt.setClass(ax);const pP={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class rd extends Jn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let a=0;a<r.length;a+=4){const s=r[a],o=r[a+1],c=r[a+2];if(r[a]=s*n[0]+o*n[1]+c*n[2]+255*n[4],r[a+1]=s*n[5]+o*n[6]+c*n[7]+255*n[9],r[a+2]=s*n[10]+o*n[11]+c*n[12]+255*n[14],!i){const u=r[a+3];r[a]+=u*n[3],r[a+1]+=u*n[8],r[a+2]+=u*n[13],r[a+3]=s*n[15]+o*n[16]+c*n[17]+u*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],a=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,a)}toObject(){return Se(Se({},super.toObject()),{},{matrix:[...this.matrix]})}}function Uh(t,e){var r;const n=(we(r=class extends rd{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),we(r,"defaults",{colorsOnly:!1,matrix:e}),r);return kt.setClass(n,t),n}we(rd,"type","ColorMatrix"),we(rd,"defaults",pP),we(rd,"uniformLocations",["uColorMatrix","uConstants"]),kt.setClass(rd);Uh("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Uh("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Uh("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Uh("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Uh("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Uh("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Uh("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class sE extends Jn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Ly(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(r=>{r.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,r){return Promise.all((e.subFilters||[]).map(n=>kt.getClass(n.type).fromObject(n,r))).then(n=>new this({subFilters:n}))}}we(sE,"type","Composed"),kt.setClass(sE);class sx extends Jn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let a=0;a<r.length;a+=4)r[a]=i*(r[a]-128)+128,r[a+1]=i*(r[a+1]-128)+128,r[a+2]=i*(r[a+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}}we(sx,"type","Contrast"),we(sx,"defaults",{contrast:0}),we(sx,"uniformLocations",["uContrast"]),kt.setClass(sx);const FQ={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class ox extends Jn{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return FQ[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,a=Math.round(Math.sqrt(i.length)),s=Math.floor(a/2),o=r.width,c=r.height,u=e.ctx.createImageData(o,c),h=u.data,f=this.opaque?1:0;let d,p,x,m,y,v,b,S,T,E,P,j,L;for(P=0;P<c;P++)for(E=0;E<o;E++){for(y=4*(P*o+E),d=0,p=0,x=0,m=0,L=0;L<a;L++)for(j=0;j<a;j++)b=P+L-s,v=E+j-s,b<0||b>=c||v<0||v>=o||(S=4*(b*o+v),T=i[L*a+j],d+=n[S]*T,p+=n[S+1]*T,x+=n[S+2]*T,f||(m+=n[S+3]*T));h[y]=d,h[y+1]=p,h[y+2]=x,h[y+3]=f?n[y+3]:m}e.imageData=u}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return Se(Se({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}we(ox,"type","Convolute"),we(ox,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),we(ox,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),kt.setClass(ox);const mP="Gamma";class lx extends Jn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],a=1/n[1],s=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const o=this.rgbValues;for(let c=0;c<256;c++)o.r[c]=255*Math.pow(c/255,i),o.g[c]=255*Math.pow(c/255,a),o.b[c]=255*Math.pow(c/255,s);for(let c=0;c<r.length;c+=4)r[c]=o.r[r[c]],r[c+1]=o.g[r[c+1]],r[c+2]=o.b[r[c+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:mP,gamma:this.gamma.concat()}}}we(lx,"type",mP),we(lx,"defaults",{gamma:[1,1,1]}),we(lx,"uniformLocations",["uGamma"]),kt.setClass(lx);const IQ={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class cx extends Jn{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){const a=r[i],s=r[i+1],o=r[i+2];switch(this.mode){case"average":n=(a+s+o)/3;break;case"lightness":n=(Math.min(a,s,o)+Math.max(a,s,o))/2;break;case"luminosity":n=.21*a+.72*s+.07*o}r[i+2]=r[i+1]=r[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return IQ[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}}we(cx,"type","Grayscale"),we(cx,"defaults",{mode:"average"}),we(cx,"uniformLocations",["uMode"]),kt.setClass(cx);const BQ=Se(Se({},pP),{},{rotation:0});class Fw extends rd{calculateMatrix(){const e=this.rotation*Math.PI,r=Yl(e),n=Xl(e),i=1/3,a=Math.sqrt(i)*n,s=1-r;this.matrix=[r+s/3,i*s-a,i*s+a,0,0,i*s+a,r+i*s,i*s-a,0,0,i*s-a,i*s+a,r+i*s,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}we(Fw,"type","HueRotation"),we(Fw,"defaults",BQ),kt.setClass(Fw);class ux extends Jn{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}we(ux,"type","Invert"),we(ux,"defaults",{alpha:!1,invert:!0}),we(ux,"uniformLocations",["uInvert","uAlpha"]),kt.setClass(ux);class hx extends Jn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const a=(.5-Math.random())*n;r[i]+=a,r[i+1]+=a,r[i+2]+=a}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}}we(hx,"type","Noise"),we(hx,"defaults",{noise:0}),we(hx,"uniformLocations",["uNoise","uSeed"]),kt.setClass(hx);class fx extends Jn{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let a=0;a<i;a+=this.blocksize)for(let s=0;s<n;s+=this.blocksize){const o=4*a*n+4*s,c=r[o],u=r[o+1],h=r[o+2],f=r[o+3];for(let d=a;d<Math.min(a+this.blocksize,i);d++)for(let p=s;p<Math.min(s+this.blocksize,n);p++){const x=4*d*n+4*p;r[x]=c,r[x+1]=u,r[x+2]=h,r[x+3]=f}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}}we(fx,"type","Pixelate"),we(fx,"defaults",{blocksize:4}),we(fx,"uniformLocations",["uBlocksize"]),kt.setClass(fx);class dx extends Jn{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new ss(this.color).getSource(),a=[i[0]-n,i[1]-n,i[2]-n],s=[i[0]+n,i[1]+n,i[2]+n];for(let o=0;o<r.length;o+=4){const c=r[o],u=r[o+1],h=r[o+2];c>a[0]&&u>a[1]&&h>a[2]&&c<s[0]&&u<s[1]&&h<s[2]&&(r[o+3]=0)}}sendUniformData(e,r){const n=new ss(this.color).getSource(),i=this.distance,a=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],s=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,a),e.uniform4fv(r.uHigh,s)}}we(dx,"type","RemoveColor"),we(dx,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),we(dx,"uniformLocations",["uLow","uHigh"]),kt.setClass(dx);class px extends Jn{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let a=1;a<=n;a++)i[a-1]=e(a*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Ly(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const a=r.width,s=r.height,o=Math.round(a*n),c=Math.round(s*i);let u;u=this.resizeType==="sliceHack"?this.sliceByTwo(e,a,s,o,c):this.resizeType==="hermite"?this.hermiteFastResize(e,a,s,o,c):this.resizeType==="bilinear"?this.bilinearFiltering(e,a,s,o,c):this.resizeType==="lanczos"?this.lanczosResize(e,a,s,o,c):new ImageData(o,c),e.imageData=u}sliceByTwo(e,r,n,i,a){const s=e.imageData,o=.5;let c=!1,u=!1,h=r*o,f=n*o;const d=e.filterBackend.resources;let p=0,x=0;const m=r;let y=0;d.sliceByTwo||(d.sliceByTwo=$l());const v=d.sliceByTwo;(v.width<1.5*r||v.height<n)&&(v.width=1.5*r,v.height=n);const b=v.getContext("2d");for(b.clearRect(0,0,1.5*r,n),b.putImageData(s,0,0),i=Math.floor(i),a=Math.floor(a);!c||!u;)r=h,n=f,i<Math.floor(h*o)?h=Math.floor(h*o):(h=i,c=!0),a<Math.floor(f*o)?f=Math.floor(f*o):(f=a,u=!0),b.drawImage(v,p,x,r,n,m,y,h,f),p=m,x=y,y+=f;return b.getImageData(p,x,i,a)}lanczosResize(e,r,n,i,a){const s=e.imageData.data,o=e.ctx.createImageData(i,a),c=o.data,u=this.lanczosCreate(this.lanczosLobes),h=this.rcpScaleX,f=this.rcpScaleY,d=2/this.rcpScaleX,p=2/this.rcpScaleY,x=Math.ceil(h*this.lanczosLobes/2),m=Math.ceil(f*this.lanczosLobes/2),y={},v={x:0,y:0},b={x:0,y:0};return function S(T){let E,P,j,L,F,W,D,O,q,I,ae;for(v.x=(T+.5)*h,b.x=Math.floor(v.x),E=0;E<a;E++){for(v.y=(E+.5)*f,b.y=Math.floor(v.y),F=0,W=0,D=0,O=0,q=0,P=b.x-x;P<=b.x+x;P++)if(!(P<0||P>=r)){I=Math.floor(1e3*Math.abs(P-v.x)),y[I]||(y[I]={});for(let X=b.y-m;X<=b.y+m;X++)X<0||X>=n||(ae=Math.floor(1e3*Math.abs(X-v.y)),y[I][ae]||(y[I][ae]=u(Math.sqrt(Math.pow(I*d,2)+Math.pow(ae*p,2))/1e3)),j=y[I][ae],j>0&&(L=4*(X*r+P),F+=j,W+=j*s[L],D+=j*s[L+1],O+=j*s[L+2],q+=j*s[L+3]))}L=4*(E*i+T),c[L]=W/F,c[L+1]=D/F,c[L+2]=O/F,c[L+3]=q/F}return++T<i?S(T):o}(0)}bilinearFiltering(e,r,n,i,a){let s,o,c,u,h,f,d,p,x,m,y,v,b,S=0;const T=this.rcpScaleX,E=this.rcpScaleY,P=4*(r-1),j=e.imageData.data,L=e.ctx.createImageData(i,a),F=L.data;for(d=0;d<a;d++)for(p=0;p<i;p++)for(h=Math.floor(T*p),f=Math.floor(E*d),x=T*p-h,m=E*d-f,b=4*(f*r+h),y=0;y<4;y++)s=j[b+y],o=j[b+4+y],c=j[b+P+y],u=j[b+P+4+y],v=s*(1-x)*(1-m)+o*x*(1-m)+c*m*(1-x)+u*x*m,F[S++]=v;return L}hermiteFastResize(e,r,n,i,a){const s=this.rcpScaleX,o=this.rcpScaleY,c=Math.ceil(s/2),u=Math.ceil(o/2),h=e.imageData.data,f=e.ctx.createImageData(i,a),d=f.data;for(let p=0;p<a;p++)for(let x=0;x<i;x++){const m=4*(x+p*i);let y=0,v=0,b=0,S=0,T=0,E=0,P=0;const j=(p+.5)*o;for(let L=Math.floor(p*o);L<(p+1)*o;L++){const F=Math.abs(j-(L+.5))/u,W=(x+.5)*s,D=F*F;for(let O=Math.floor(x*s);O<(x+1)*s;O++){let q=Math.abs(W-(O+.5))/c;const I=Math.sqrt(D+q*q);I>1&&I<-1||(y=2*I*I*I-3*I*I+1,y>0&&(q=4*(O+L*r),P+=y*h[q+3],b+=y,h[q+3]<255&&(y=y*h[q+3]/250),S+=y*h[q],T+=y*h[q+1],E+=y*h[q+2],v+=y))}}d[m]=S/v,d[m+1]=T/v,d[m+2]=E/v,d[m+3]=P/b}return f}}we(px,"type","Resize"),we(px,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),we(px,"uniformLocations",["uDelta","uTaps"]),kt.setClass(px);class mx extends Jn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const a=r[i],s=r[i+1],o=r[i+2],c=Math.max(a,s,o);r[i]+=c!==a?(c-a)*n:0,r[i+1]+=c!==s?(c-s)*n:0,r[i+2]+=c!==o?(c-o)*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}we(mx,"type","Saturation"),we(mx,"defaults",{saturation:0}),we(mx,"uniformLocations",["uSaturation"]),kt.setClass(mx);class gx extends Jn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const a=r[i],s=r[i+1],o=r[i+2],c=Math.max(a,s,o),u=(a+s+o)/3,h=2*Math.abs(c-u)/255*n;r[i]+=c!==a?(c-a)*h:0,r[i+1]+=c!==s?(c-s)*h:0,r[i+2]+=c!==o?(c-o)*h:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}we(gx,"type","Vibrance"),we(gx,"defaults",{vibrance:0}),we(gx,"uniformLocations",["uVibrance"]),kt.setClass(gx);const zQ="modulepreload",UQ=function(t,e){return new URL(t,e).href},oE={},a4=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=UQ(u,n),u in oE)return;oE[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!n)for(let x=s.length-1;x>=0;x--){const m=s[x];if(m.href===u&&(!h||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":zQ,h||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),h)return new Promise((x,m)=>{p.addEventListener("load",x),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Rr(t){"@babel/helpers - typeof";return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(t)}var Bi=Uint8Array,Ja=Uint16Array,q_=Int32Array,Dy=new Bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Py=new Bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s4=new Bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gP=function(t,e){for(var r=new Ja(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new q_(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},xP=gP(Dy,2),vP=xP.b,o4=xP.r;vP[28]=258,o4[258]=28;var yP=gP(Py,0),HQ=yP.b,lE=yP.r,l4=new Ja(32768);for(var rn=0;rn<32768;++rn){var Tc=(rn&43690)>>1|(rn&21845)<<1;Tc=(Tc&52428)>>2|(Tc&13107)<<2,Tc=(Tc&61680)>>4|(Tc&3855)<<4,l4[rn]=((Tc&65280)>>8|(Tc&255)<<8)>>1}var Xo=function(t,e,r){for(var n=t.length,i=0,a=new Ja(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Ja(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Ja(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],f=s[t[i]-1]++<<h,d=f|(1<<h)-1;f<=d;++f)o[l4[f]>>c]=u}else for(o=new Ja(n),i=0;i<n;++i)t[i]&&(o[i]=l4[s[t[i]-1]++]>>15-t[i]);return o},yu=new Bi(288);for(var rn=0;rn<144;++rn)yu[rn]=8;for(var rn=144;rn<256;++rn)yu[rn]=9;for(var rn=256;rn<280;++rn)yu[rn]=7;for(var rn=280;rn<288;++rn)yu[rn]=8;var qm=new Bi(32);for(var rn=0;rn<32;++rn)qm[rn]=5;var qQ=Xo(yu,9,0),VQ=Xo(yu,9,1),WQ=Xo(qm,5,0),GQ=Xo(qm,5,1),Iw=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Hs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Bw=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},V_=function(t){return(t+7)/8|0},bP=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Bi(t.subarray(e,r))},YQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ys=function(t,e,r){var n=new Error(e||YQ[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ys),!r)throw n;return n},XQ=function(t,e,r,n){var i=t.length,a=0;if(!i||e.f&&!e.l)return r||new Bi(0);var s=!r,o=s||e.i!=2,c=e.i;s&&(r=new Bi(i*3));var u=function(He){var Qe=r.length;if(He>Qe){var et=new Bi(Math.max(Qe*2,He));et.set(r),r=et}},h=e.f||0,f=e.p||0,d=e.b||0,p=e.l,x=e.d,m=e.m,y=e.n,v=i*8;do{if(!p){h=Hs(t,f,1);var b=Hs(t,f+1,3);if(f+=3,b)if(b==1)p=VQ,x=GQ,m=9,y=5;else if(b==2){var P=Hs(t,f,31)+257,j=Hs(t,f+10,15)+4,L=P+Hs(t,f+5,31)+1;f+=14;for(var F=new Bi(L),W=new Bi(19),D=0;D<j;++D)W[s4[D]]=Hs(t,f+D*3,7);f+=j*3;for(var O=Iw(W),q=(1<<O)-1,I=Xo(W,O,1),D=0;D<L;){var ae=I[Hs(t,f,q)];f+=ae&15;var S=ae>>4;if(S<16)F[D++]=S;else{var X=0,le=0;for(S==16?(le=3+Hs(t,f,3),f+=2,X=F[D-1]):S==17?(le=3+Hs(t,f,7),f+=3):S==18&&(le=11+Hs(t,f,127),f+=7);le--;)F[D++]=X}}var re=F.subarray(0,P),ue=F.subarray(P);m=Iw(re),y=Iw(ue),p=Xo(re,m,1),x=Xo(ue,y,1)}else Ys(1);else{var S=V_(f)+4,T=t[S-4]|t[S-3]<<8,E=S+T;if(E>i){c&&Ys(0);break}o&&u(d+T),r.set(t.subarray(S,E),d),e.b=d+=T,e.p=f=E*8,e.f=h;continue}if(f>v){c&&Ys(0);break}}o&&u(d+131072);for(var ge=(1<<m)-1,Ge=(1<<y)-1,A=f;;A=f){var X=p[Bw(t,f)&ge],M=X>>4;if(f+=X&15,f>v){c&&Ys(0);break}if(X||Ys(2),M<256)r[d++]=M;else if(M==256){A=f,p=null;break}else{var R=M-254;if(M>264){var D=M-257,B=Dy[D];R=Hs(t,f,(1<<B)-1)+vP[D],f+=B}var Q=x[Bw(t,f)&Ge],fe=Q>>4;Q||Ys(3),f+=Q&15;var ue=HQ[fe];if(fe>3){var B=Py[fe];ue+=Bw(t,f)&(1<<B)-1,f+=B}if(f>v){c&&Ys(0);break}o&&u(d+131072);var he=d+R;if(d<ue){var pe=a-ue,Te=Math.min(ue,he);for(pe+d<0&&Ys(3);d<Te;++d)r[d]=n[pe+d]}for(;d<he;++d)r[d]=r[d-ue]}}e.l=p,e.p=A,e.b=d,e.f=h,p&&(h=1,e.m=m,e.d=x,e.n=y)}while(!h);return d!=r.length&&s?bP(r,0,d):r.subarray(0,d)},yl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},jp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},zw=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:SP,l:0};if(i==1){var s=new Bi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(E,P){return E.f-P.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,h=1,f=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=r[r[u].f<r[f].f?u++:f++],c=r[u!=h&&r[u].f<r[f].f?u++:f++],r[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var d=a[0].s,n=1;n<i;++n)a[n].s>d&&(d=a[n].s);var p=new Ja(d+1),x=c4(r[h-1],p,0);if(x>e){var n=0,m=0,y=x-e,v=1<<y;for(a.sort(function(P,j){return p[j.s]-p[P.s]||P.f-j.f});n<i;++n){var b=a[n].s;if(p[b]>e)m+=v-(1<<x-p[b]),p[b]=e;else break}for(m>>=y;m>0;){var S=a[n].s;p[S]<e?m-=1<<e-p[S]++-1:++n}for(;n>=0&&m;--n){var T=a[n].s;p[T]==e&&(--p[T],++m)}x=e}return{t:new Bi(p),l:x}},c4=function(t,e,r){return t.s==-1?Math.max(c4(t.l,e,r+1),c4(t.r,e,r+1)):e[t.s]=r},cE=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ja(++e),n=0,i=t[0],a=1,s=function(c){r[n++]=c},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},kp=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},wP=function(t,e,r){var n=r.length,i=V_(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},uE=function(t,e,r,n,i,a,s,o,c,u,h){yl(e,h++,r),++i[256];for(var f=zw(i,15),d=f.t,p=f.l,x=zw(a,15),m=x.t,y=x.l,v=cE(d),b=v.c,S=v.n,T=cE(m),E=T.c,P=T.n,j=new Ja(19),L=0;L<b.length;++L)++j[b[L]&31];for(var L=0;L<E.length;++L)++j[E[L]&31];for(var F=zw(j,7),W=F.t,D=F.l,O=19;O>4&&!W[s4[O-1]];--O);var q=u+5<<3,I=kp(i,yu)+kp(a,qm)+s,ae=kp(i,d)+kp(a,m)+s+14+3*O+kp(j,W)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&q<=I&&q<=ae)return wP(e,h,t.subarray(c,c+u));var X,le,re,ue;if(yl(e,h,1+(ae<I)),h+=2,ae<I){X=Xo(d,p,0),le=d,re=Xo(m,y,0),ue=m;var ge=Xo(W,D,0);yl(e,h,S-257),yl(e,h+5,P-1),yl(e,h+10,O-4),h+=14;for(var L=0;L<O;++L)yl(e,h+3*L,W[s4[L]]);h+=3*O;for(var Ge=[b,E],A=0;A<2;++A)for(var M=Ge[A],L=0;L<M.length;++L){var R=M[L]&31;yl(e,h,ge[R]),h+=W[R],R>15&&(yl(e,h,M[L]>>5&127),h+=M[L]>>12)}}else X=qQ,le=yu,re=WQ,ue=qm;for(var L=0;L<o;++L){var B=n[L];if(B>255){var R=B>>18&31;jp(e,h,X[R+257]),h+=le[R+257],R>7&&(yl(e,h,B>>23&31),h+=Dy[R]);var Q=B&31;jp(e,h,re[Q]),h+=ue[Q],Q>3&&(jp(e,h,B>>5&8191),h+=Py[Q])}else jp(e,h,X[B]),h+=le[B]}return jp(e,h,X[256]),h+le[256]},$Q=new q_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SP=new Bi(0),KQ=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Bi(n+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(n,o.length-i),u=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var f=$Q[e-1],d=f>>13,p=f&8191,x=(1<<r)-1,m=a.p||new Ja(32768),y=a.h||new Ja(x+1),v=Math.ceil(r/3),b=2*v,S=function(me){return(t[me]^t[me+1]<<v^t[me+2]<<b)&x},T=new q_(25e3),E=new Ja(288),P=new Ja(32),j=0,L=0,F=a.i||0,W=0,D=a.w||0,O=0;F+2<s;++F){var q=S(F),I=F&32767,ae=y[q];if(m[I]=ae,y[q]=I,D<=F){var X=s-F;if((j>7e3||W>24576)&&(X>423||!u)){h=uE(t,c,0,T,E,P,L,W,O,F-O,h),W=j=L=0,O=F;for(var le=0;le<286;++le)E[le]=0;for(var le=0;le<30;++le)P[le]=0}var re=2,ue=0,ge=p,Ge=I-ae&32767;if(X>2&&q==S(F-Ge))for(var A=Math.min(d,X)-1,M=Math.min(32767,F),R=Math.min(258,X);Ge<=M&&--ge&&I!=ae;){if(t[F+re]==t[F+re-Ge]){for(var B=0;B<R&&t[F+B]==t[F+B-Ge];++B);if(B>re){if(re=B,ue=Ge,B>A)break;for(var Q=Math.min(Ge,B-2),fe=0,le=0;le<Q;++le){var he=F-Ge+le&32767,pe=m[he],Te=he-pe&32767;Te>fe&&(fe=Te,ae=he)}}}I=ae,ae=m[I],Ge+=I-ae&32767}if(ue){T[W++]=268435456|o4[re]<<18|lE[ue];var He=o4[re]&31,Qe=lE[ue]&31;L+=Dy[He]+Py[Qe],++E[257+He],++P[Qe],D=F+re,++j}else T[W++]=t[F],++E[t[F]]}}for(F=Math.max(F,D);F<s;++F)T[W++]=t[F],++E[t[F]];h=uE(t,c,u,T,E,P,L,W,O,F-O,h),u||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=y,a.p=m,a.i=F,a.w=D)}else{for(var F=a.w||0;F<s+u;F+=65535){var et=F+65535;et>=s&&(c[h/8|0]=u,et=s),h=wP(c,h+1,t.subarray(F,et))}a.i=s}return bP(o,0,n+V_(h)+i)},_P=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},QQ=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Bi(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return KQ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},NP=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},JQ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=_P();i.p(e.dictionary),NP(t,2,i.d())}},ZQ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ys(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ys(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function u4(t,e){e||(e={});var r=_P();r.p(t);var n=QQ(t,e,e.dictionary?6:2,4);return JQ(n,e),NP(n,n.length-4,r.d()),n}function eJ(t,e){return XQ(t.subarray(ZQ(t),-4),{i:2},e,e)}var tJ=typeof TextDecoder<"u"&&new TextDecoder,rJ=0;try{tJ.decode(SP,{stream:!0}),rJ=1}catch{}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Uw(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Yr={log:Uw,warn:function(t){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Uw.call(null,arguments))},error:function(t){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Uw(t))}};function Hw(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Vu(n.response,e,r)},n.onerror=function(){Yr.error("could not download file")},n.send()}function hE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var om,h4,Vu=Ut.saveAs||((typeof window>"u"?"undefined":Rr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ut.URL||Ut.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?hE(i.href)?Hw(t,e,r):xx(i,i.target="_blank"):xx(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){xx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(hE(t))Hw(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){xx(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Rr(a)!=="object"&&(Yr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Hw(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Ut.HTMLElement)||Ut.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Rr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var c=Ut.URL||Ut.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function TP(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qw(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=ki(r,n,i,a,e[0],7,-680876936),a=ki(a,r,n,i,e[1],12,-389564586),i=ki(i,a,r,n,e[2],17,606105819),n=ki(n,i,a,r,e[3],22,-1044525330),r=ki(r,n,i,a,e[4],7,-176418897),a=ki(a,r,n,i,e[5],12,1200080426),i=ki(i,a,r,n,e[6],17,-1473231341),n=ki(n,i,a,r,e[7],22,-45705983),r=ki(r,n,i,a,e[8],7,1770035416),a=ki(a,r,n,i,e[9],12,-1958414417),i=ki(i,a,r,n,e[10],17,-42063),n=ki(n,i,a,r,e[11],22,-1990404162),r=ki(r,n,i,a,e[12],7,1804603682),a=ki(a,r,n,i,e[13],12,-40341101),i=ki(i,a,r,n,e[14],17,-1502002290),r=Oi(r,n=ki(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Oi(a,r,n,i,e[6],9,-1069501632),i=Oi(i,a,r,n,e[11],14,643717713),n=Oi(n,i,a,r,e[0],20,-373897302),r=Oi(r,n,i,a,e[5],5,-701558691),a=Oi(a,r,n,i,e[10],9,38016083),i=Oi(i,a,r,n,e[15],14,-660478335),n=Oi(n,i,a,r,e[4],20,-405537848),r=Oi(r,n,i,a,e[9],5,568446438),a=Oi(a,r,n,i,e[14],9,-1019803690),i=Oi(i,a,r,n,e[3],14,-187363961),n=Oi(n,i,a,r,e[8],20,1163531501),r=Oi(r,n,i,a,e[13],5,-1444681467),a=Oi(a,r,n,i,e[2],9,-51403784),i=Oi(i,a,r,n,e[7],14,1735328473),r=Li(r,n=Oi(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Li(a,r,n,i,e[8],11,-2022574463),i=Li(i,a,r,n,e[11],16,1839030562),n=Li(n,i,a,r,e[14],23,-35309556),r=Li(r,n,i,a,e[1],4,-1530992060),a=Li(a,r,n,i,e[4],11,1272893353),i=Li(i,a,r,n,e[7],16,-155497632),n=Li(n,i,a,r,e[10],23,-1094730640),r=Li(r,n,i,a,e[13],4,681279174),a=Li(a,r,n,i,e[0],11,-358537222),i=Li(i,a,r,n,e[3],16,-722521979),n=Li(n,i,a,r,e[6],23,76029189),r=Li(r,n,i,a,e[9],4,-640364487),a=Li(a,r,n,i,e[12],11,-421815835),i=Li(i,a,r,n,e[15],16,530742520),r=Di(r,n=Li(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Di(a,r,n,i,e[7],10,1126891415),i=Di(i,a,r,n,e[14],15,-1416354905),n=Di(n,i,a,r,e[5],21,-57434055),r=Di(r,n,i,a,e[12],6,1700485571),a=Di(a,r,n,i,e[3],10,-1894986606),i=Di(i,a,r,n,e[10],15,-1051523),n=Di(n,i,a,r,e[1],21,-2054922799),r=Di(r,n,i,a,e[8],6,1873313359),a=Di(a,r,n,i,e[15],10,-30611744),i=Di(i,a,r,n,e[6],15,-1560198380),n=Di(n,i,a,r,e[13],21,1309151649),r=Di(r,n,i,a,e[4],6,-145523070),a=Di(a,r,n,i,e[11],10,-1120210379),i=Di(i,a,r,n,e[2],15,718787259),n=Di(n,i,a,r,e[9],21,-343485551),t[0]=Jc(r,t[0]),t[1]=Jc(n,t[1]),t[2]=Jc(i,t[2]),t[3]=Jc(a,t[3])}function Ry(t,e,r,n,i,a){return e=Jc(Jc(e,t),Jc(n,a)),Jc(e<<i|e>>>32-i,r)}function ki(t,e,r,n,i,a,s){return Ry(e&r|~e&n,t,e,i,a,s)}function Oi(t,e,r,n,i,a,s){return Ry(e&n|r&~n,t,e,i,a,s)}function Li(t,e,r,n,i,a,s){return Ry(e^r^n,t,e,i,a,s)}function Di(t,e,r,n,i,a,s){return Ry(r^(e|~n),t,e,i,a,s)}function CP(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)qw(n,nJ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(qw(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,qw(n,i),n}function nJ(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}om=Ut.atob.bind(Ut),h4=Ut.btoa.bind(Ut);var fE="0123456789abcdef".split("");function iJ(t){for(var e="",r=0;r<4;r++)e+=fE[t>>8*r+4&15]+fE[t>>8*r&15];return e}function aJ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function f4(t){return CP(t).map(aJ).join("")}var sJ=function(t){for(var e=0;e<t.length;e++)t[e]=iJ(t[e]);return t.join("")}(CP("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jc(t,e){if(sJ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function d4(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var h=o[c];u=(u+h+s.charCodeAt(c))%256,o[c]=o[u],o[u]=h}r=t,n=o}else o=n;var f=e.length,d=0,p=0,x="";for(c=0;c<f;c++)p=(p+(h=o[d=(d+1)%256]))%256,o[d]=o[p],o[p]=h,s=o[(o[d]+o[p])%256],x+=String.fromCharCode(e.charCodeAt(c)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dE={print:4,modify:8,copy:16,"annot-forms":32};function Bf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(dE.perm!==void 0)throw new Error("Invalid permission: "+o);i+=dE[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=f4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=d4(this.encryptionKey,this.padding)}function zf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function pE(t){if(Rr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){Ut.console&&Yr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function f2(t){if(!(this instanceof f2))return new f2(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function AP(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xu(t,e,r,n,i){if(!(this instanceof Xu))return new Xu(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,AP.call(this,n,i)}function nd(t,e,r,n,i){if(!(this instanceof nd))return new nd(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,AP.call(this,n,i)}function zt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,c=16,u="S",h=null;Rr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},p={internal:{},__private__:{}};p.__private__.PubSub=pE;var x="1.3",m=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(_){x=_};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var v=p.__private__.getPageFormat=function(_){return y[_]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function T(){this.saveGraphicsState(),Z(new Be(vt,0,0,-vt,0,oc()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),u="n",S=b.ADVANCED}function E(){this.restoreGraphicsState(),u="S",S=b.COMPAT}var P=p.__private__.combineFontStyleAndFontWeight=function(_,H){if(_=="bold"&&H=="normal"||_=="bold"&&H==400||_=="normal"&&H=="italic"||_=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(_=H==400||H==="normal"?_==="italic"?"italic":"normal":H!=700&&H!=="bold"||_!=="normal"?(H==700?"bold":H)+""+_:"bold"),_};p.advancedAPI=function(_){var H=S===b.COMPAT;return H&&T.call(this),typeof _!="function"||(_(this),H&&E.call(this)),this},p.compatAPI=function(_){var H=S===b.ADVANCED;return H&&E.call(this),typeof _!="function"||(_(this),H&&T.call(this)),this},p.isAdvancedAPI=function(){return S===b.ADVANCED};var j,L=function(_){if(S!==b.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=p.roundToPrecision=p.__private__.roundToPrecision=function(_,H){var oe=e||H;if(isNaN(_)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(oe).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof c=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return F(_,c)}:c==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return F(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return F(_,16)};var W=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return F(_,2)},D=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return F(_,3)},O=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?_*vt:S===b.ADVANCED?_:void 0},q=function(_){return S===b.COMPAT?oc()-_:S===b.ADVANCED?_:void 0},I=function(_){return O(q(_))};p.__private__.setPrecision=p.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ae,X="00000000000000000000000000000000",le=p.__private__.getFileId=function(){return X},re=p.__private__.setFileId=function(_){return X=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ei=new Bf(h.userPermissions,h.userPassword,h.ownerPassword,X)),X};p.setFileId=function(_){return re(_),this},p.getFileId=function(){return le()};var ue=p.__private__.convertDateToPDFDate=function(_){var H=_.getTimezoneOffset(),oe=H<0?"+":"-",xe=Math.floor(Math.abs(H/60)),Le=Math.abs(H%60),$e=[oe,R(xe),"'",R(Le),"'"].join("");return["D:",_.getFullYear(),R(_.getMonth()+1),R(_.getDate()),R(_.getHours()),R(_.getMinutes()),R(_.getSeconds()),$e].join("")},ge=p.__private__.convertPDFDateToDate=function(_){var H=parseInt(_.substr(2,4),10),oe=parseInt(_.substr(6,2),10)-1,xe=parseInt(_.substr(8,2),10),Le=parseInt(_.substr(10,2),10),$e=parseInt(_.substr(12,2),10),ct=parseInt(_.substr(14,2),10);return new Date(H,oe,xe,Le,$e,ct,0)},Ge=p.__private__.setCreationDate=function(_){var H;if(_===void 0&&(_=new Date),_ instanceof Date)H=ue(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=_}return ae=H},A=p.__private__.getCreationDate=function(_){var H=ae;return _==="jsDate"&&(H=ge(ae)),H};p.setCreationDate=function(_){return Ge(_),this},p.getCreationDate=function(_){return A(_)};var M,R=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},B=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},Q=0,fe=[],he=[],pe=0,Te=[],He=[],Qe=!1,et=he,me=function(){Q=0,pe=0,he=[],fe=[],Te=[],K=At(),ee=At()};p.__private__.setCustomOutputDestination=function(_){Qe=!0,et=_};var ce=function(_){Qe||(et=_)};p.__private__.resetCustomOutputDestination=function(){Qe=!1,et=he};var Z=p.__private__.out=function(_){return _=_.toString(),pe+=_.length+1,et.push(_),et},je=p.__private__.write=function(_){return Z(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Ce=p.__private__.getArrayBuffer=function(_){for(var H=_.length,oe=new ArrayBuffer(H),xe=new Uint8Array(oe);H--;)xe[H]=_.charCodeAt(H);return oe},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Oe};var Xe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return Xe=S===b.ADVANCED?_/vt:_,this};var st,ht=p.__private__.getFontSize=p.getFontSize=function(){return S===b.COMPAT?Xe:Xe*vt},Ct=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return Ct=_,this},p.__private__.getR2L=p.getR2L=function(){return Ct};var Ue,it=p.__private__.setZoomMode=function(_){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))st=_;else if(isNaN(_)){if(H.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');st=_}else st=parseInt(_,10)};p.__private__.getZoomMode=function(){return st};var bt,St=p.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ue=_};p.__private__.getPageMode=function(){return Ue};var Pt=p.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');bt=_};p.__private__.getLayoutMode=function(){return bt},p.__private__.setDisplayMode=p.setDisplayMode=function(_,H,oe){return it(_),Pt(H),St(oe),this};var Dt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(Object.keys(Dt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dt[_]},p.__private__.getDocumentProperties=function(){return Dt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var H in Dt)Dt.hasOwnProperty(H)&&_[H]&&(Dt[H]=_[H]);return this},p.__private__.setDocumentProperty=function(_,H){if(Object.keys(Dt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dt[_]=H};var Rt,vt,$r,er,mn,ur={},vr={},Wn=[],ir={},Wi={},Br={},Zn={},La=null,Tr=0,Ht=[],ve=new pE(p),de=t.hotfixes||[],Ae={},qe={},pt=[],Be=function _(H,oe,xe,Le,$e,ct){if(!(this instanceof _))return new _(H,oe,xe,Le,$e,ct);isNaN(H)&&(H=1),isNaN(oe)&&(oe=0),isNaN(xe)&&(xe=0),isNaN(Le)&&(Le=1),isNaN($e)&&($e=0),isNaN(ct)&&(ct=0),this._matrix=[H,oe,xe,Le,$e,ct]};Object.defineProperty(Be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Be.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Be.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Be.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Be.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Be.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Be.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(_)},Be.prototype.multiply=function(_){var H=_.sx*this.sx+_.shy*this.shx,oe=_.sx*this.shy+_.shy*this.sy,xe=_.shx*this.sx+_.sy*this.shx,Le=_.shx*this.shy+_.sy*this.sy,$e=_.tx*this.sx+_.ty*this.shx+this.tx,ct=_.tx*this.shy+_.ty*this.sy+this.ty;return new Be(H,oe,xe,Le,$e,ct)},Be.prototype.decompose=function(){var _=this.sx,H=this.shy,oe=this.shx,xe=this.sy,Le=this.tx,$e=this.ty,ct=Math.sqrt(_*_+H*H),Et=(_/=ct)*oe+(H/=ct)*xe;oe-=_*Et,xe-=H*Et;var Mt=Math.sqrt(oe*oe+xe*xe);return Et/=Mt,_*(xe/=Mt)<H*(oe/=Mt)&&(_=-_,H=-H,Et=-Et,ct=-ct),{scale:new Be(ct,0,0,Mt,0,0),translate:new Be(1,0,0,1,Le,$e),rotate:new Be(_,H,-H,_,0,0),skew:new Be(1,0,Et,1,0,0)}},Be.prototype.toString=function(_){return this.join(" ")},Be.prototype.inversed=function(){var _=this.sx,H=this.shy,oe=this.shx,xe=this.sy,Le=this.tx,$e=this.ty,ct=1/(_*xe-H*oe),Et=xe*ct,Mt=-H*ct,Kt=-oe*ct,Yt=_*ct;return new Be(Et,Mt,Kt,Yt,-Et*Le-Kt*$e,-Mt*Le-Yt*$e)},Be.prototype.applyToPoint=function(_){var H=_.x*this.sx+_.y*this.shx+this.tx,oe=_.x*this.shy+_.y*this.sy+this.ty;return new rf(H,oe)},Be.prototype.applyToRectangle=function(_){var H=this.applyToPoint(_),oe=this.applyToPoint(new rf(_.x+_.w,_.y+_.h));return new G0(H.x,H.y,oe.x-H.x,oe.y-H.y)},Be.prototype.clone=function(){var _=this.sx,H=this.shy,oe=this.shx,xe=this.sy,Le=this.tx,$e=this.ty;return new Be(_,H,oe,xe,Le,$e)},p.Matrix=Be;var ke=p.matrixMult=function(_,H){return H.multiply(_)},Je=new Be(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Je;var Ze=function(_,H){if(!Wi[_]){var oe=(H instanceof Xu?"Sh":"P")+(Object.keys(ir).length+1).toString(10);H.id=oe,Wi[_]=oe,ir[oe]=H,ve.publish("addPattern",H)}};p.ShadingPattern=Xu,p.TilingPattern=nd,p.addShadingPattern=function(_,H){return L("addShadingPattern()"),Ze(_,H),this},p.beginTilingPattern=function(_){L("beginTilingPattern()"),Zg(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,H){L("endTilingPattern()"),H.stream=He[M].join(`
`),Ze(_,H),ve.publish("endTilingPattern",H),pt.pop().restore()};var yt=p.__private__.newObject=function(){var _=At();return z(_,!0),_},At=p.__private__.newObjectDeferred=function(){return Q++,fe[Q]=function(){return pe},Q},z=function(_,H){return H=typeof H=="boolean"&&H,fe[_]=pe,H&&Z(_+" 0 obj"),_},te=p.__private__.newAdditionalObject=function(){var _={objId:At(),content:""};return Te.push(_),_},K=At(),ee=At(),ie=p.__private__.decodeColorString=function(_){var H=_.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var oe=parseFloat(H[0]);H=[oe,oe,oe,"r"]}for(var xe="#",Le=0;Le<3;Le++)xe+=("0"+Math.floor(255*parseFloat(H[Le])).toString(16)).slice(-2);return xe},se=p.__private__.encodeColorString=function(_){var H;typeof _=="string"&&(_={ch1:_});var oe=_.ch1,xe=_.ch2,Le=_.ch3,$e=_.ch4,ct=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var Et=new TP(oe);if(Et.ok)oe=Et.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var Mt=parseInt(oe.substr(1),16);oe=Mt>>16&255,xe=Mt>>8&255,Le=255&Mt}if(xe===void 0||$e===void 0&&oe===xe&&xe===Le)if(typeof oe=="string")H=oe+" "+ct[0];else switch(_.precision){case 2:H=W(oe/255)+" "+ct[0];break;case 3:default:H=D(oe/255)+" "+ct[0]}else if($e===void 0||Rr($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return H=["1.","1.","1.",ct[1]].join(" ");if(typeof oe=="string")H=[oe,xe,Le,ct[1]].join(" ");else switch(_.precision){case 2:H=[W(oe/255),W(xe/255),W(Le/255),ct[1]].join(" ");break;default:case 3:H=[D(oe/255),D(xe/255),D(Le/255),ct[1]].join(" ")}}else if(typeof oe=="string")H=[oe,xe,Le,$e,ct[2]].join(" ");else switch(_.precision){case 2:H=[W(oe),W(xe),W(Le),W($e),ct[2]].join(" ");break;case 3:default:H=[D(oe),D(xe),D(Le),D($e),ct[2]].join(" ")}return H},De=p.__private__.getFilters=function(){return s},Ve=p.__private__.putStream=function(_){var H=(_=_||{}).data||"",oe=_.filters||De(),xe=_.alreadyAppliedFilters||[],Le=_.addLength1||!1,$e=H.length,ct=_.objectId,Et=function(ji){return ji};if(h!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Et=Ei.encryptor(ct,0));var Mt={};oe===!0&&(oe=["FlateEncode"]);var Kt=_.additionalKeyValues||[],Yt=(Mt=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(H,oe):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Mt.data.length!==0&&(Kt.push({key:"Length",value:Mt.data.length}),Le===!0&&Kt.push({key:"Length1",value:$e})),Yt.length!=0)if(Yt.split("/").length-1==1)Kt.push({key:"Filter",value:Yt});else{Kt.push({key:"Filter",value:"["+Yt+"]"});for(var pr=0;pr<Kt.length;pr+=1)if(Kt[pr].key==="DecodeParms"){for(var hn=[],gn=0;gn<Mt.reverseChain.split("/").length-1;gn+=1)hn.push("null");hn.push(Kt[pr].value),Kt[pr].value="["+hn.join(" ")+"]"}}Z("<<");for(var Rn=0;Rn<Kt.length;Rn++)Z("/"+Kt[Rn].key+" "+Kt[Rn].value);Z(">>"),Mt.data.length!==0&&(Z("stream"),Z(Et(Mt.data)),Z("endstream"))},Pe=p.__private__.putPage=function(_){var H=_.number,oe=_.data,xe=_.objId,Le=_.contentsObjId;z(xe,!0),Z("<</Type /Page"),Z("/Parent "+_.rootDictionaryObjId+" 0 R"),Z("/Resources "+_.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(j(_.mediaBox.bottomLeftX))+" "+parseFloat(j(_.mediaBox.bottomLeftY))+" "+j(_.mediaBox.topRightX)+" "+j(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&Z("/CropBox ["+j(_.cropBox.bottomLeftX)+" "+j(_.cropBox.bottomLeftY)+" "+j(_.cropBox.topRightX)+" "+j(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&Z("/BleedBox ["+j(_.bleedBox.bottomLeftX)+" "+j(_.bleedBox.bottomLeftY)+" "+j(_.bleedBox.topRightX)+" "+j(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&Z("/TrimBox ["+j(_.trimBox.bottomLeftX)+" "+j(_.trimBox.bottomLeftY)+" "+j(_.trimBox.topRightX)+" "+j(_.trimBox.topRightY)+"]"),_.artBox!==null&&Z("/ArtBox ["+j(_.artBox.bottomLeftX)+" "+j(_.artBox.bottomLeftY)+" "+j(_.artBox.topRightX)+" "+j(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&Z("/UserUnit "+_.userUnit),ve.publish("putPage",{objId:xe,pageContext:Ht[H],pageNumber:H,page:oe}),Z("/Contents "+Le+" 0 R"),Z(">>"),Z("endobj");var $e=oe.join(`
`);return S===b.ADVANCED&&($e+=`
Q`),z(Le,!0),Ve({data:$e,filters:De(),objectId:Le}),Z("endobj"),xe},Fe=p.__private__.putPages=function(){var _,H,oe=[];for(_=1;_<=Tr;_++)Ht[_].objId=At(),Ht[_].contentsObjId=At();for(_=1;_<=Tr;_++)oe.push(Pe({number:_,data:He[_],objId:Ht[_].objId,contentsObjId:Ht[_].contentsObjId,mediaBox:Ht[_].mediaBox,cropBox:Ht[_].cropBox,bleedBox:Ht[_].bleedBox,trimBox:Ht[_].trimBox,artBox:Ht[_].artBox,userUnit:Ht[_].userUnit,rootDictionaryObjId:K,resourceDictionaryObjId:ee}));z(K,!0),Z("<</Type /Pages");var xe="/Kids [";for(H=0;H<Tr;H++)xe+=oe[H]+" 0 R ";Z(xe+"]"),Z("/Count "+Tr),Z(">>"),Z("endobj"),ve.publish("postPutPages")},Ie=function(_){ve.publish("putFont",{font:_,out:Z,newObject:yt,putStream:Ve}),_.isAlreadyPutted!==!0&&(_.objectNumber=yt(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+zf(_.postScriptName)),Z("/Subtype /Type1"),typeof _.encoding=="string"&&Z("/Encoding /"+_.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},ut=function(){for(var _ in ur)ur.hasOwnProperty(_)&&(f===!1||f===!0&&d.hasOwnProperty(_))&&Ie(ur[_])},mt=function(_){_.objectNumber=yt();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[j(_.x),j(_.y),j(_.x+_.width),j(_.y+_.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var oe=_.pages[1].join(`
`);Ve({data:oe,additionalKeyValues:H,objectId:_.objectNumber}),Z("endobj")},Tt=function(){for(var _ in Ae)Ae.hasOwnProperty(_)&&mt(Ae[_])},dt=function(_,H){var oe,xe=[],Le=1/(H-1);for(oe=0;oe<1;oe+=Le)xe.push(oe);if(xe.push(1),_[0].offset!=0){var $e={offset:0,color:_[0].color};_.unshift($e)}if(_[_.length-1].offset!=1){var ct={offset:1,color:_[_.length-1].color};_.push(ct)}for(var Et="",Mt=0,Kt=0;Kt<xe.length;Kt++){for(oe=xe[Kt];oe>_[Mt+1].offset;)Mt++;var Yt=_[Mt].offset,pr=(oe-Yt)/(_[Mt+1].offset-Yt),hn=_[Mt].color,gn=_[Mt+1].color;Et+=B(Math.round((1-pr)*hn[0]+pr*gn[0]).toString(16))+B(Math.round((1-pr)*hn[1]+pr*gn[1]).toString(16))+B(Math.round((1-pr)*hn[2]+pr*gn[2]).toString(16))}return Et.trim()},Nt=function(_,H){H||(H=21);var oe=yt(),xe=dt(_.colors,H),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+H+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:xe,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),Z("endobj"),_.objectNumber=yt(),Z("<< /ShadingType "+_.type),Z("/ColorSpace /DeviceRGB");var $e="/Coords ["+j(parseFloat(_.coords[0]))+" "+j(parseFloat(_.coords[1]))+" ";_.type===2?$e+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3])):$e+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3]))+" "+j(parseFloat(_.coords[4]))+" "+j(parseFloat(_.coords[5])),Z($e+="]"),_.matrix&&Z("/Matrix ["+_.matrix.toString()+"]"),Z("/Function "+oe+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Wt=function(_,H){var oe=At(),xe=yt();H.push({resourcesOid:oe,objectOid:xe}),_.objectNumber=xe;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+_.boundingBox.map(j).join(" ")+"]"}),Le.push({key:"XStep",value:j(_.xStep)}),Le.push({key:"YStep",value:j(_.yStep)}),Le.push({key:"Resources",value:oe+" 0 R"}),_.matrix&&Le.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Ve({data:_.stream,additionalKeyValues:Le,objectId:_.objectNumber}),Z("endobj")},Cr=function(_){var H;for(H in ir)ir.hasOwnProperty(H)&&(ir[H]instanceof Xu?Nt(ir[H]):ir[H]instanceof nd&&Wt(ir[H],_))},zr=function(_){for(var H in _.objectNumber=yt(),Z("<<"),_)switch(H){case"opacity":Z("/ca "+W(_[H]));break;case"stroke-opacity":Z("/CA "+W(_[H]))}Z(">>"),Z("endobj")},Pn=function(){var _;for(_ in Br)Br.hasOwnProperty(_)&&zr(Br[_])},Ps=function(){for(var _ in Z("/XObject <<"),Ae)Ae.hasOwnProperty(_)&&Ae[_].objectNumber>=0&&Z("/"+_+" "+Ae[_].objectNumber+" 0 R");ve.publish("putXobjectDict"),Z(">>")},il=function(){Ei.oid=yt(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Ei.v),Z("/R "+Ei.r),Z("/U <"+Ei.toHexString(Ei.U)+">"),Z("/O <"+Ei.toHexString(Ei.O)+">"),Z("/P "+Ei.P),Z(">>"),Z("endobj")},vo=function(){for(var _ in Z("/Font <<"),ur)ur.hasOwnProperty(_)&&(f===!1||f===!0&&d.hasOwnProperty(_))&&Z("/"+_+" "+ur[_].objectNumber+" 0 R");Z(">>")},Rs=function(){if(Object.keys(ir).length>0){for(var _ in Z("/Shading <<"),ir)ir.hasOwnProperty(_)&&ir[_]instanceof Xu&&ir[_].objectNumber>=0&&Z("/"+_+" "+ir[_].objectNumber+" 0 R");ve.publish("putShadingPatternDict"),Z(">>")}},yo=function(_){if(Object.keys(ir).length>0){for(var H in Z("/Pattern <<"),ir)ir.hasOwnProperty(H)&&ir[H]instanceof p.TilingPattern&&ir[H].objectNumber>=0&&ir[H].objectNumber<_&&Z("/"+H+" "+ir[H].objectNumber+" 0 R");ve.publish("putTilingPatternDict"),Z(">>")}},Da=function(){if(Object.keys(Br).length>0){var _;for(_ in Z("/ExtGState <<"),Br)Br.hasOwnProperty(_)&&Br[_].objectNumber>=0&&Z("/"+_+" "+Br[_].objectNumber+" 0 R");ve.publish("putGStateDict"),Z(">>")}},Nn=function(_){z(_.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),vo(),Rs(),yo(_.objectOid),Da(),Ps(),Z(">>"),Z("endobj")},Ig=function(){var _=[];ut(),Pn(),Tt(),Cr(_),ve.publish("putResources"),_.forEach(Nn),Nn({resourcesOid:ee,objectOid:Number.MAX_SAFE_INTEGER}),ve.publish("postPutResources")},Bg=function(){ve.publish("putAdditionalObjects");for(var _=0;_<Te.length;_++){var H=Te[_];z(H.objId,!0),Z(H.content),Z("endobj")}ve.publish("postPutAdditionalObjects")},zg=function(_){vr[_.fontName]=vr[_.fontName]||{},vr[_.fontName][_.fontStyle]=_.id},F0=function(_,H,oe,xe,Le){var $e={id:"F"+(Object.keys(ur).length+1).toString(10),postScriptName:_,fontName:H,fontStyle:oe,encoding:xe,isStandardFont:Le||!1,metadata:{}};return ve.publish("addFont",{font:$e,instance:this}),ur[$e.id]=$e,zg($e),$e.id},Yy=function(_){for(var H=0,oe=Oe.length;H<oe;H++){var xe=F0.call(this,_[H][0],_[H][1],_[H][2],Oe[H][3],!0);f===!1&&(d[xe]=!0);var Le=_[H][0].split("-");zg({id:xe,fontName:Le[0],fontStyle:Le[1]||""})}ve.publish("addFonts",{fonts:ur,dictionary:vr})},Ms=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(xe){var H=xe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var oe="Error in function "+H.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Ut.console)throw new Error(oe);Ut.console.error(oe,xe),Ut.alert&&alert(oe)}},_.foo.bar=_,_.foo},Kh=function(_,H){var oe,xe,Le,$e,ct,Et,Mt,Kt,Yt;if(Le=(H=H||{}).sourceEncoding||"Unicode",ct=H.outputEncoding,(H.autoencode||ct)&&ur[Rt].metadata&&ur[Rt].metadata[Le]&&ur[Rt].metadata[Le].encoding&&($e=ur[Rt].metadata[Le].encoding,!ct&&ur[Rt].encoding&&(ct=ur[Rt].encoding),!ct&&$e.codePages&&(ct=$e.codePages[0]),typeof ct=="string"&&(ct=$e[ct]),ct)){for(Mt=!1,Et=[],oe=0,xe=_.length;oe<xe;oe++)(Kt=ct[_.charCodeAt(oe)])?Et.push(String.fromCharCode(Kt)):Et.push(_[oe]),Et[oe].charCodeAt(0)>>8&&(Mt=!0);_=Et.join("")}for(oe=_.length;Mt===void 0&&oe!==0;)_.charCodeAt(oe-1)>>8&&(Mt=!0),oe--;if(!Mt)return _;for(Et=H.noBOM?[]:[254,255],oe=0,xe=_.length;oe<xe;oe++){if((Yt=(Kt=_.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(Yt),Et.push(Kt-(Yt<<8))}return String.fromCharCode.apply(void 0,Et)},la=p.__private__.pdfEscape=p.pdfEscape=function(_,H){return Kh(_,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},I0=p.__private__.beginPage=function(_){He[++Tr]=[],Ht[Tr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Hg(Tr),ce(He[M])},Ug=function(_,H){var oe,xe,Le;switch(r=H||r,typeof _=="string"&&(oe=v(_.toLowerCase()),Array.isArray(oe)&&(xe=oe[0],Le=oe[1])),Array.isArray(_)&&(xe=_[0]*vt,Le=_[1]*vt),isNaN(xe)&&(xe=i[0],Le=i[1]),(xe>14400||Le>14400)&&(Yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Le=Math.min(14400,Le)),i=[xe,Le],r.substr(0,1)){case"l":Le>xe&&(i=[Le,xe]);break;case"p":xe>Le&&(i=[Le,xe])}I0(i),Xg(H0),Z(Fs),V0!==0&&Z(V0+" J"),W0!==0&&Z(W0+" j"),ve.publish("addPage",{pageNumber:Tr})},Xy=function(_){_>0&&_<=Tr&&(He.splice(_,1),Ht.splice(_,1),Tr--,M>Tr&&(M=Tr),this.setPage(M))},Hg=function(_){_>0&&_<=Tr&&(M=_)},$y=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return He.length-1},qg=function(_,H,oe){var xe,Le=void 0;return oe=oe||{},_=_!==void 0?_:ur[Rt].fontName,H=H!==void 0?H:ur[Rt].fontStyle,xe=_.toLowerCase(),vr[xe]!==void 0&&vr[xe][H]!==void 0?Le=vr[xe][H]:vr[_]!==void 0&&vr[_][H]!==void 0?Le=vr[_][H]:oe.disableWarning===!1&&Yr.warn("Unable to look up font label for font '"+_+"', '"+H+"'. Refer to getFontList() for available fonts."),Le||oe.noFallback||(Le=vr.times[H])==null&&(Le=vr.times.normal),Le},Ky=p.__private__.putInfo=function(){var _=yt(),H=function(xe){return xe};for(var oe in h!==null&&(H=Ei.encryptor(_,0)),Z("<<"),Z("/Producer ("+la(H("jsPDF "+zt.version))+")"),Dt)Dt.hasOwnProperty(oe)&&Dt[oe]&&Z("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+la(H(Dt[oe]))+")");Z("/CreationDate ("+la(H(ae))+")"),Z(">>"),Z("endobj")},B0=p.__private__.putCatalog=function(_){var H=(_=_||{}).rootDictionaryObjId||K;switch(yt(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+H+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+st;oe.substr(oe.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+W(st)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Ue&&Z("/PageMode /"+Ue),ve.publish("putCatalog"),Z(">>"),Z("endobj")},Qy=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(Q+1)),Z("/Root "+Q+" 0 R"),Z("/Info "+(Q-1)+" 0 R"),h!==null&&Z("/Encrypt "+Ei.oid+" 0 R"),Z("/ID [ <"+X+"> <"+X+"> ]"),Z(">>")},Jy=p.__private__.putHeader=function(){Z("%PDF-"+x),Z("%ºß¬à")},Zy=p.__private__.putXRef=function(){var _="0000000000";Z("xref"),Z("0 "+(Q+1)),Z("0000000000 65535 f ");for(var H=1;H<=Q;H++)typeof fe[H]=="function"?Z((_+fe[H]()).slice(-10)+" 00000 n "):fe[H]!==void 0?Z((_+fe[H]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},al=p.__private__.buildDocument=function(){me(),ce(he),ve.publish("buildDocument"),Jy(),Fe(),Bg(),Ig(),h!==null&&il(),Ky(),B0();var _=pe;return Zy(),Qy(),Z("startxref"),Z(""+_),Z("%%EOF"),ce(He[M]),he.join(`
`)},Qh=p.__private__.getBlob=function(_){return new Blob([Ce(_)],{type:"application/pdf"})},Jh=p.output=p.__private__.output=Ms(function(_,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",_){case void 0:return al();case"save":p.save(H.filename);break;case"arraybuffer":return Ce(al());case"blob":return Qh(al());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Qh(al()))||void 0;Yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",xe=al();try{oe=h4(xe)}catch{oe=h4(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+H.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Le=H.pdfObjectUrl,$e="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Et=Ut.open();return Et!==null&&Et.document.write(ct),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Kt=Ut.open();if(Kt!==null){Kt.document.write(Mt);var Yt=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=H.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',hn=Ut.open();if(hn!==null&&(hn.document.write(pr),hn.document.title=H.filename),hn||typeof safari>"u")return hn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",H);default:return null}}),Vg=function(_){return Array.isArray(de)===!0&&de.indexOf(_)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=Vg("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var Ei=null;Ge(),re();var eb=function(_){return h!==null?Ei.encryptor(_,0):function(H){return H}},Wg=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[_].objId,pageNumber:_,pageContext:Ht[_]}},Gt=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Ht)if(Ht[H].objId===_)break;return Wg(H)},tb=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ht[M].objId,pageNumber:M,pageContext:Ht[M]}};p.addPage=function(){return Ug.apply(this,arguments),this},p.setPage=function(){return Hg.apply(this,arguments),ce.call(this,He[M]),this},p.insertPage=function(_){return this.addPage(),this.movePage(M,_),this},p.movePage=function(_,H){var oe,xe;if(_>H){oe=He[_],xe=Ht[_];for(var Le=_;Le>H;Le--)He[Le]=He[Le-1],Ht[Le]=Ht[Le-1];He[H]=oe,Ht[H]=xe,this.setPage(H)}else if(_<H){oe=He[_],xe=Ht[_];for(var $e=_;$e<H;$e++)He[$e]=He[$e+1],Ht[$e]=Ht[$e+1];He[H]=oe,Ht[H]=xe,this.setPage(H)}return this},p.deletePage=function(){return Xy.apply(this,arguments),this},p.__private__.text=p.text=function(_,H,oe,xe,Le){var $e,ct,Et,Mt,Kt,Yt,pr,hn,gn,Rn=(xe=xe||{}).scope||this;if(typeof _=="number"&&typeof H=="number"&&(typeof oe=="string"||Array.isArray(oe))){var ji=oe;oe=H,H=_,_=ji}if(arguments[3]instanceof Be?(L("The transform parameter of text() with a Matrix value"),gn=Le):(Et=arguments[4],Mt=arguments[5],Rr(pr=arguments[3])==="object"&&pr!==null||(typeof Et=="string"&&(Mt=Et,Et=null),typeof pr=="string"&&(Mt=pr,pr=null),typeof pr=="number"&&(Et=pr,pr=null),xe={flags:pr,angle:Et,align:Mt})),isNaN(H)||isNaN(oe)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Rn;var ei="",Is=!1,Pa=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:ku,So=Rn.internal.scaleFactor;function e1(Kr){return Kr=Kr.split("	").join(Array(xe.TabLen||9).join(" ")),la(Kr,pr)}function K0(Kr){for(var Qr,Cn=Kr.concat(),Gn=[],ul=Cn.length;ul--;)typeof(Qr=Cn.shift())=="string"?Gn.push(Qr):Array.isArray(Kr)&&(Qr.length===1||Qr[1]===void 0&&Qr[2]===void 0)?Gn.push(Qr[0]):Gn.push([Qr[0],Qr[1],Qr[2]]);return Gn}function Q0(Kr,Qr){var Cn;if(typeof Kr=="string")Cn=Qr(Kr)[0];else if(Array.isArray(Kr)){for(var Gn,ul,ap=Kr.concat(),pf=[],a1=ap.length;a1--;)typeof(Gn=ap.shift())=="string"?pf.push(Qr(Gn)[0]):Array.isArray(Gn)&&typeof Gn[0]=="string"&&(ul=Qr(Gn[0],Gn[1],Gn[2]),pf.push([ul[0],ul[1],ul[2]]));Cn=pf}return Cn}var af=!1,J0=!0;if(typeof _=="string")af=!0;else if(Array.isArray(_)){var Z0=_.concat();ct=[];for(var sf,fi=Z0.length;fi--;)(typeof(sf=Z0.shift())!="string"||Array.isArray(sf)&&typeof sf[0]!="string")&&(J0=!1);af=J0}if(af===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var of=Xe/Rn.internal.scaleFactor,lf=of*(Pa-1);switch(xe.baseline){case"bottom":oe-=lf;break;case"top":oe+=of-lf;break;case"hanging":oe+=of-2*lf;break;case"middle":oe+=of/2-lf}if((Yt=xe.maxWidth||0)>0&&(typeof _=="string"?_=Rn.splitTextToSize(_,Yt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Kr,Qr){return Kr.concat(Rn.splitTextToSize(Qr,Yt))},[]))),$e={text:_,x:H,y:oe,options:xe,mutex:{pdfEscape:la,activeFontKey:Rt,fonts:ur,activeFontSize:Xe}},ve.publish("preProcessText",$e),_=$e.text,Et=(xe=$e.options).angle,!(gn instanceof Be)&&Et&&typeof Et=="number"){Et*=Math.PI/180,xe.rotationDirection===0&&(Et=-Et),S===b.ADVANCED&&(Et=-Et);var cf=Math.cos(Et),ep=Math.sin(Et);gn=new Be(cf,ep,-ep,cf,0,0)}else Et&&Et instanceof Be&&(gn=Et);S!==b.ADVANCED||gn||(gn=Je),(Kt=xe.charSpace||tf)!==void 0&&(ei+=j(O(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hn=xe.horizontalScale)!==void 0&&(ei+=j(100*hn)+` Tz
`),xe.lang;var ca=-1,hb=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,tp=Rn.internal.getCurrentPageInfo().pageContext;switch(hb){case 0:case!1:case"fill":ca=0;break;case 1:case!0:case"stroke":ca=1;break;case 2:case"fillThenStroke":ca=2;break;case 3:case"invisible":ca=3;break;case 4:case"fillAndAddForClipping":ca=4;break;case 5:case"strokeAndAddPathForClipping":ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ca=6;break;case 7:case"addToPathForClipping":ca=7}var t1=tp.usedRenderingMode!==void 0?tp.usedRenderingMode:-1;ca!==-1?ei+=ca+` Tr
`:t1!==-1&&(ei+=`0 Tr
`),ca!==-1&&(tp.usedRenderingMode=ca),Mt=xe.align||"left";var ls,uf=Xe*Pa,r1=Rn.internal.pageSize.getWidth(),n1=ur[Rt];Kt=xe.charSpace||tf,Yt=xe.maxWidth||0,pr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var lc=[],Du=function(Kr){return Rn.getStringUnitWidth(Kr,{font:n1,charSpace:Kt,fontSize:Xe,doKerning:!1})*Xe/So};if(Object.prototype.toString.call(_)==="[object Array]"){var ua;ct=K0(_),Mt!=="left"&&(ls=ct.map(Du));var Gi,cc=0;if(Mt==="right"){H-=ls[0],_=[],fi=ct.length;for(var ol=0;ol<fi;ol++)ol===0?(Gi=wo(H),ua=sl(oe)):(Gi=O(cc-ls[ol]),ua=-uf),_.push([ct[ol],Gi,ua]),cc=ls[ol]}else if(Mt==="center"){H-=ls[0]/2,_=[],fi=ct.length;for(var ll=0;ll<fi;ll++)ll===0?(Gi=wo(H),ua=sl(oe)):(Gi=O((cc-ls[ll])/2),ua=-uf),_.push([ct[ll],Gi,ua]),cc=ls[ll]}else if(Mt==="left"){_=[],fi=ct.length;for(var hf=0;hf<fi;hf++)_.push(ct[hf])}else if(Mt==="justify"&&n1.encoding==="Identity-H"){_=[],fi=ct.length,Yt=Yt!==0?Yt:r1;for(var cl=0,Tn=0;Tn<fi;Tn++)if(ua=Tn===0?sl(oe):-uf,Gi=Tn===0?wo(H):cl,Tn<fi-1){var rp=O((Yt-ls[Tn])/(ct[Tn].split(" ").length-1)),Yi=ct[Tn].split(" ");_.push([Yi[0]+" ",Gi,ua]),cl=0;for(var cs=1;cs<Yi.length;cs++){var ff=(Du(Yi[cs-1]+" "+Yi[cs])-Du(Yi[cs]))*So+rp;cs==Yi.length-1?_.push([Yi[cs],ff,0]):_.push([Yi[cs]+" ",ff,0]),cl-=ff}}else _.push([ct[Tn],Gi,ua]);_.push(["",cl,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],fi=ct.length,Yt=Yt!==0?Yt:r1,Tn=0;Tn<fi;Tn++)ua=Tn===0?sl(oe):-uf,Gi=Tn===0?wo(H):0,Tn<fi-1?lc.push(j(O((Yt-ls[Tn])/(ct[Tn].split(" ").length-1)))):lc.push(0),_.push([ct[Tn],Gi,ua])}}var i1=typeof xe.R2L=="boolean"?xe.R2L:Ct;i1===!0&&(_=Q0(_,function(Kr,Qr,Cn){return[Kr.split("").reverse().join(""),Qr,Cn]})),$e={text:_,x:H,y:oe,options:xe,mutex:{pdfEscape:la,activeFontKey:Rt,fonts:ur,activeFontSize:Xe}},ve.publish("postProcessText",$e),_=$e.text,Is=$e.mutex.isHex||!1;var np=ur[Rt].encoding;np!=="WinAnsiEncoding"&&np!=="StandardEncoding"||(_=Q0(_,function(Kr,Qr,Cn){return[e1(Kr),Qr,Cn]})),ct=K0(_),_=[];for(var Pu,Ru,uc,Mu=0,df=1,Fu=Array.isArray(ct[0])?df:Mu,hc="",ip=function(Kr,Qr,Cn){var Gn="";return Cn instanceof Be?(Cn=typeof xe.angle=="number"?ke(Cn,new Be(1,0,0,1,Kr,Qr)):ke(new Be(1,0,0,1,Kr,Qr),Cn),S===b.ADVANCED&&(Cn=ke(new Be(1,0,0,-1,0,0),Cn)),Gn=Cn.join(" ")+` Tm
`):Gn=j(Kr)+" "+j(Qr)+` Td
`,Gn},us=0;us<ct.length;us++){switch(hc="",Fu){case df:uc=(Is?"<":"(")+ct[us][0]+(Is?">":")"),Pu=parseFloat(ct[us][1]),Ru=parseFloat(ct[us][2]);break;case Mu:uc=(Is?"<":"(")+ct[us]+(Is?">":")"),Pu=wo(H),Ru=sl(oe)}lc!==void 0&&lc[us]!==void 0&&(hc=lc[us]+` Tw
`),us===0?_.push(hc+ip(Pu,Ru,gn)+uc):Fu===Mu?_.push(hc+uc):Fu===df&&_.push(hc+ip(Pu,Ru,gn)+uc)}_=Fu===Mu?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var hs=`BT
/`;return hs+=Rt+" "+Xe+` Tf
`,hs+=j(Xe*Pa)+` TL
`,hs+=Ou+`
`,hs+=ei,hs+=_,Z(hs+="ET"),d[Rt]=!0,Rn};var rb=p.__private__.clip=p.clip=function(_){return Z(_==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return rb("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var bo=p.__private__.isValidStyle=function(_){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return bo(_)&&(u=_),this};var Gg=p.__private__.getStyle=p.getStyle=function(_){var H=u;switch(_){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=_}return H},Yg=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(_){return Zh("f",_),this},p.fillEvenOdd=function(_){return Zh("f*",_),this},p.fillStroke=function(_){return Zh("B",_),this},p.fillStrokeEvenOdd=function(_){return Zh("B*",_),this};var Zh=function(_,H){Rr(H)==="object"?ib(H,_):Z(_)},z0=function(_){_===null||S===b.ADVANCED&&_===void 0||(_=Gg(_),Z(_))};function nb(_,H,oe,xe,Le){var $e=new nd(H||this.boundingBox,oe||this.xStep,xe||this.yStep,this.gState,Le||this.matrix);$e.stream=this.stream;var ct=_+"$$"+this.cloneIndex+++"$$";return Ze(ct,$e),$e}var ib=function(_,H){var oe=Wi[_.key],xe=ir[oe];if(xe instanceof Xu)Z("q"),Z(ab(H)),xe.gState&&p.setGState(xe.gState),Z(_.matrix.toString()+" cm"),Z("/"+oe+" sh"),Z("Q");else if(xe instanceof nd){var Le=new Be(1,0,0,-1,0,oc());_.matrix&&(Le=Le.multiply(_.matrix||Je),oe=nb.call(xe,_.key,_.boundingBox,_.xStep,_.yStep,Le).id),Z("q"),Z("/Pattern cs"),Z("/"+oe+" scn"),xe.gState&&p.setGState(xe.gState),Z(H),Z("Q")}},ab=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},U0=p.moveTo=function(_,H){return Z(j(O(_))+" "+j(I(H))+" m"),this},ju=p.lineTo=function(_,H){return Z(j(O(_))+" "+j(I(H))+" l"),this},ac=p.curveTo=function(_,H,oe,xe,Le,$e){return Z([j(O(_)),j(I(H)),j(O(oe)),j(I(xe)),j(O(Le)),j(I($e)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,H,oe,xe,Le){if(isNaN(_)||isNaN(H)||isNaN(oe)||isNaN(xe)||!bo(Le))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[oe-_,xe-H]],_,H,[1,1],Le||"S"):this.lines([[oe-_,xe-H]],_,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,H,oe,xe,Le,$e){var ct,Et,Mt,Kt,Yt,pr,hn,gn,Rn,ji,ei,Is;if(typeof _=="number"&&(Is=oe,oe=H,H=_,_=Is),xe=xe||[1,1],$e=$e||!1,isNaN(H)||isNaN(oe)||!Array.isArray(_)||!Array.isArray(xe)||!bo(Le)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(U0(H,oe),ct=xe[0],Et=xe[1],Kt=_.length,ji=H,ei=oe,Mt=0;Mt<Kt;Mt++)(Yt=_[Mt]).length===2?(ji=Yt[0]*ct+ji,ei=Yt[1]*Et+ei,ju(ji,ei)):(pr=Yt[0]*ct+ji,hn=Yt[1]*Et+ei,gn=Yt[2]*ct+ji,Rn=Yt[3]*Et+ei,ji=Yt[4]*ct+ji,ei=Yt[5]*Et+ei,ac(pr,hn,gn,Rn,ji,ei));return $e&&Yg(),z0(Le),this},p.path=function(_){for(var H=0;H<_.length;H++){var oe=_[H],xe=oe.c;switch(oe.op){case"m":U0(xe[0],xe[1]);break;case"l":ju(xe[0],xe[1]);break;case"c":ac.apply(this,xe);break;case"h":Yg()}}return this},p.__private__.rect=p.rect=function(_,H,oe,xe,Le){if(isNaN(_)||isNaN(H)||isNaN(oe)||isNaN(xe)||!bo(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(xe=-xe),Z([j(O(_)),j(I(H)),j(O(oe)),j(O(xe)),"re"].join(" ")),z0(Le),this},p.__private__.triangle=p.triangle=function(_,H,oe,xe,Le,$e,ct){if(isNaN(_)||isNaN(H)||isNaN(oe)||isNaN(xe)||isNaN(Le)||isNaN($e)||!bo(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-_,xe-H],[Le-oe,$e-xe],[_-Le,H-$e]],_,H,[1,1],ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,H,oe,xe,Le,$e,ct){if(isNaN(_)||isNaN(H)||isNaN(oe)||isNaN(xe)||isNaN(Le)||isNaN($e)||!bo(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*oe),$e=Math.min($e,.5*xe),this.lines([[oe-2*Le,0],[Le*Et,0,Le,$e-$e*Et,Le,$e],[0,xe-2*$e],[0,$e*Et,-Le*Et,$e,-Le,$e],[2*Le-oe,0],[-Le*Et,0,-Le,-$e*Et,-Le,-$e],[0,2*$e-xe],[0,-$e*Et,Le*Et,-$e,Le,-$e]],_+Le,H,[1,1],ct,!0),this},p.__private__.ellipse=p.ellipse=function(_,H,oe,xe,Le){if(isNaN(_)||isNaN(H)||isNaN(oe)||isNaN(xe)||!bo(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*oe,ct=4/3*(Math.SQRT2-1)*xe;return U0(_+oe,H),ac(_+oe,H-ct,_+$e,H-xe,_,H-xe),ac(_-$e,H-xe,_-oe,H-ct,_-oe,H),ac(_-oe,H+ct,_-$e,H+xe,_,H+xe),ac(_+$e,H+xe,_+oe,H+ct,_+oe,H),z0(Le),this},p.__private__.circle=p.circle=function(_,H,oe,xe){if(isNaN(_)||isNaN(H)||isNaN(oe)||!bo(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,H,oe,oe,xe)},p.setFont=function(_,H,oe){return oe&&(H=P(H,oe)),Rt=qg(_,H,{disableWarning:!1}),this};var sb=p.__private__.getFont=p.getFont=function(){return ur[qg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,H,oe={};for(_ in vr)if(vr.hasOwnProperty(_))for(H in oe[_]=[],vr[_])vr[_].hasOwnProperty(H)&&oe[_].push(H);return oe},p.addFont=function(_,H,oe,xe,Le){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(oe=P(oe,xe)),Le=Le||"Identity-H",F0.call(this,_,H,oe,Le)};var ku,H0=t.lineWidth||.200025,ef=p.__private__.getLineWidth=p.getLineWidth=function(){return H0},Xg=p.__private__.setLineWidth=p.setLineWidth=function(_){return H0=_,Z(j(O(_))+" w"),this};p.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(_,H){if(_=_||[],H=H||0,isNaN(H)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(oe){return j(O(oe))}).join(" "),H=j(O(H)),Z("["+_+"] "+H+" d"),this};var $g=p.__private__.getLineHeight=p.getLineHeight=function(){return Xe*ku};p.__private__.getLineHeight=p.getLineHeight=function(){return Xe*ku};var Kg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ku=_),this},Qg=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ku};Kg(t.lineHeight);var wo=p.__private__.getHorizontalCoordinate=function(_){return O(_)},sl=p.__private__.getVerticalCoordinate=function(_){return S===b.ADVANCED?_:Ht[M].mediaBox.topRightY-Ht[M].mediaBox.bottomLeftY-O(_)},ob=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return j(wo(_))},sc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return j(sl(_))},Fs=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ie(Fs)},p.__private__.setStrokeColor=p.setDrawColor=function(_,H,oe,xe){return Fs=se({ch1:_,ch2:H,ch3:oe,ch4:xe,pdfColorType:"draw",precision:2}),Z(Fs),this};var q0=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ie(q0)},p.__private__.setFillColor=p.setFillColor=function(_,H,oe,xe){return q0=se({ch1:_,ch2:H,ch3:oe,ch4:xe,pdfColorType:"fill",precision:2}),Z(q0),this};var Ou=t.textColor||"0 g",lb=p.__private__.getTextColor=p.getTextColor=function(){return ie(Ou)};p.__private__.setTextColor=p.setTextColor=function(_,H,oe,xe){return Ou=se({ch1:_,ch2:H,ch3:oe,ch4:xe,pdfColorType:"text",precision:3}),this};var tf=t.charSpace,cb=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(tf||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tf=_,this};var V0=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var H=p.CapJoinStyles[_];if(H===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return V0=H,Z(H+" J"),this};var W0=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var H=p.CapJoinStyles[_];if(H===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return W0=H,Z(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(j(O(_))+" M"),this},p.GState=f2,p.setGState=function(_){(_=typeof _=="string"?Br[Zn[_]]:Jg(null,_)).equals(La)||(Z("/"+_.id+" gs"),La=_)};var Jg=function(_,H){if(!_||!Zn[_]){var oe=!1;for(var xe in Br)if(Br.hasOwnProperty(xe)&&Br[xe].equals(H)){oe=!0;break}if(oe)H=Br[xe];else{var Le="GS"+(Object.keys(Br).length+1).toString(10);Br[Le]=H,H.id=Le}return _&&(Zn[_]=H.id),ve.publish("addGState",H),H}};p.addGState=function(_,H){return Jg(_,H),this},p.saveGraphicsState=function(){return Z("q"),Wn.push({key:Rt,size:Xe,color:Ou}),this},p.restoreGraphicsState=function(){Z("Q");var _=Wn.pop();return Rt=_.key,Xe=_.size,Ou=_.color,La=null,this},p.setCurrentTransformationMatrix=function(_){return Z(_.toString()+" cm"),this},p.comment=function(_){return Z("#"+_),this};var rf=function(_,H){var oe=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function($e){isNaN($e)||(oe=parseFloat($e))}});var xe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function($e){isNaN($e)||(xe=parseFloat($e))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function($e){Le=$e.toString()}}),this},G0=function(_,H,oe,xe){rf.call(this,_,H),this.type="rect";var Le=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(ct){isNaN(ct)||(Le=parseFloat(ct))}});var $e=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(ct){isNaN(ct)||($e=parseFloat(ct))}}),this},Y0=function(){this.page=Tr,this.currentPage=M,this.pages=He.slice(0),this.pagesContext=Ht.slice(0),this.x=$r,this.y=er,this.matrix=mn,this.width=Lu(M),this.height=oc(M),this.outputDestination=et,this.id="",this.objectNumber=-1};Y0.prototype.restore=function(){Tr=this.page,M=this.currentPage,Ht=this.pagesContext,He=this.pages,$r=this.x,er=this.y,mn=this.matrix,X0(M,this.width),$0(M,this.height),et=this.outputDestination};var Zg=function(_,H,oe,xe,Le){pt.push(new Y0),Tr=M=0,He=[],$r=_,er=H,mn=Le,I0([oe,xe])},ub=function(_){if(qe[_])pt.pop().restore();else{var H=new Y0,oe="Xo"+(Object.keys(Ae).length+1).toString(10);H.id=oe,qe[_]=oe,Ae[oe]=H,ve.publish("addFormObject",H),pt.pop().restore()}};for(var nf in p.beginFormObject=function(_,H,oe,xe,Le){return Zg(_,H,oe,xe,Le),this},p.endFormObject=function(_){return ub(_),this},p.doFormObject=function(_,H){var oe=Ae[qe[_]];return Z("q"),Z(H.toString()+" cm"),Z("/"+oe.id+" Do"),Z("Q"),this},p.getFormObject=function(_){var H=Ae[qe[_]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(_,H){return _=_||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Vu(Qh(al()),_),typeof Vu.unload=="function"&&Ut.setTimeout&&setTimeout(Vu.unload,911),this):new Promise(function(oe,xe){try{var Le=Vu(Qh(al()),_);typeof Vu.unload=="function"&&Ut.setTimeout&&setTimeout(Vu.unload,911),oe(Le)}catch($e){xe($e.message)}})},zt.API)zt.API.hasOwnProperty(nf)&&(nf==="events"&&zt.API.events.length?function(_,H){var oe,xe,Le;for(Le=H.length-1;Le!==-1;Le--)oe=H[Le][0],xe=H[Le][1],_.subscribe.apply(_,[oe].concat(typeof xe=="function"?[xe]:xe))}(ve,zt.API.events):p[nf]=zt.API[nf]);var Lu=p.getPageWidth=function(_){return(Ht[_=_||M].mediaBox.topRightX-Ht[_].mediaBox.bottomLeftX)/vt},X0=p.setPageWidth=function(_,H){Ht[_].mediaBox.topRightX=H*vt+Ht[_].mediaBox.bottomLeftX},oc=p.getPageHeight=function(_){return(Ht[_=_||M].mediaBox.topRightY-Ht[_].mediaBox.bottomLeftY)/vt},$0=p.setPageHeight=function(_,H){Ht[_].mediaBox.topRightY=H*vt+Ht[_].mediaBox.bottomLeftY};return p.internal={pdfEscape:la,getStyle:Gg,getFont:sb,getFontSize:ht,getCharSpace:cb,getTextColor:lb,getLineHeight:$g,getLineHeightFactor:Qg,getLineWidth:ef,write:je,getHorizontalCoordinate:wo,getVerticalCoordinate:sl,getCoordinateString:ob,getVerticalCoordinateString:sc,collections:{},newObject:yt,newAdditionalObject:te,newObjectDeferred:At,newObjectDeferredBegin:z,getFilters:De,putStream:Ve,events:ve,scaleFactor:vt,pageSize:{getWidth:function(){return Lu(M)},setWidth:function(_){X0(M,_)},getHeight:function(){return oc(M)},setHeight:function(_){$0(M,_)}},encryptionOptions:h,encryption:Ei,getEncryptor:eb,output:Jh,getNumberOfPages:$y,pages:He,out:Z,f2:W,f3:D,getPageInfo:Wg,getPageInfoByObjId:Gt,getCurrentPageInfo:tb,getPDFVersion:m,Point:rf,Rectangle:G0,Matrix:Be,hasHotfix:Vg},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Lu(M)},set:function(_){X0(M,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return oc(M)},set:function(_){$0(M,_)},enumerable:!0,configurable:!0}),Yy.call(p,Oe),Rt="F1",Ug(i,r),ve.publish("initialized"),p}Bf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Bf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Bf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Bf.prototype.processOwnerPassword=function(t,e){return d4(f4(e).substr(0,5),t)},Bf.prototype.encryptor=function(t,e){var r=f4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return d4(r,n)}},f2.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Rr(t)!==Rr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},zt.API={events:[]},zt.version="3.0.1";var yn=zt.API,W_=1,Hh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(t){return t.toFixed(2)},Cc=function(t){return t.toFixed(5)};yn.__acroform__={};var Oa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},mE=function(t){return t*W_},Ao=function(t){var e=new jP,r=Lt.internal.getHeight(t)||0,n=Lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Xt(n)),Number(Xt(r))],e},oJ=yn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},lJ=yn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},cJ=yn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},kn=yn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cJ(t,e-1)},On=yn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oJ(t,e-1)},Ln=yn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lJ(t,e-1)},uJ=yn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+o)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(a)||0,[Number(Xt(c.lowerLeft_X)),Number(Xt(c.lowerLeft_Y)),Number(Xt(c.upperRight_X)),Number(Xt(c.upperRight_Y))]},hJ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=p4(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Xt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ao(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},p4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var a=r,s=Lt.internal.getHeight(t)||0;s=s<0?-s:s;var o=Lt.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(D,O,q){if(D+1<i.length){var I=O+" "+i[D+1][0];return vx(I,t,q).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,h,f=vx("3",t,a).height,d=t.multiline?s-a:(s-f)/2,p=d+=2,x=0,m=0,y=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+vx(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",b=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&y!==i[S].length-1){if((f+2)*(b+2)+2>s)continue e;v+=i[S][y],T=!0,m=S,S--}else{v=(v+=i[S][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var E=parseInt(S),P=c(E,v,a),j=S>=i.length-1;if(P&&!j){v+=" ",y=0;continue}if(P||j){if(j)m=E;else if(t.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(b+2)+2>s)continue e;m=E}}for(var L="",F=x;F<=m;F++){var W=i[F];if(t.multiline){if(F===m){L+=W[y]+" ",y=(y+1)%W.length;continue}if(F===x){L+=W[W.length-1]+" ";continue}}L+=W[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=vx(L,t,a).width,t.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;case"left":default:u=2}e+=Xt(u)+" "+Xt(p)+` Td
`,e+="("+Hh(L)+`) Tj
`,e+=-Xt(u)+` 0 Td
`,p=-(a+2),h=0,x=T?m:m+1,b++,v=""}break}return n.text=e,n.fontSize=a,n},vx=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},fJ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dJ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},pJ=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),Rr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},mJ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(fJ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kP,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&dJ(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=uJ(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Lt.createDefaultAppearanceStream(o),Rr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=hJ(o);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var f="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var p=o.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var x=p[s];typeof x=="function"&&(x=x.call(i,o)),f+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(i,o)),f+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}a&&pJ(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},EP=yn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Rr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Hh(n(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vw=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Hh(n(t))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:EP(i,this.objId,this.scope)}):i instanceof qo?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var jP=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Oa(jP,qo);var kP=function(){qo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Hh(r(t))+")"}},set:function(r){t=r}})};Oa(kP,qo);var mo=function t(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kn(e,3)},set:function(v){v?this.F=On(e,3):this.F=Ln(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof d2)return;a="FieldObject"+t.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Hh(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/W_:u},set:function(v){u=v}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(v){h=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof d2||this instanceof yh))return Vw(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ii?d:Vw(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof ii?v:v.substr(0,1)==="("?Tf(v.substr(1,v.length-2)):Tf(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii?Tf(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof ii?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ii?p:Vw(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof ii?v:v.substr(0,1)==="("?Tf(v.substr(1,v.length-2)):Tf(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii?Tf(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof ii?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(v){v=!!v,m=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(v){x=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,1)},set:function(v){v?this.Ff=On(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,2)},set:function(v){v?this.Ff=On(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,3)},set:function(v){v?this.Ff=On(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Oa(mo,qo);var yd=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EP(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var c,u=[];c=s.exec(a);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,18)},set:function(r){r?this.Ff=On(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=On(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,20)},set:function(r){r?(this.Ff=On(this.Ff,20),e.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,22)},set:function(r){r?this.Ff=On(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(r){r?this.Ff=On(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,27)},set:function(r){r?this.Ff=On(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Oa(yd,mo);var bd=function(){yd.call(this),this.fontName="helvetica",this.combo=!1};Oa(bd,yd);var wd=function(){bd.call(this),this.combo=!0};Oa(wd,bd);var ov=function(){wd.call(this),this.edit=!0};Oa(ov,wd);var ii=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,15)},set:function(r){r?this.Ff=On(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,16)},set:function(r){r?this.Ff=On(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,17)},set:function(r){r?this.Ff=On(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(r){r?this.Ff=On(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Hh(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Rr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Oa(ii,mo);var lv=function(){ii.call(this),this.pushButton=!0};Oa(lv,ii);var Sd=function(){ii.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Oa(Sd,ii);var d2=function(){var t,e;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Hh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Rr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oa(d2,mo),Sd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Sd.prototype.createOption=function(t){var e=new d2;return e.Parent=this,e.optionName=t,this.Kids.push(e),gJ.call(this.scope,e),e};var cv=function(){ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};Oa(cv,ii);var yh=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,13)},set:function(e){e?this.Ff=On(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,21)},set:function(e){e?this.Ff=On(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,23)},set:function(e){e?this.Ff=On(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,24)},set:function(e){e?this.Ff=On(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,25)},set:function(e){e?this.Ff=On(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,26)},set:function(e){e?this.Ff=On(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oa(yh,mo);var uv=function(){yh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kn(this.Ff,14)},set:function(t){t?this.Ff=On(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};Oa(uv,yh);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=p4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Xt(Lt.internal.getWidth(t))+" "+Xt(Lt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Xt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ao(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Lt.internal.getHeight(t),s=Lt.internal.getWidth(t),o=p4(t,t.caption);return i.push("1 g"),i.push("0 0 "+Xt(s)+" "+Xt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xt(s-1)+" "+Xt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Xt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(Lt.internal.getWidth(t))+" "+Xt(Lt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Circle.YesNormal,e.D[t]=Lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Lt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Cc(Lt.internal.getWidth(t)/2)+" "+Cc(Lt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Lt.internal.Bezier_C).toFixed(5)),s=Number((n*Lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Cc(Lt.internal.getWidth(t)/2)+" "+Cc(Lt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Cc(Lt.internal.getWidth(t)/2)+" "+Cc(Lt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Cc(Lt.internal.getWidth(t)/2)+" "+Cc(Lt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Cross.YesNormal,e.D[t]=Lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=Lt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Xt(Lt.internal.getWidth(t)-2)+" "+Xt(Lt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(n.x1.x)+" "+Xt(n.x1.y)+" m"),r.push(Xt(n.x2.x)+" "+Xt(n.x2.y)+" l"),r.push(Xt(n.x4.x)+" "+Xt(n.x4.y)+" m"),r.push(Xt(n.x3.x)+" "+Xt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=Lt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Xt(Lt.internal.getWidth(t))+" "+Xt(Lt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Xt(Lt.internal.getWidth(t)-2)+" "+Xt(Lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),n.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),n.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),n.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(Lt.internal.getWidth(t))+" "+Xt(Lt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Lt.internal.getWidth(t),r=Lt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Lt.internal.getWidth=function(t){var e=0;return Rr(t)==="object"&&(e=mE(t.Rect[2])),e},Lt.internal.getHeight=function(t){var e=0;return Rr(t)==="object"&&(e=mE(t.Rect[3])),e};var gJ=yn.addField=function(t){if(mJ(this,t),!(t instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yn.AcroFormChoiceField=yd,yn.AcroFormListBox=bd,yn.AcroFormComboBox=wd,yn.AcroFormEditBox=ov,yn.AcroFormButton=ii,yn.AcroFormPushButton=lv,yn.AcroFormRadioButton=Sd,yn.AcroFormCheckBox=cv,yn.AcroFormTextField=yh,yn.AcroFormPasswordField=uv,yn.AcroFormAppearance=Lt,yn.AcroForm={ChoiceField:yd,ListBox:bd,ComboBox:wd,EditBox:ov,Button:ii,PushButton:lv,RadioButton:Sd,CheckBox:cv,TextField:yh,PasswordField:uv,Appearance:Lt},zt.AcroForm={ChoiceField:yd,ListBox:bd,ComboBox:wd,EditBox:ov,Button:ii,PushButton:lv,RadioButton:Sd,CheckBox:cv,TextField:yh,PasswordField:uv,Appearance:Lt};zt.AcroForm;function OP(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(D,O){var q,I,ae,X,le,re=e;if((O=O||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(P(D))for(le in r)for(ae=r[le],q=0;q<ae.length;q+=1){for(X=!0,I=0;I<ae[q].length;I+=1)if(ae[q][I]!==void 0&&ae[q][I]!==D[I]){X=!1;break}if(X===!0){re=le;break}}else for(le in r)for(ae=r[le],q=0;q<ae.length;q+=1){for(X=!0,I=0;I<ae[q].length;I+=1)if(ae[q][I]!==void 0&&ae[q][I]!==D.charCodeAt(I)){X=!1;break}if(X===!0){re=le;break}}return re===e&&O!==e&&(re=O),re},i=function D(O){for(var q=this.internal.write,I=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:O.width}),X.push({key:"Height",value:O.height}),O.colorSpace===y.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===y.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var le="",re=0,ue=O.transparency.length;re<ue;re++)le+=O.transparency[re]+" "+O.transparency[re]+" ";X.push({key:"Mask",value:"["+le+"]"})}O.sMask!==void 0&&X.push({key:"SMask",value:O.objectId+1+" 0 R"});var ge=O.filter!==void 0?["/"+O.filter]:void 0;if(I({data:O.data,additionalKeyValues:X,alreadyAppliedFilters:ge,objectId:O.objectId}),q("endobj"),"sMask"in O&&O.sMask!==void 0){var Ge="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,A={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:Ge,data:O.sMask};"filter"in O&&(A.filter=O.filter),D.call(this,A)}if(O.colorSpace===y.INDEXED){var M=this.internal.newObject();I({data:L(new Uint8Array(O.palette)),objectId:M}),q("endobj")}},a=function(){var D=this.internal.collections.addImage_images;for(var O in D)i.call(this,D[O])},s=function(){var D,O=this.internal.collections.addImage_images,q=this.internal.write;for(var I in O)q("/I"+(D=O[I]).index,D.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var D=this.internal.collections.addImage_images;return o.call(this),D},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(D){return typeof t["process"+D.toUpperCase()]=="function"},f=function(D){return Rr(D)==="object"&&D.nodeType===1},d=function(D,O){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var q=""+D.getAttribute("src");if(q.indexOf("data:image/")===0)return om(unescape(q).split("base64,").pop());var I=t.loadFile(q,!0);if(I!==void 0)return I}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ae;switch(O){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return om(D.toDataURL(ae,1).split("base64,").pop())}},p=function(D){var O=this.internal.collections.addImage_images;if(O){for(var q in O)if(D===O[q].alias)return O[q]}},x=function(D,O,q){return D||O||(D=-96,O=-96),D<0&&(D=-1*q.width*72/D/this.internal.scaleFactor),O<0&&(O=-1*q.height*72/O/this.internal.scaleFactor),D===0&&(D=O*q.width/q.height),O===0&&(O=D*q.height/q.width),[D,O]},m=function(D,O,q,I,ae,X){var le=x.call(this,q,I,ae),re=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ge=c.call(this);if(q=le[0],I=le[1],ge[ae.index]=ae,X){X*=Math.PI/180;var Ge=Math.cos(X),A=Math.sin(X),M=function(B){return B.toFixed(4)},R=[M(Ge),M(A),M(-1*A),M(Ge),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,re(D),ue(O+I),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([re(q),"0","0",re(I),"0","0","cm"].join(" "))):this.internal.write([re(q),"0","0",re(I),re(D),ue(O+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(D){var O,q,I=0;if(typeof D=="string")for(q=D.length,O=0;O<q;O++)I=(I<<5)-I+D.charCodeAt(O),I|=0;else if(P(D))for(q=D.byteLength/2,O=0;O<q;O++)I=(I<<5)-I+D[O],I|=0;return I},S=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var O=!0;return D.length===0&&(O=!1),D.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(O=!1),O},T=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var O=D.indexOf(",");return O<0?null:D.substring(0,O).trim().endsWith("base64")?D.substring(O+1):null},E=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return E()&&D instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(D){return E()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},j=t.__addimage__.binaryStringToUint8Array=function(D){for(var O=D.length,q=new Uint8Array(O),I=0;I<O;I++)q[I]=D.charCodeAt(I);return q},L=t.__addimage__.arrayBufferToBinaryString=function(D){for(var O="",q=P(D)?D:new Uint8Array(D),I=0;I<q.length;I+=8192)O+=String.fromCharCode.apply(null,q.subarray(I,I+8192));return O};t.addImage=function(){var D,O,q,I,ae,X,le,re,ue;if(typeof arguments[1]=="number"?(O=e,q=arguments[1],I=arguments[2],ae=arguments[3],X=arguments[4],le=arguments[5],re=arguments[6],ue=arguments[7]):(O=arguments[1],q=arguments[2],I=arguments[3],ae=arguments[4],X=arguments[5],le=arguments[6],re=arguments[7],ue=arguments[8]),Rr(D=arguments[0])==="object"&&!f(D)&&"imageData"in D){var ge=D;D=ge.imageData,O=ge.format||O||e,q=ge.x||q||0,I=ge.y||I||0,ae=ge.w||ge.width||ae,X=ge.h||ge.height||X,le=ge.alias||le,re=ge.compression||re,ue=ge.rotation||ge.angle||ue}var Ge=this.internal.getFilters();if(re===void 0&&Ge.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(q)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var A=F.call(this,D,O,le,re);return m.call(this,q,I,ae,X,A,ue),this};var F=function(D,O,q,I){var ae,X,le;if(typeof D=="string"&&n(D)===e){D=unescape(D);var re=W(D,!1);(re!==""||(re=t.loadFile(D,!0))!==void 0)&&(D=re)}if(f(D)&&(D=d(D,O)),O=n(D,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((le=q)==null||le.length===0)&&(q=function(ue){return typeof ue=="string"||P(ue)?b(ue):P(ue.data)?b(ue.data):null}(D)),(ae=p.call(this,q))||(E()&&(D instanceof Uint8Array||O==="RGBA"||(X=D,D=j(D))),ae=this["process"+O.toUpperCase()](D,u.call(this),q,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:v.NONE}(I),X)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},W=t.__addimage__.convertBase64ToBinaryString=function(D,O){O=typeof O!="boolean"||O;var q,I="";if(typeof D=="string"){var ae;q=(ae=T(D))!==null&&ae!==void 0?ae:D;try{I=om(q)}catch(X){if(O)throw S(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};t.getImageProperties=function(D){var O,q,I="";if(f(D)&&(D=d(D)),typeof D=="string"&&n(D)===e&&((I=W(D,!1))===""&&(I=t.loadFile(D)||""),D=I),q=n(D),!h(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!E()||D instanceof Uint8Array||(D=j(D)),!(O=this["process"+q.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=q,O}})(zt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){n=u[d];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(m.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(v(b))+") >>",m.content=a;var S=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var h=this.splitTextToSize(r,o).length;s=Math.ceil(u*h)}else o=c,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,o,s,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(zt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var y=0,v=r,b="",S=0;for(y=0;y<m.length;y+=1)v[m.charCodeAt(y)]!==void 0?(S++,typeof(v=v[m.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(v),v=r,S=0),y===m.length-1&&(v=r,b+=m.charAt(y-(S-1)),y-=S-1,S=0)):(v=r,b+=m.charAt(y-S),y-=S,S=0);return b};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(m,y,v){return s(m)?a(m)===!1?-1:!u(m)||!s(y)&&!s(v)||!s(v)&&o(y)||o(m)&&!s(y)||o(m)&&c(y)||o(m)&&o(y)?0:h(m)&&s(y)&&!o(y)&&s(v)&&u(v)?3:o(m)||!s(v)?1:2:-1},p=function(m){var y=0,v=0,b=0,S="",T="",E="",P=(m=m||"").split("\\s+"),j=[];for(y=0;y<P.length;y+=1){for(j.push(""),v=0;v<P[y].length;v+=1)S=P[y][v],T=P[y][v-1],E=P[y][v+1],s(S)?(b=d(S,T,E),j[y]+=b!==-1?String.fromCharCode(e[S.charCodeAt(0)][b]):S):j[y]+=S;j[y]=f(j[y])}return j.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var b=0;for(v=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?v.push([p(y[b][0]),y[b][1],y[b][2]]):v.push([p(y[b])]);m=v}else m=p(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",x])}(zt.API),zt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(zt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(m){x=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,p=0,x=0,m=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,T){return S.concat(y.splitTextToSize(T,v))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(m=this.getStringUnitWidth(c[b],{font:f})*h)&&(p=m);return p!==0&&(x=c.length),{w:p/=d,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&d&&(this.printHeaderRow(c.lineNumber,!0),c.y+=d[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,h,f,d){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,x,m,y,v=[],b=[],S=[],T={},E={},P=[],j=[],L=(d=d||{}).autoSize||!1,F=d.printHeaders!==!1,W=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,D=d.margins||Object.assign({width:this.getPageWidth()},e),O=typeof d.padding=="number"?d.padding:3,q=d.headerBackgroundColor||"#c8c8c8",I=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=I,this.setFontSize(W),f==null)b=v=Object.keys(h[0]),S=v.map(function(){return"left"});else if(Array.isArray(f)&&Rr(f[0])==="object")for(v=f.map(function(ge){return ge.name}),b=f.map(function(ge){return ge.prompt||ge.name||""}),S=f.map(function(ge){return ge.align||"left"}),p=0;p<f.length;p+=1)E[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,S=v.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(T[y=v[p]]=h.map(function(ge){return ge[y]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=T[y],this.setFont(void 0,"normal"),m=0;m<x.length;m+=1)P.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[y]=Math.max.apply(null,P)+O+O,P=[]}if(F){var ae={};for(p=0;p<v.length;p+=1)ae[v[p]]={},ae[v[p]].text=b[p],ae[v[p]].align=S[p];var X=o.call(this,ae,E);j=v.map(function(ge){return new a(c,u,E[ge],X,ae[ge].text,void 0,ae[ge].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var le=f.reduce(function(ge,Ge){return ge[Ge.name]=Ge.align,ge},{});for(p=0;p<h.length;p+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:p,data:h[p]},this);var re=o.call(this,h[p],E);for(m=0;m<v.length;m+=1){var ue=h[p][v[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:p,col:m,data:ue},this),s.call(this,new a(c,u,E[v[m]],re,ue,p+2,le[v[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(c).map(function(p){var x=c[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/d+h+h},this).reduce(function(p,x){return Math.max(p,x)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,d.push(h)),h.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(x)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(zt.API);var LP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},DP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],m4=OP(DP),PP=[100,200,300,400,500,600,700,800,900],xJ=OP(PP);function g4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return LP[a=a||"normal"]?a:"normal"}(t.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof m4[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function gE(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var vJ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function yJ(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},vJ,r.genericFontFamilies||{}),a=null,s=null,o=0;o<e.length;++o)if(i[(a=g4(e[o])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+vE(a)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var h=m4[c],f=h<=m4.normal?-1:1,d=gE(u,DP,h,f);if(!d)throw new Error("Could not find a matching font-stretch value for "+c);return d}(a.stretch,s),s=function(c,u){if(u[c])return u[c];for(var h=LP[c],f=0;f<h.length;++f)if(u[h[f]])return u[h[f]];throw new Error("Could not find a matching font-style for "+c)}(a.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var h=xJ[c],f=gE(u,PP,h,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+vE(a)+"'.");return s}function yE(t){return t.trimLeft()}function bJ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function wJ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var yx,bE,wE,Ww=["times"];(function(t){var e,r,n,i,a,s,o,c,u,h=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new s,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new s,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var f=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=A;Object.defineProperty(this,"pdf",{get:function(){return M}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function(ce){R=!!ce}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(ce){B=!!ce}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(ce){isNaN(ce)||(Q=ce)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(ce){isNaN(ce)||(fe=ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ce){var Z;typeof ce=="number"?Z=[ce,ce,ce,ce]:((Z=new Array(4))[0]=ce[0],Z[1]=ce.length>=2?ce[1]:Z[0],Z[2]=ce.length>=3?ce[2]:Z[0],Z[3]=ce.length>=4?ce[3]:Z[1]),u.margin=Z}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ce){he=ce}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(ce){pe=ce}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(ce){Te=ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ce){ce instanceof h&&(u=ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ce){u.path=ce}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(ce){He=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var Z;Z=d(ce),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var Z=d(ce);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var Qe=null;function et(ce,Z){if(Qe===null){var je=function(Ce){var Oe=[];return Object.keys(Ce).forEach(function(Xe){Ce[Xe].forEach(function(st){var ht=null;switch(st){case"bold":ht={family:Xe,weight:"bold"};break;case"italic":ht={family:Xe,style:"italic"};break;case"bolditalic":ht={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:Xe}}ht!==null&&(ht.ref={name:Xe,style:st},Oe.push(ht))})}),Oe}(ce.getFontList());Qe=function(Ce){for(var Oe={},Xe=0;Xe<Ce.length;++Xe){var st=g4(Ce[Xe]),ht=st.family,Ct=st.stretch,Ue=st.style,it=st.weight;Oe[ht]=Oe[ht]||{},Oe[ht][Ct]=Oe[ht][Ct]||{},Oe[ht][Ct][Ue]=Oe[ht][Ct][Ue]||{},Oe[ht][Ct][Ue][it]=st}return Oe}(je.concat(Z))}return Qe}var me=null;Object.defineProperty(this,"fontFaces",{get:function(){return me},set:function(ce){Qe=null,me=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var Z;if(this.ctx.font=ce,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ce))!==null){var je=Z[1];Z[2];var Ce=Z[3],Oe=Z[4];Z[5];var Xe=Z[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(st==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var ht=function(Dt){var Rt,vt,$r=[],er=Dt.trim();if(er==="")return Ww;if(er in xE)return[xE[er]];for(;er!=="";){switch(vt=null,Rt=(er=yE(er)).charAt(0)){case'"':case"'":vt=bJ(er.substring(1),Rt);break;default:vt=wJ(er)}if(vt===null||($r.push(vt[0]),(er=yE(vt[1]))!==""&&er.charAt(0)!==","))return Ww;er=er.replace(/^,/,"")}return $r}(Xe);if(this.fontFaces){var Ct=yJ(et(this.pdf,this.fontFaces),ht.map(function(Dt){return{family:Dt,stretch:"normal",weight:Ce,style:je}}));this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var Ue="";(Ce==="bold"||parseInt(Ce,10)>=700||je==="bold")&&(Ue="bold"),je==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var it="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<ht.length;St++){if(this.pdf.internal.getFont(ht[St],Ue,{noFallback:!0,disableWarning:!0})!==void 0){it=ht[St];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(ht[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=ht[St],Ue="bold";else if(this.pdf.internal.getFont(ht[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=ht[St],Ue="normal";break}}if(it===""){for(var Pt=0;Pt<ht.length;Pt++)if(bt[ht[Pt]]){it=bt[ht[Pt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,Ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,Ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};f.prototype.setLineDash=function(A){this.lineDash=A},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(A,M){if(isNaN(A)||isNaN(M))throw Yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new s(A,M));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new s(A,M)},f.prototype.closePath=function(){var A=new s(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Rr(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){A=new s(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(A.x,A.y)},f.prototype.lineTo=function(A,M){if(isNaN(A)||isNaN(M))throw Yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new s(A,M));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new s(R.x,R.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(A,M,R,B){if(isNaN(R)||isNaN(B)||isNaN(A)||isNaN(M))throw Yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(R,B)),fe=this.ctx.transform.applyToPoint(new s(A,M));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.bezierCurveTo=function(A,M,R,B,Q,fe){if(isNaN(Q)||isNaN(fe)||isNaN(A)||isNaN(M)||isNaN(R)||isNaN(B))throw Yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(Q,fe)),pe=this.ctx.transform.applyToPoint(new s(A,M)),Te=this.ctx.transform.applyToPoint(new s(R,B));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Te.x,y2:Te.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},f.prototype.arc=function(A,M,R,B,Q,fe){if(isNaN(A)||isNaN(M)||isNaN(R)||isNaN(B)||isNaN(Q))throw Yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(A,M));A=he.x,M=he.y;var pe=this.ctx.transform.applyToPoint(new s(0,R)),Te=this.ctx.transform.applyToPoint(new s(0,0));R=Math.sqrt(Math.pow(pe.x-Te.x,2)+Math.pow(pe.y-Te.y,2))}Math.abs(Q-B)>=2*Math.PI&&(B=0,Q=2*Math.PI),this.path.push({type:"arc",x:A,y:M,radius:R,startAngle:B,endAngle:Q,counterclockwise:fe})},f.prototype.arcTo=function(A,M,R,B,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(A,M,R,B){if(isNaN(A)||isNaN(M)||isNaN(R)||isNaN(B))throw Yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,M),this.lineTo(A+R,M),this.lineTo(A+R,M+B),this.lineTo(A,M+B),this.lineTo(A,M),this.lineTo(A+R,M),this.lineTo(A,M)},f.prototype.fillRect=function(A,M,R,B){if(isNaN(A)||isNaN(M)||isNaN(R)||isNaN(B))throw Yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,M,R,B),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(A,M,R,B){if(isNaN(A)||isNaN(M)||isNaN(R)||isNaN(B))throw Yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(A,M,R,B),this.stroke())},f.prototype.clearRect=function(A,M,R,B){if(isNaN(A)||isNaN(M)||isNaN(R)||isNaN(B))throw Yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,M,R,B))},f.prototype.save=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},f.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(M),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(A){var M,R,B,Q;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))M=0,R=0,B=0,Q=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(fe!==null)M=parseInt(fe[1]),R=parseInt(fe[2]),B=parseInt(fe[3]),Q=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)M=parseInt(fe[1]),R=parseInt(fe[2]),B=parseInt(fe[3]),Q=parseFloat(fe[4]);else{if(Q=1,typeof A=="string"&&A.charAt(0)!=="#"){var he=new TP(A);A=he.ok?he.toHex():"#000000"}A.length===4?(M=A.substring(1,2),M+=M,R=A.substring(2,3),R+=R,B=A.substring(3,4),B+=B):(M=A.substring(1,3),R=A.substring(3,5),B=A.substring(5,7)),M=parseInt(M,16),R=parseInt(R,16),B=parseInt(B,16)}}return{r:M,g:R,b:B,a:Q,style:A}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(A,M,R,B){if(isNaN(M)||isNaN(R)||typeof A!="string")throw Yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!p.call(this)){var Q=re(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;O.call(this,{text:A,x:M,y:R,scale:fe,angle:Q,align:this.textAlign,maxWidth:B})}},f.prototype.strokeText=function(A,M,R,B){if(isNaN(M)||isNaN(R)||typeof A!="string")throw Yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){B=isNaN(B)?void 0:B;var Q=re(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;O.call(this,{text:A,x:M,y:R,scale:fe,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:B})}},f.prototype.measureText=function(A){if(typeof A!="string")throw Yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,R=this.pdf.internal.scaleFactor,B=M.internal.getFontSize(),Q=M.getStringUnitWidth(A)*B/M.internal.scaleFactor,fe=function(he){var pe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new fe({width:Q*=Math.round(96*R/72*1e4)/1e4})},f.prototype.scale=function(A,M){if(isNaN(A)||isNaN(M))throw Yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new c(A,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.rotate=function(A){if(isNaN(A))throw Yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.translate=function(A,M){if(isNaN(A)||isNaN(M))throw Yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new c(1,0,0,1,A,M);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.transform=function(A,M,R,B,Q,fe){if(isNaN(A)||isNaN(M)||isNaN(R)||isNaN(B)||isNaN(Q)||isNaN(fe))throw Yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new c(A,M,R,B,Q,fe);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(A,M,R,B,Q,fe){A=isNaN(A)?1:A,M=isNaN(M)?0:M,R=isNaN(R)?0:R,B=isNaN(B)?1:B,Q=isNaN(Q)?0:Q,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(A,M,R,B,Q,fe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(A,M,R,B,Q,fe,he,pe,Te){var He=this.pdf.getImageProperties(A),Qe=1,et=1,me=1,ce=1;B!==void 0&&pe!==void 0&&(me=pe/B,ce=Te/Q,Qe=He.width/B*pe/B,et=He.height/Q*Te/Q),fe===void 0&&(fe=M,he=R,M=0,R=0),B!==void 0&&pe===void 0&&(pe=B,Te=Q),B===void 0&&pe===void 0&&(pe=He.width,Te=He.height);for(var Z,je=this.ctx.transform.decompose(),Ce=re(je.rotate.shx),Oe=new c,Xe=(Oe=(Oe=(Oe=Oe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new o(fe-M*me,he-R*ce,B*Qe,Q*et)),st=y.call(this,Xe),ht=[],Ct=0;Ct<st.length;Ct+=1)ht.indexOf(st[Ct])===-1&&ht.push(st[Ct]);if(S(ht),this.autoPaging)for(var Ue=ht[0],it=ht[ht.length-1],bt=Ue;bt<it+1;bt++){this.pdf.setPage(bt);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=bt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=bt===1?0:Dt+(bt-2)*Rt;if(this.ctx.clip_path.length!==0){var $r=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Z,this.posX+this.margin[3],-vt+Pt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=$r}var er=JSON.parse(JSON.stringify(Xe));er=b([er],this.posX+this.margin[3],-vt+Pt+this.ctx.prevPageLastElemOffset)[0];var mn=(bt>Ue||bt<it)&&m.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Rt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",er.x,er.y,er.w,er.h,null,null,Ce),mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,Ce)};var y=function(A,M,R){var B=[];M=M||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":B.push(Math.floor((A.y+Q)/R)+1);break;case"arc":B.push(Math.floor((A.y+Q-A.radius)/R)+1),B.push(Math.floor((A.y+Q+A.radius)/R)+1);break;case"qct":var fe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);B.push(Math.floor((fe.y+Q)/R)+1),B.push(Math.floor((fe.y+fe.h+Q)/R)+1);break;case"bct":var he=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);B.push(Math.floor((he.y+Q)/R)+1),B.push(Math.floor((he.y+he.h+Q)/R)+1);break;case"rect":B.push(Math.floor((A.y+Q)/R)+1),B.push(Math.floor((A.y+A.h+Q)/R)+1)}for(var pe=0;pe<B.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<B[pe];)v.call(this);return B},v=function(){var A=this.fillStyle,M=this.strokeStyle,R=this.font,B=this.lineCap,Q=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=M,this.font=R,this.lineCap=B,this.lineWidth=Q,this.lineJoin=fe},b=function(A,M,R){for(var B=0;B<A.length;B++)switch(A[B].type){case"bct":A[B].x2+=M,A[B].y2+=R;case"qct":A[B].x1+=M,A[B].y1+=R;case"mt":case"lt":case"arc":default:A[B].x+=M,A[B].y+=R}return A},S=function(A){return A.sort(function(M,R){return M-R})},T=function(A,M){for(var R,B,Q=this.fillStyle,fe=this.strokeStyle,he=this.lineCap,pe=this.lineWidth,Te=Math.abs(pe*this.ctx.transform.scaleX),He=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),me=[],ce=0;ce<et.length;ce++)if(et[ce].x!==void 0)for(var Z=y.call(this,et[ce]),je=0;je<Z.length;je+=1)me.indexOf(Z[je])===-1&&me.push(Z[je]);for(var Ce=0;Ce<me.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<me[Ce];)v.call(this);if(S(me),this.autoPaging)for(var Oe=me[0],Xe=me[me.length-1],st=Oe;st<Xe+1;st++){this.pdf.setPage(st),this.fillStyle=Q,this.strokeStyle=fe,this.lineCap=he,this.lineWidth=Te,this.lineJoin=He;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=st===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=st===1?0:Ue+(st-2)*it;if(this.ctx.clip_path.length!==0){var St=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(R,this.posX+this.margin[3],-bt+Ct+this.ctx.prevPageLastElemOffset),E.call(this,A,!0),this.path=St}if(B=JSON.parse(JSON.stringify(Qe)),this.path=b(B,this.posX+this.margin[3],-bt+Ct+this.ctx.prevPageLastElemOffset),M===!1||st===0){var Pt=(st>Oe||st<Xe)&&m.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,it,null).clip().discardPath()),E.call(this,A,M),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Te,E.call(this,A,M),this.lineWidth=pe;this.path=Qe},E=function(A,M){if((A!=="stroke"||M||!x.call(this))&&(A==="stroke"||M||!p.call(this))){for(var R,B,Q=[],fe=this.path,he=0;he<fe.length;he++){var pe=fe[he];switch(pe.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:pe,deltas:[],abs:[]});break;case"lt":var Te=Q.length;if(fe[he-1]&&!isNaN(fe[he-1].x)&&(R=[pe.x-fe[he-1].x,pe.y-fe[he-1].y],Te>0)){for(;Te>=0;Te--)if(Q[Te-1].close!==!0&&Q[Te-1].begin!==!0){Q[Te-1].deltas.push(R),Q[Te-1].abs.push(pe);break}}break;case"bct":R=[pe.x1-fe[he-1].x,pe.y1-fe[he-1].y,pe.x2-fe[he-1].x,pe.y2-fe[he-1].y,pe.x-fe[he-1].x,pe.y-fe[he-1].y],Q[Q.length-1].deltas.push(R);break;case"qct":var He=fe[he-1].x+2/3*(pe.x1-fe[he-1].x),Qe=fe[he-1].y+2/3*(pe.y1-fe[he-1].y),et=pe.x+2/3*(pe.x1-pe.x),me=pe.y+2/3*(pe.y1-pe.y),ce=pe.x,Z=pe.y;R=[He-fe[he-1].x,Qe-fe[he-1].y,et-fe[he-1].x,me-fe[he-1].y,ce-fe[he-1].x,Z-fe[he-1].y],Q[Q.length-1].deltas.push(R);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(pe)}}B=M?null:A==="stroke"?"stroke":"fill";for(var je=!1,Ce=0;Ce<Q.length;Ce++)if(Q[Ce].arc)for(var Oe=Q[Ce].abs,Xe=0;Xe<Oe.length;Xe++){var st=Oe[Xe];st.type==="arc"?L.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,M,!je):q.call(this,st.x,st.y),je=!0}else if(Q[Ce].close===!0)this.pdf.internal.out("h"),je=!1;else if(Q[Ce].begin!==!0){var ht=Q[Ce].start.x,Ct=Q[Ce].start.y;I.call(this,Q[Ce].deltas,ht,Ct),je=!0}B&&F.call(this,B),M&&W.call(this)}},P=function(A){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-R;case"top":return A+M-R;case"hanging":return A+M-2*R;case"middle":return A+M/2-R;case"ideographic":return A;case"alphabetic":default:return A}},j=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(M,R){this.colorStops.push([M,R])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(A,M,R,B,Q,fe,he,pe,Te){for(var He=X.call(this,R,B,Q,fe),Qe=0;Qe<He.length;Qe++){var et=He[Qe];Qe===0&&(Te?D.call(this,et.x1+A,et.y1+M):q.call(this,et.x1+A,et.y1+M)),ae.call(this,A,M,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}pe?W.call(this):F.call(this,he)},F=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(A,M){this.pdf.internal.out(r(A)+" "+n(M)+" m")},O=function(A){var M;switch(A.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var R=this.pdf.getTextDimensions(A.text),B=P.call(this,A.y),Q=j.call(this,B)-R.h,fe=this.ctx.transform.applyToPoint(new s(A.x,B)),he=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Te,He,Qe,et=this.ctx.transform.applyToRectangle(new o(A.x,B,R.w,R.h)),me=pe.applyToRectangle(new o(A.x,Q,R.w,R.h)),ce=y.call(this,me),Z=[],je=0;je<ce.length;je+=1)Z.indexOf(ce[je])===-1&&Z.push(ce[je]);if(S(Z),this.autoPaging)for(var Ce=Z[0],Oe=Z[Z.length-1],Xe=Ce;Xe<Oe+1;Xe++){this.pdf.setPage(Xe);var st=Xe===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[2],Ue=Ct-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],bt=it-this.margin[3],St=Xe===1?0:ht+(Xe-2)*Ue;if(this.ctx.clip_path.length!==0){var Pt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Te,this.posX+this.margin[3],-1*St+st),E.call(this,"fill",!0),this.path=Pt}var Dt=b([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-St+st+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*A.scale),Qe=this.lineWidth,this.lineWidth=Qe*A.scale);var Rt=this.autoPaging!=="text";if(Rt||Dt.y+Dt.h<=Ct){if(Rt||Dt.y>=st&&Dt.x<=it){var vt=Rt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||it-Dt.x)[0],$r=b([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-St+st+this.ctx.prevPageLastElemOffset)[0],er=Rt&&(Xe>Ce||Xe<Oe)&&m.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ue,null).clip().discardPath()),this.pdf.text(vt,$r.x,$r.y,{angle:A.angle,align:M,renderingMode:A.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else Dt.y<Ct&&(this.ctx.prevPageLastElemOffset+=Ct-Dt.y);A.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Qe)}else A.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*A.scale),Qe=this.lineWidth,this.lineWidth=Qe*A.scale),this.pdf.text(A.text,fe.x+this.posX,fe.y+this.posY,{angle:A.angle,align:M,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Qe)},q=function(A,M,R,B){R=R||0,B=B||0,this.pdf.internal.out(r(A+R)+" "+n(M+B)+" l")},I=function(A,M,R){return this.pdf.lines(A,M,R,null,null)},ae=function(A,M,R,B,Q,fe,he,pe){this.pdf.internal.out([e(i(R+A)),e(a(B+M)),e(i(Q+A)),e(a(fe+M)),e(i(he+A)),e(a(pe+M)),"c"].join(" "))},X=function(A,M,R,B){for(var Q=2*Math.PI,fe=Math.PI/2;M>R;)M-=Q;var he=Math.abs(R-M);he<Q&&B&&(he=Q-he);for(var pe=[],Te=B?-1:1,He=M;he>1e-5;){var Qe=He+Te*Math.min(he,fe);pe.push(le.call(this,A,He,Qe)),he-=Math.abs(Qe-He),He=Qe}return pe},le=function(A,M,R){var B=(R-M)/2,Q=A*Math.cos(B),fe=A*Math.sin(B),he=Q,pe=-fe,Te=he*he+pe*pe,He=Te+he*Q+pe*fe,Qe=4/3*(Math.sqrt(2*Te*He)-He)/(he*fe-pe*Q),et=he-Qe*pe,me=pe+Qe*he,ce=et,Z=-me,je=B+M,Ce=Math.cos(je),Oe=Math.sin(je);return{x1:A*Math.cos(M),y1:A*Math.sin(M),x2:et*Ce-me*Oe,y2:et*Oe+me*Ce,x3:ce*Ce-Z*Oe,y3:ce*Oe+Z*Ce,x4:A*Math.cos(R),y4:A*Math.sin(R)}},re=function(A){return 180*A/Math.PI},ue=function(A,M,R,B,Q,fe){var he=A+.5*(R-A),pe=M+.5*(B-M),Te=Q+.5*(R-Q),He=fe+.5*(B-fe),Qe=Math.min(A,Q,he,Te),et=Math.max(A,Q,he,Te),me=Math.min(M,fe,pe,He),ce=Math.max(M,fe,pe,He);return new o(Qe,me,et-Qe,ce-me)},ge=function(A,M,R,B,Q,fe,he,pe){var Te,He,Qe,et,me,ce,Z,je,Ce,Oe,Xe,st,ht,Ct,Ue=R-A,it=B-M,bt=Q-R,St=fe-B,Pt=he-Q,Dt=pe-fe;for(He=0;He<41;He++)Ce=(Z=(Qe=A+(Te=He/40)*Ue)+Te*((me=R+Te*bt)-Qe))+Te*(me+Te*(Q+Te*Pt-me)-Z),Oe=(je=(et=M+Te*it)+Te*((ce=B+Te*St)-et))+Te*(ce+Te*(fe+Te*Dt-ce)-je),He==0?(Xe=Ce,st=Oe,ht=Ce,Ct=Oe):(Xe=Math.min(Xe,Ce),st=Math.min(st,Oe),ht=Math.max(ht,Ce),Ct=Math.max(Ct,Oe));return new o(Math.round(Xe),Math.round(st),Math.round(ht-Xe),Math.round(Ct-st))},Ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,M,R=(A=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:M}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(zt.API),function(t){var e=function(a){var s,o,c,u,h,f,d,p,x,m;for(o=[],c=0,u=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(f=(h=((h=((h=((h=(h-(m=h%85))/85)-(x=h%85))/85)-(p=h%85))/85)-(d=h%85))/85)%85,o.push(f+33,d+33,p+33,x+33,m+33)):o.push(122);return function(y,v){for(var b=v;b>0;b--)y.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(a){var s,o,c,u,h,f=String,d="length",p=255,x="charCodeAt",m="slice",y="replace";for(a[m](-2),a=a[m](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,h=(a+=s="uuuuu"[m](a[d]%5||5))[d];h>u;u+=5)o=52200625*(a[x](u)-33)+614125*(a[x](u+1)-33)+7225*(a[x](u+2)-33)+85*(a[x](u+3)-33)+(a[x](u+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(v,b){for(var S=b;S>0;S--)v.pop()}(c,s[d]),f.fromCharCode.apply(f,c)},n=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",c=0;c<a.length;c+=2)o+=String.fromCharCode("0x"+(a[c]+a[c+1]));return o},i=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=u4(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,s){var o=0,c=a||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(zt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,h){var f=new XMLHttpRequest,d=0,p=function(x){var m=x.length,y=[],v=String.fromCharCode;for(d=0;d<m;d+=1)y.push(v(255&x.charCodeAt(d)));return y.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(p(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(zt.API),function(t){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):a4(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):a4(()=>import("./purify.es-CQJ0hv7W.js"),[],import.meta.url)).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Rr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(s,o){var c=document.createElement(s);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},a=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),d=u.firstChild;d;d=d.nextSibling)h!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||f.appendChild(c(d,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var p=u[d],x=p.src.find(function(m){return m.format==="truetype"});x&&c.addFont(x.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,c,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,c,u){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,h).then(function(f){return c.updateProgress(1),f})})},a.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(u,s,o);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,zt.getPageSize=function(s,o,c){if(Rr(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,f=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var p,x=0,m=0;if(d.hasOwnProperty(f))x=d[f][1]/h,m=d[f][0]/h;else try{x=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",m>x&&(p=m,m=x,x=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>m&&(p=m,m=x,x=p)}return{width:m,height:x,unit:o,k:h,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(g4):null;var c=new a(o);return o.worker?c:c.from(s).doCallback()}}(zt.API),zt.API.addJS=function(t){return wE=t,this.internal.events.subscribe("postPutResources",function(){yx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yx!==void 0&&bE!==void 0&&this.internal.out("/Names <</JavaScript "+yx+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(a=0;a<u;a++){var f=r.internal.newObject();h.push(f);var d=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<h.length;a++)r.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(zt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var d,p=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,m={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=p,e.indexOf(f.charCodeAt(y+1))!==-1){d=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),m={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:d,numcomponents:f.charCodeAt(y+9)};break}p=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(zt.API);var Cf,bx,SE,_E,NE,SJ=function(){var t,e,r;function n(a){var s,o,c,u,h,f,d,p,x,m,y,v,b,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),x=(function(){var T,E;for(E=[],T=0;T<4;++T)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*h/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),a=(f!=null?f.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":d=(y=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,y.slice(0,d)),this.text[p]=String.fromCharCode.apply(String,y.slice(d+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(f,d,p,x){var m,y,v,b,S,T,E,P,j,L,F,W,D,O,q,I,ae,X,le,re,ue,ge=Math.ceil((u.width-f)/p),Ge=Math.ceil((u.height-d)/x),A=u.width==ge&&u.height==Ge;for(O=s*ge,W=A?o:new Uint8Array(O*Ge),T=a.length,D=0,y=0;D<Ge&&c<T;){switch(a[c++]){case 0:for(b=ae=0;ae<O;b=ae+=1)W[y++]=a[c++];break;case 1:for(b=X=0;X<O;b=X+=1)m=a[c++],S=b<s?0:W[y-s],W[y++]=(m+S)%256;break;case 2:for(b=le=0;le<O;b=le+=1)m=a[c++],v=(b-b%s)/s,q=D&&W[(D-1)*O+v*s+b%s],W[y++]=(q+m)%256;break;case 3:for(b=re=0;re<O;b=re+=1)m=a[c++],v=(b-b%s)/s,S=b<s?0:W[y-s],q=D&&W[(D-1)*O+v*s+b%s],W[y++]=(m+Math.floor((S+q)/2))%256;break;case 4:for(b=ue=0;ue<O;b=ue+=1)m=a[c++],v=(b-b%s)/s,S=b<s?0:W[y-s],D===0?q=I=0:(q=W[(D-1)*O+v*s+b%s],I=v&&W[(D-1)*O+(v-1)*s+b%s]),E=S+q-I,P=Math.abs(E-S),L=Math.abs(E-q),F=Math.abs(E-I),j=P<=L&&P<=F?S:L<=F?q:I,W[y++]=(m+j)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!A){var M=((d+D*x)*u.width+f)*s,R=D*O;for(b=0;b<ge;b+=1){for(var B=0;B<s;B+=1)o[M++]=W[R++];M+=(p-1)*s}}D++}}return a=eJ(a),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var a,s,o,c,u,h,f,d,p;for(o=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+o.length),c=0,a=0,s=f=0,d=o.length;f<d;s=f+=3)u[c++]=o[s],u[c++]=o[s+1],u[c++]=o[s+2],u[c++]=(p=h[a++])!=null?p:255;return u},n.prototype.copyToImageData=function(a,s){var o,c,u,h,f,d,p,x,m,y,v;if(c=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,o=!0),x=(u=a.data||a).length,f=m||s,h=d=0,c===1)for(;h<x;)p=m?4*s[h/4]:d,y=f[p++],u[h++]=y,u[h++]=y,u[h++]=y,u[h++]=o?f[p++]:255,d=p;else for(;h<x;)p=m?4*s[h/4]:d,u[h++]=f[p++],u[h++]=f[p++],u[h++]=f[p++],u[h++]=o?f[p++]:255,d=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{e=Ut.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var s,o,c,u,h,f,d,p;if(this.animation){for(p=[],o=h=0,f=(d=this.animation.frames).length;h<f;o=++h)s=d[o],c=a.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,p.push(s.image=t(c));return p}},n.prototype.renderFrame=function(a,s){var o,c,u;return o=(c=this.animation.frames)[s],u=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var s,o,c,u,h,f,d=this;return o=0,f=this.animation,u=f.numFrames,c=f.frames,h=f.numPlays,(s=function(){var p,x;if(p=o++%u,x=c[p],d.renderFrame(a,p),u>1&&o/u<h)return d.animation._timeout=setTimeout(s,x.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function _J(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var o=null,c=null;a&&(o=e,c=s,e+=3*s);var u=!0,h=[],f=0,d=null,p=0,x=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],!(1&m)&&(d=null),p=m>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],E=T>>6&1,P=1<<(7&T)+1,j=o,L=c,F=!1;T>>7&&(F=!0,j=e,L=P,e+=3*P);var W=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}h.push({x:y,y:v,width:b,height:S,has_local_palette:F,palette_offset:j,palette_size:L,data_offset:W,data_length:e-W,transparent_index:d,interlaced:!!E,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,q){var I=this.frameInfo(O),ae=I.width*I.height,X=new Uint8Array(ae);TE(t,I.data_offset,X,ae);var le=I.palette_offset,re=I.transparent_index;re===null&&(re=256);var ue=I.width,ge=r-ue,Ge=ue,A=4*(I.y*r+I.x),M=4*((I.y+I.height)*r+I.x),R=A,B=4*ge;I.interlaced===!0&&(B+=4*r*7);for(var Q=8,fe=0,he=X.length;fe<he;++fe){var pe=X[fe];if(Ge===0&&(Ge=ue,(R+=B)>=M&&(B=4*ge+4*r*(Q-1),R=A+(ue+ge)*(Q<<1),Q>>=1)),pe===re)R+=4;else{var Te=t[le+3*pe],He=t[le+3*pe+1],Qe=t[le+3*pe+2];q[R++]=Qe,q[R++]=He,q[R++]=Te,q[R++]=255}--Ge}},this.decodeAndBlitFrameRGBA=function(O,q){var I=this.frameInfo(O),ae=I.width*I.height,X=new Uint8Array(ae);TE(t,I.data_offset,X,ae);var le=I.palette_offset,re=I.transparent_index;re===null&&(re=256);var ue=I.width,ge=r-ue,Ge=ue,A=4*(I.y*r+I.x),M=4*((I.y+I.height)*r+I.x),R=A,B=4*ge;I.interlaced===!0&&(B+=4*r*7);for(var Q=8,fe=0,he=X.length;fe<he;++fe){var pe=X[fe];if(Ge===0&&(Ge=ue,(R+=B)>=M&&(B=4*ge+4*r*(Q-1),R=A+(ue+ge)*(Q<<1),Q>>=1)),pe===re)R+=4;else{var Te=t[le+3*pe],He=t[le+3*pe+1],Qe=t[le+3*pe+2];q[R++]=Te,q[R++]=He,q[R++]=Qe,q[R++]=255}--Ge}}}function TE(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,c=i+1,u=(1<<c)-1,h=0,f=0,d=0,p=t[e++],x=new Int32Array(4096),m=null;;){for(;h<16&&p!==0;)f|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<c)break;var y=f&u;if(f>>=c,h-=c,y!==a){if(y===s)break;for(var v=y<o?y:m,b=0,S=v;S>a;)S=x[S]>>8,++b;var T=S;if(d+b+(v!==y?1:0)>n)return void Yr.log("Warning, gif stream longer than expected.");r[d++]=T;var E=d+=b;for(v!==y&&(r[d++]=T),S=v;b--;)S=x[S],r[--E]=255&S,S>>=8;m!==null&&o<4096&&(x[o++]=m<<8|T,o>=u+1&&c<12&&(++c,u=u<<1|1)),m=y}else o=s+1,u=(1<<(c=i+1))-1,m=null}return d!==n&&Yr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gw(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),d=new Array(65535),p=new Array(64),x=new Array(64),m=[],y=0,v=7,b=new Array(64),S=new Array(64),T=new Array(64),E=new Array(256),P=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(A,M){for(var R=0,B=0,Q=new Array,fe=1;fe<=16;fe++){for(var he=1;he<=A[fe];he++)Q[M[B]]=[],Q[M[B]][0]=R,Q[M[B]][1]=fe,B++,R++;R*=2}return Q}function le(A){for(var M=A[0],R=A[1]-1;R>=0;)M&1<<R&&(y|=1<<v),R--,--v<0&&(y==255?(re(255),re(0)):re(y),v=7,y=0)}function re(A){m.push(A)}function ue(A){re(A>>8&255),re(255&A)}function ge(A,M,R,B,Q){for(var fe,he=Q[0],pe=Q[240],Te=function(Oe,Xe){var st,ht,Ct,Ue,it,bt,St,Pt,Dt,Rt,vt=0;for(Dt=0;Dt<8;++Dt){st=Oe[vt],ht=Oe[vt+1],Ct=Oe[vt+2],Ue=Oe[vt+3],it=Oe[vt+4],bt=Oe[vt+5],St=Oe[vt+6];var $r=st+(Pt=Oe[vt+7]),er=st-Pt,mn=ht+St,ur=ht-St,vr=Ct+bt,Wn=Ct-bt,ir=Ue+it,Wi=Ue-it,Br=$r+ir,Zn=$r-ir,La=mn+vr,Tr=mn-vr;Oe[vt]=Br+La,Oe[vt+4]=Br-La;var Ht=.707106781*(Tr+Zn);Oe[vt+2]=Zn+Ht,Oe[vt+6]=Zn-Ht;var ve=.382683433*((Br=Wi+Wn)-(Tr=ur+er)),de=.5411961*Br+ve,Ae=1.306562965*Tr+ve,qe=.707106781*(La=Wn+ur),pt=er+qe,Be=er-qe;Oe[vt+5]=Be+de,Oe[vt+3]=Be-de,Oe[vt+1]=pt+Ae,Oe[vt+7]=pt-Ae,vt+=8}for(vt=0,Dt=0;Dt<8;++Dt){st=Oe[vt],ht=Oe[vt+8],Ct=Oe[vt+16],Ue=Oe[vt+24],it=Oe[vt+32],bt=Oe[vt+40],St=Oe[vt+48];var ke=st+(Pt=Oe[vt+56]),Je=st-Pt,Ze=ht+St,yt=ht-St,At=Ct+bt,z=Ct-bt,te=Ue+it,K=Ue-it,ee=ke+te,ie=ke-te,se=Ze+At,De=Ze-At;Oe[vt]=ee+se,Oe[vt+32]=ee-se;var Ve=.707106781*(De+ie);Oe[vt+16]=ie+Ve,Oe[vt+48]=ie-Ve;var Pe=.382683433*((ee=K+z)-(De=yt+Je)),Fe=.5411961*ee+Pe,Ie=1.306562965*De+Pe,ut=.707106781*(se=z+yt),mt=Je+ut,Tt=Je-ut;Oe[vt+40]=Tt+Fe,Oe[vt+24]=Tt-Fe,Oe[vt+8]=mt+Ie,Oe[vt+56]=mt-Ie,vt++}for(Dt=0;Dt<64;++Dt)Rt=Oe[Dt]*Xe[Dt],p[Dt]=Rt>0?Rt+.5|0:Rt-.5|0;return p}(A,M),He=0;He<64;++He)x[j[He]]=Te[He];var Qe=x[0]-R;R=x[0],Qe==0?le(B[0]):(le(B[d[fe=32767+Qe]]),le(f[fe]));for(var et=63;et>0&&x[et]==0;)et--;if(et==0)return le(he),R;for(var me,ce=1;ce<=et;){for(var Z=ce;x[ce]==0&&ce<=et;)++ce;var je=ce-Z;if(je>=16){me=je>>4;for(var Ce=1;Ce<=me;++Ce)le(pe);je&=15}fe=32767+x[ce],le(Q[(je<<4)+d[fe]]),le(f[fe]),ce++}return et!=63&&le(he),R}function Ge(A){A=Math.min(Math.max(A,1),100),a!=A&&(function(M){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var Q=s((R[B]*M+50)/100);Q=Math.min(Math.max(Q,1),255),o[j[B]]=Q}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var pe=s((fe[he]*M+50)/100);pe=Math.min(Math.max(pe,1),255),c[j[he]]=pe}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Qe=0;Qe<8;Qe++)for(var et=0;et<8;et++)u[He]=1/(o[j[He]]*Te[Qe]*Te[et]*8),h[He]=1/(c[j[He]]*Te[Qe]*Te[et]*8),He++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),a=A)}this.encode=function(A,M){M&&Ge(M),m=new Array,y=0,v=7,ue(65496),ue(65504),ue(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ue(1),ue(1),re(0),re(0),function(){ue(65499),ue(132),re(0);for(var ht=0;ht<64;ht++)re(o[ht]);re(1);for(var Ct=0;Ct<64;Ct++)re(c[Ct])}(),function(ht,Ct){ue(65472),ue(17),re(8),ue(Ct),ue(ht),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(A.width,A.height),function(){ue(65476),ue(418),re(0);for(var ht=0;ht<16;ht++)re(L[ht+1]);for(var Ct=0;Ct<=11;Ct++)re(F[Ct]);re(16);for(var Ue=0;Ue<16;Ue++)re(W[Ue+1]);for(var it=0;it<=161;it++)re(D[it]);re(1);for(var bt=0;bt<16;bt++)re(O[bt+1]);for(var St=0;St<=11;St++)re(q[St]);re(17);for(var Pt=0;Pt<16;Pt++)re(I[Pt+1]);for(var Dt=0;Dt<=161;Dt++)re(ae[Dt])}(),ue(65498),ue(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var R=0,B=0,Q=0;y=0,v=7,this.encode.displayName="_encode_";for(var fe,he,pe,Te,He,Qe,et,me,ce,Z=A.data,je=A.width,Ce=A.height,Oe=4*je,Xe=0;Xe<Ce;){for(fe=0;fe<Oe;){for(He=Oe*Xe+fe,et=-1,me=0,ce=0;ce<64;ce++)Qe=He+(me=ce>>3)*Oe+(et=4*(7&ce)),Xe+me>=Ce&&(Qe-=Oe*(Xe+1+me-Ce)),fe+et>=Oe&&(Qe-=fe+et-Oe+4),he=Z[Qe++],pe=Z[Qe++],Te=Z[Qe++],b[ce]=(P[he]+P[pe+256>>0]+P[Te+512>>0]>>16)-128,S[ce]=(P[he+768>>0]+P[pe+1024>>0]+P[Te+1280>>0]>>16)-128,T[ce]=(P[he+1280>>0]+P[pe+1536>>0]+P[Te+1792>>0]>>16)-128;R=ge(b,u,R,e,n),B=ge(S,h,B,r,i),Q=ge(T,h,Q,r,i),fe+=32}Xe+=8}if(v>=0){var st=[];st[1]=v+1,st[0]=(1<<v+1)-1,le(st)}return ue(65497),new Uint8Array(m)},t=t||50,function(){for(var A=String.fromCharCode,M=0;M<256;M++)E[M]=A(M)}(),e=X(L,F),r=X(O,q),n=X(W,D),i=X(I,ae),function(){for(var A=1,M=2,R=1;R<=15;R++){for(var B=A;B<M;B++)d[32767+B]=R,f[32767+B]=[],f[32767+B][1]=R,f[32767+B][0]=B;for(var Q=-(M-1);Q<=-A;Q++)d[32767+Q]=R,f[32767+Q]=[],f[32767+Q][1]=R,f[32767+Q][0]=M-1+Q;A<<=1,M<<=1}}(),function(){for(var A=0;A<256;A++)P[A]=19595*A,P[A+256>>0]=38470*A,P[A+512>>0]=7471*A+32768,P[A+768>>0]=-11059*A,P[A+1024>>0]=-21709*A,P[A+1280>>0]=32768*A+8421375,P[A+1536>>0]=-27439*A,P[A+1792>>0]=-5329*A}(),Ge(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function CE(t){function e(L){if(!L)throw Error("assert :P")}function r(L,F,W){for(var D=0;4>D;D++)if(L[F+D]!=W.charCodeAt(D))return!0;return!1}function n(L,F,W,D,O){for(var q=0;q<O;q++)L[F+q]=W[D+q]}function i(L,F,W,D){for(var O=0;O<D;O++)L[F+O]=W}function a(L){return new Int32Array(L)}function s(L,F){for(var W=[],D=0;D<L;D++)W.push(new F);return W}function o(L,F){var W=[];return function D(O,q,I){for(var ae=I[q],X=0;X<ae&&(O.push(I.length>q+1?[]:new F),!(I.length<q+1));X++)D(O[X],q+1,I)}(W,0,L),W}var c=function(){var L=this;function F(g,w){for(var N=1<<w-1>>>0;g&N;)N>>>=1;return N?(g&N-1)+N:g}function W(g,w,N,k,U){e(!(k%N));do g[w+(k-=N)]=U;while(0<k)}function D(g,w,N,k,U){if(e(2328>=U),512>=U)var V=a(512);else if((V=a(U))==null)return 0;return function(G,Y,J,ne,ye,Re){var Me,Ee,nt=Y,We=1<<J,be=a(16),Ne=a(16);for(e(ye!=0),e(ne!=null),e(G!=null),e(0<J),Ee=0;Ee<ye;++Ee){if(15<ne[Ee])return 0;++be[ne[Ee]]}if(be[0]==ye)return 0;for(Ne[1]=0,Me=1;15>Me;++Me){if(be[Me]>1<<Me)return 0;Ne[Me+1]=Ne[Me]+be[Me]}for(Ee=0;Ee<ye;++Ee)Me=ne[Ee],0<ne[Ee]&&(Re[Ne[Me]++]=Ee);if(Ne[15]==1)return(ne=new O).g=0,ne.value=Re[0],W(G,nt,1,We,ne),We;var tt,lt=-1,rt=We-1,jt=0,wt=1,Ft=1,_t=1<<J;for(Ee=0,Me=1,ye=2;Me<=J;++Me,ye<<=1){if(wt+=Ft<<=1,0>(Ft-=be[Me]))return 0;for(;0<be[Me];--be[Me])(ne=new O).g=Me,ne.value=Re[Ee++],W(G,nt+jt,ye,_t,ne),jt=F(jt,Me)}for(Me=J+1,ye=2;15>=Me;++Me,ye<<=1){if(wt+=Ft<<=1,0>(Ft-=be[Me]))return 0;for(;0<be[Me];--be[Me]){if(ne=new O,(jt&rt)!=lt){for(nt+=_t,tt=1<<(lt=Me)-J;15>lt&&!(0>=(tt-=be[lt]));)++lt,tt<<=1;We+=_t=1<<(tt=lt-J),G[Y+(lt=jt&rt)].g=tt+J,G[Y+lt].value=nt-Y-lt}ne.g=Me-J,ne.value=Re[Ee++],W(G,nt+(jt>>J),ye,_t,ne),jt=F(jt,Me)}}return wt!=2*Ne[15]-1?0:We}(g,w,N,k,U,V)}function O(){this.value=this.g=0}function q(){this.value=this.g=0}function I(){this.G=s(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(fi,q)}function ae(g,w,N,k){e(g!=null),e(w!=null),e(2147483648>k),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=N,g.Jd=w,g.Yc=N+k,g.Zc=4<=k?N+k-4+1:N,fe(g)}function X(g,w){for(var N=0;0<w--;)N|=pe(g,128)<<w;return N}function le(g,w){var N=X(g,w);return he(g)?-N:N}function re(g,w,N,k){var U,V=0;for(e(g!=null),e(w!=null),e(4294967288>k),g.Sb=k,g.Ra=0,g.u=0,g.h=0,4<k&&(k=4),U=0;U<k;++U)V+=w[N+U]<<8*U;g.Ra=V,g.bb=k,g.oa=w,g.pa=N}function ue(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<cf-8>>>0,++g.bb,g.u-=8;R(g)&&(g.h=1,g.u=0)}function ge(g,w){if(e(0<=w),!g.h&&w<=lf){var N=M(g)&of[w];return g.u+=w,ue(g),N}return g.h=1,g.u=0}function Ge(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(g){return g.Ra>>>(g.u&cf-1)>>>0}function R(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>cf}function B(g,w){g.u=w,g.h=R(g)}function Q(g){g.u>=ep&&(e(g.u>=ep),ue(g))}function fe(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function he(g){return X(g,1)}function pe(g,w){var N=g.Ca;0>g.b&&fe(g);var k=g.b,U=N*w>>>8,V=(g.I>>>k>U)+0;for(V?(N-=U,g.I-=U+1<<k>>>0):N=U+1,k=N,U=0;256<=k;)U+=8,k>>=8;return k=7^U+ca[k],g.b-=k,g.Ca=(N<<k)-1,V}function Te(g,w,N){g[w+0]=N>>24&255,g[w+1]=N>>16&255,g[w+2]=N>>8&255,g[w+3]=N>>0&255}function He(g,w){return g[w+0]<<0|g[w+1]<<8}function Qe(g,w){return He(g,w)|g[w+2]<<16}function et(g,w){return He(g,w)|He(g,w+2)<<16}function me(g,w){var N=1<<w;return e(g!=null),e(0<w),g.X=a(N),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function ce(g,w){e(g!=null),e(w!=null),e(g.Xa==w.Xa),n(w.X,0,g.X,0,1<<w.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function je(g,w,N,k){e(N!=null),e(k!=null);var U=N[0],V=k[0];return U==0&&(U=(g*V+w/2)/w),V==0&&(V=(w*U+g/2)/g),0>=U||0>=V?0:(N[0]=U,k[0]=V,1)}function Ce(g,w){return g+(1<<w)-1>>>w}function Oe(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function Xe(g,w){L[w]=function(N,k,U,V,G,Y,J){var ne;for(ne=0;ne<G;++ne){var ye=L[g](Y[J+ne-1],U,V+ne);Y[J+ne]=Oe(N[k+ne],ye)}}}function st(){this.ud=this.hd=this.jd=0}function ht(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function Ct(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ue(g,w){return Ct(g+(g-w+.5>>1))}function it(g,w,N){return Math.abs(w-N)-Math.abs(g-N)}function bt(g,w,N,k,U,V,G){for(k=V[G-1],N=0;N<U;++N)V[G+N]=k=Oe(g[w+N],k)}function St(g,w,N,k,U){var V;for(V=0;V<N;++V){var G=g[w+V],Y=G>>8&255,J=16711935&(J=(J=16711935&G)+((Y<<16)+Y));k[U+V]=(4278255360&G)+J>>>0}}function Pt(g,w){w.jd=g>>0&255,w.hd=g>>8&255,w.ud=g>>16&255}function Dt(g,w,N,k,U,V){var G;for(G=0;G<k;++G){var Y=w[N+G],J=Y>>>8,ne=Y,ye=255&(ye=(ye=Y>>>16)+((g.jd<<24>>24)*(J<<24>>24)>>>5));ne=255&(ne=(ne=ne+((g.hd<<24>>24)*(J<<24>>24)>>>5))+((g.ud<<24>>24)*(ye<<24>>24)>>>5)),U[V+G]=(4278255360&Y)+(ye<<16)+ne}}function Rt(g,w,N,k,U){L[w]=function(V,G,Y,J,ne,ye,Re,Me,Ee){for(J=Re;J<Me;++J)for(Re=0;Re<Ee;++Re)ne[ye++]=U(Y[k(V[G++])])},L[g]=function(V,G,Y,J,ne,ye,Re){var Me=8>>V.b,Ee=V.Ea,nt=V.K[0],We=V.w;if(8>Me)for(V=(1<<V.b)-1,We=(1<<Me)-1;G<Y;++G){var be,Ne=0;for(be=0;be<Ee;++be)be&V||(Ne=k(J[ne++])),ye[Re++]=U(nt[Ne&We]),Ne>>=Me}else L["VP8LMapColor"+N](J,ne,nt,We,ye,Re,G,Y,Ee)}}function vt(g,w,N,k,U){for(N=w+N;w<N;){var V=g[w++];k[U++]=V>>16&255,k[U++]=V>>8&255,k[U++]=V>>0&255}}function $r(g,w,N,k,U){for(N=w+N;w<N;){var V=g[w++];k[U++]=V>>16&255,k[U++]=V>>8&255,k[U++]=V>>0&255,k[U++]=V>>24&255}}function er(g,w,N,k,U){for(N=w+N;w<N;){var V=(G=g[w++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;k[U++]=V,k[U++]=G}}function mn(g,w,N,k,U){for(N=w+N;w<N;){var V=(G=g[w++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;k[U++]=V,k[U++]=G}}function ur(g,w,N,k,U){for(N=w+N;w<N;){var V=g[w++];k[U++]=V>>0&255,k[U++]=V>>8&255,k[U++]=V>>16&255}}function vr(g,w,N,k,U,V){if(V==0)for(N=w+N;w<N;)Te(k,((V=g[w++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),U+=32;else n(k,U,g,w,N)}function Wn(g,w){L[w][0]=L[g+"0"],L[w][1]=L[g+"1"],L[w][2]=L[g+"2"],L[w][3]=L[g+"3"],L[w][4]=L[g+"4"],L[w][5]=L[g+"5"],L[w][6]=L[g+"6"],L[w][7]=L[g+"7"],L[w][8]=L[g+"8"],L[w][9]=L[g+"9"],L[w][10]=L[g+"10"],L[w][11]=L[g+"11"],L[w][12]=L[g+"12"],L[w][13]=L[g+"13"],L[w][14]=L[g+"0"],L[w][15]=L[g+"0"]}function ir(g){return g==pb||g==mb||g==h1||g==gb}function Wi(){this.eb=[],this.size=this.A=this.fb=0}function Br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Zn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wi,this.f.kb=new Br,this.sd=null}function La(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ht(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function ve(g,w){var N=g.T,k=w.ba.f.RGBA,U=k.eb,V=k.fb+g.ka*k.A,G=ds[w.ba.S],Y=g.y,J=g.O,ne=g.f,ye=g.N,Re=g.ea,Me=g.W,Ee=w.cc,nt=w.dc,We=w.Mc,be=w.Nc,Ne=g.ka,tt=g.ka+g.T,lt=g.U,rt=lt+1>>1;for(Ne==0?G(Y,J,null,null,ne,ye,Re,Me,ne,ye,Re,Me,U,V,null,null,lt):(G(w.ec,w.fc,Y,J,Ee,nt,We,be,ne,ye,Re,Me,U,V-k.A,U,V,lt),++N);Ne+2<tt;Ne+=2)Ee=ne,nt=ye,We=Re,be=Me,ye+=g.Rc,Me+=g.Rc,V+=2*k.A,G(Y,(J+=2*g.fa)-g.fa,Y,J,Ee,nt,We,be,ne,ye,Re,Me,U,V-k.A,U,V,lt);return J+=g.fa,g.j+tt<g.o?(n(w.ec,w.fc,Y,J,lt),n(w.cc,w.dc,ne,ye,rt),n(w.Mc,w.Nc,Re,Me,rt),N--):1&tt||G(Y,J,null,null,ne,ye,Re,Me,ne,ye,Re,Me,U,V+k.A,null,null,lt),N}function de(g,w,N){var k=g.F,U=[g.J];if(k!=null){var V=g.U,G=w.ba.S,Y=G==u1||G==h1;w=w.ba.f.RGBA;var J=[0],ne=g.ka;J[0]=g.T,g.Kb&&(ne==0?--J[0]:(--ne,U[0]-=g.width),g.j+g.ka+g.T==g.o&&(J[0]=g.o-g.j-ne));var ye=w.eb;ne=w.fb+ne*w.A,g=Qr(k,U[0],g.width,V,J,ye,ne+(Y?0:3),w.A),e(N==J),g&&ir(G)&&hs(ye,ne,Y,V,J,w.A)}return 0}function Ae(g){var w=g.ma,N=w.ba.S,k=11>N,U=N==l1||N==c1||N==u1||N==db||N==12||ir(N);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!J0(w.Oa,g,U?11:12))return 0;if(U&&ir(N)&&ct(),g.da)alert("todo:use_scaling");else{if(k){if(w.Ib=Ht,g.Kb){if(N=g.U+1>>1,w.memory=a(g.U+2*N),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+N,w.Ib=ve,ct()}}else alert("todo:EmitYUV");U&&(w.Jb=de,k&&Le())}if(k&&!EN){for(g=0;256>g;++g)qF[g]=89858*(g-128)+d1>>f1,GF[g]=-22014*(g-128)+d1,WF[g]=-45773*(g-128),VF[g]=113618*(g-128)+d1>>f1;for(g=op;g<yb;++g)w=76283*(g-16)+d1>>f1,YF[g-op]=Pa(w,255),XF[g-op]=Pa(w+8>>4,15);EN=1}return 1}function qe(g){var w=g.ma,N=g.U,k=g.T;return e(!(1&g.ka)),0>=N||0>=k?0:(N=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,N),w.Dc+=N,1)}function pt(g){g.ma.memory=null}function Be(g,w,N,k){return ge(g,8)!=47?0:(w[0]=ge(g,14)+1,N[0]=ge(g,14)+1,k[0]=ge(g,1),ge(g,3)!=0?0:!g.h)}function ke(g,w){if(4>g)return g+1;var N=g-2>>1;return(2+(1&g)<<N)+ge(w,N)+1}function Je(g,w){return 120<w?w-120:1<=(N=((N=jF[w-1])>>4)*g+(8-(15&N)))?N:1;var N}function Ze(g,w,N){var k=M(N),U=g[w+=255&k].g-8;return 0<U&&(B(N,N.u+8),k=M(N),w+=g[w].value,w+=k&(1<<U)-1),B(N,N.u+g[w].g),g[w].value}function yt(g,w,N){return N.g+=g.g,N.value+=g.value<<w>>>0,e(8>=N.g),g.g}function At(g,w,N){var k=g.xc;return e((w=k==0?0:g.vc[g.md*(N>>k)+(w>>k)])<g.Wb),g.Ya[w]}function z(g,w,N,k){var U=g.ab,V=g.c*w,G=g.C;w=G+w;var Y=N,J=k;for(k=g.Ta,N=g.Ua;0<U--;){var ne=g.gc[U],ye=G,Re=w,Me=Y,Ee=J,nt=(J=k,Y=N,ne.Ea);switch(e(ye<Re),e(Re<=ne.nc),ne.hc){case 2:t1(Me,Ee,(Re-ye)*nt,J,Y);break;case 0:var We=ye,be=Re,Ne=J,tt=Y,lt=(_t=ne).Ea;We==0&&(hb(Me,Ee,null,null,1,Ne,tt),bt(Me,Ee+1,0,0,lt-1,Ne,tt+1),Ee+=lt,tt+=lt,++We);for(var rt=1<<_t.b,jt=rt-1,wt=Ce(lt,_t.b),Ft=_t.K,_t=_t.w+(We>>_t.b)*wt;We<be;){var wr=Ft,jr=_t,gr=1;for(tp(Me,Ee,Ne,tt-lt,1,Ne,tt);gr<lt;){var hr=(gr&~jt)+rt;hr>lt&&(hr=lt),(0,lc[wr[jr++]>>8&15])(Me,Ee+ +gr,Ne,tt+gr-lt,hr-gr,Ne,tt+gr),gr=hr}Ee+=lt,tt+=lt,++We&jt||(_t+=wt)}Re!=ne.nc&&n(J,Y-nt,J,Y+(Re-ye-1)*nt,nt);break;case 1:for(nt=Me,be=Ee,lt=(Me=ne.Ea)-(tt=Me&~(Ne=(Ee=1<<ne.b)-1)),We=Ce(Me,ne.b),rt=ne.K,ne=ne.w+(ye>>ne.b)*We;ye<Re;){for(jt=rt,wt=ne,Ft=new st,_t=be+tt,wr=be+Me;be<_t;)Pt(jt[wt++],Ft),Du(Ft,nt,be,Ee,J,Y),be+=Ee,Y+=Ee;be<wr&&(Pt(jt[wt++],Ft),Du(Ft,nt,be,lt,J,Y),be+=lt,Y+=lt),++ye&Ne||(ne+=We)}break;case 3:if(Me==J&&Ee==Y&&0<ne.b){for(be=J,Me=nt=Y+(Re-ye)*nt-(tt=(Re-ye)*Ce(ne.Ea,ne.b)),Ee=J,Ne=Y,We=[],tt=(lt=tt)-1;0<=tt;--tt)We[tt]=Ee[Ne+tt];for(tt=lt-1;0<=tt;--tt)be[Me+tt]=We[tt];ls(ne,ye,Re,J,nt,J,Y)}else ls(ne,ye,Re,Me,Ee,J,Y)}Y=k,J=N}J!=N&&n(k,N,Y,J,V)}function te(g,w){var N=g.V,k=g.Ba+g.c*g.C,U=w-g.C;if(e(w<=g.l.o),e(16>=U),0<U){var V=g.l,G=g.Ta,Y=g.Ua,J=V.width;if(z(g,U,N,k),U=Y=[Y],e((N=g.C)<(k=w)),e(V.v<V.va),k>V.o&&(k=V.o),N<V.j){var ne=V.j-N;N=V.j,U[0]+=ne*J}if(N>=k?N=0:(U[0]+=4*V.v,V.ka=N-V.j,V.U=V.va-V.v,V.T=k-N,N=1),N){if(Y=Y[0],11>(N=g.ca).S){var ye=N.f.RGBA,Re=(k=N.S,U=V.U,V=V.T,ne=ye.eb,ye.A),Me=V;for(ye=ye.fb+g.Ma*ye.A;0<Me--;){var Ee=G,nt=Y,We=U,be=ne,Ne=ye;switch(k){case o1:ua(Ee,nt,We,be,Ne);break;case l1:Gi(Ee,nt,We,be,Ne);break;case pb:Gi(Ee,nt,We,be,Ne),hs(be,Ne,0,We,1,0);break;case yN:ll(Ee,nt,We,be,Ne);break;case c1:vr(Ee,nt,We,be,Ne,1);break;case mb:vr(Ee,nt,We,be,Ne,1),hs(be,Ne,0,We,1,0);break;case u1:vr(Ee,nt,We,be,Ne,0);break;case h1:vr(Ee,nt,We,be,Ne,0),hs(be,Ne,1,We,1,0);break;case db:cc(Ee,nt,We,be,Ne);break;case gb:cc(Ee,nt,We,be,Ne),Kr(be,Ne,We,1,0);break;case bN:ol(Ee,nt,We,be,Ne);break;default:e(0)}Y+=J,ye+=Re}g.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=N.height)}}g.C=w,e(g.C<=g.i)}function K(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var N=g.Ya[w].G,k=g.Ya[w].H;if(0<N[1][k[1]+0].g||0<N[2][k[2]+0].g||0<N[3][k[3]+0].g)return 0}return 1}function ee(g,w,N,k,U,V){if(g.Z!=0){var G=g.qd,Y=g.rd;for(e(dc[g.Z]!=null);w<N;++w)dc[g.Z](G,Y,k,U,k,U,V),G=k,Y=U,U+=V;g.qd=G,g.rd=Y}}function ie(g,w){var N=g.l.ma,k=N.Z==0||N.Z==1?g.l.j:g.C;if(k=g.C<k?k:g.C,e(w<=g.l.o),w>k){var U=g.l.width,V=N.ca,G=N.tb+U*k,Y=g.V,J=g.Ba+g.c*k,ne=g.gc;e(g.ab==1),e(ne[0].hc==3),r1(ne[0],k,w,Y,J,V,G),ee(N,k,w,V,G,U)}g.C=g.Ma=w}function se(g,w,N,k,U,V,G){var Y=g.$/k,J=g.$%k,ne=g.m,ye=g.s,Re=N+g.$,Me=Re;U=N+k*U;var Ee=N+k*V,nt=280+ye.ua,We=g.Pb?Y:16777216,be=0<ye.ua?ye.Wa:null,Ne=ye.wc,tt=Re<Ee?At(ye,J,Y):null;e(g.C<V),e(Ee<=U);var lt=!1;e:for(;;){for(;lt||Re<Ee;){var rt=0;if(Y>=We){var jt=Re-N;e((We=g).Pb),We.wd=We.m,We.xd=jt,0<We.s.ua&&ce(We.s.Wa,We.s.vb),We=Y+OF}if(J&Ne||(tt=At(ye,J,Y)),e(tt!=null),tt.Qb&&(w[Re]=tt.qb,lt=!0),!lt)if(Q(ne),tt.jc){rt=ne,jt=w;var wt=Re,Ft=tt.pd[M(rt)&fi-1];e(tt.jc),256>Ft.g?(B(rt,rt.u+Ft.g),jt[wt]=Ft.value,rt=0):(B(rt,rt.u+Ft.g-256),e(256<=Ft.value),rt=Ft.value),rt==0&&(lt=!0)}else rt=Ze(tt.G[0],tt.H[0],ne);if(ne.h)break;if(lt||256>rt){if(!lt)if(tt.nd)w[Re]=(tt.qb|rt<<8)>>>0;else{if(Q(ne),lt=Ze(tt.G[1],tt.H[1],ne),Q(ne),jt=Ze(tt.G[2],tt.H[2],ne),wt=Ze(tt.G[3],tt.H[3],ne),ne.h)break;w[Re]=(wt<<24|lt<<16|rt<<8|jt)>>>0}if(lt=!1,++Re,++J>=k&&(J=0,++Y,G!=null&&Y<=V&&!(Y%16)&&G(g,Y),be!=null))for(;Me<Re;)rt=w[Me++],be.X[(506832829*rt&4294967295)>>>be.Mb]=rt}else if(280>rt){if(rt=ke(rt-256,ne),jt=Ze(tt.G[4],tt.H[4],ne),Q(ne),jt=Je(k,jt=ke(jt,ne)),ne.h)break;if(Re-N<jt||U-Re<rt)break e;for(wt=0;wt<rt;++wt)w[Re+wt]=w[Re+wt-jt];for(Re+=rt,J+=rt;J>=k;)J-=k,++Y,G!=null&&Y<=V&&!(Y%16)&&G(g,Y);if(e(Re<=U),J&Ne&&(tt=At(ye,J,Y)),be!=null)for(;Me<Re;)rt=w[Me++],be.X[(506832829*rt&4294967295)>>>be.Mb]=rt}else{if(!(rt<nt))break e;for(lt=rt-280,e(be!=null);Me<Re;)rt=w[Me++],be.X[(506832829*rt&4294967295)>>>be.Mb]=rt;rt=Re,e(!(lt>>>(jt=be).Xa)),w[rt]=jt.X[lt],lt=!0}lt||e(ne.h==R(ne))}if(g.Pb&&ne.h&&Re<U)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&ce(g.s.vb,g.s.Wa);else{if(ne.h)break e;G!=null&&G(g,Y>V?V:Y),g.a=0,g.$=Re-N}return 1}return g.a=3,0}function De(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,e(g!=null)}function Ve(){var g=new ub;return g==null?null:(g.a=0,g.xb=_N,Wn("Predictor","VP8LPredictors"),Wn("Predictor","VP8LPredictors_C"),Wn("PredictorAdd","VP8LPredictorsAdd"),Wn("PredictorAdd","VP8LPredictorsAdd_C"),t1=St,Du=Dt,ua=vt,Gi=$r,cc=er,ol=mn,ll=ur,L.VP8LMapColor32b=uf,L.VP8LMapColor8b=n1,g)}function Pe(g,w,N,k,U){var V=1,G=[g],Y=[w],J=k.m,ne=k.s,ye=null,Re=0;e:for(;;){if(N)for(;V&&ge(J,1);){var Me=G,Ee=Y,nt=k,We=1,be=nt.m,Ne=nt.gc[nt.ab],tt=ge(be,2);if(nt.Oc&1<<tt)V=0;else{switch(nt.Oc|=1<<tt,Ne.hc=tt,Ne.Ea=Me[0],Ne.nc=Ee[0],Ne.K=[null],++nt.ab,e(4>=nt.ab),tt){case 0:case 1:Ne.b=ge(be,3)+2,We=Pe(Ce(Ne.Ea,Ne.b),Ce(Ne.nc,Ne.b),0,nt,Ne.K),Ne.K=Ne.K[0];break;case 3:var lt,rt=ge(be,8)+1,jt=16<rt?0:4<rt?1:2<rt?2:3;if(Me[0]=Ce(Ne.Ea,jt),Ne.b=jt,lt=We=Pe(rt,1,0,nt,Ne.K)){var wt,Ft=rt,_t=Ne,wr=1<<(8>>_t.b),jr=a(wr);if(jr==null)lt=0;else{var gr=_t.K[0],hr=_t.w;for(jr[0]=_t.K[0][0],wt=1;wt<1*Ft;++wt)jr[wt]=Oe(gr[hr+wt],jr[wt-1]);for(;wt<4*wr;++wt)jr[wt]=0;_t.K[0]=null,_t.K[0]=jr,lt=1}}We=lt;break;case 2:break;default:e(0)}V=We}}if(G=G[0],Y=Y[0],V&&ge(J,1)&&!(V=1<=(Re=ge(J,4))&&11>=Re)){k.a=3;break e}var Gr;if(Gr=V)t:{var Ur,Jt,Mn,ha=k,Fn=G,fa=Y,kr=Re,Ma=N,Fa=ha.m,ti=ha.s,di=[null],Xi=1,ps=0,_o=kF[kr];r:for(;;){if(Ma&&ge(Fa,1)){var ri=ge(Fa,3)+2,fl=Ce(Fn,ri),Iu=Ce(fa,ri),mf=fl*Iu;if(!Pe(fl,Iu,0,ha,di))break r;for(di=di[0],ti.xc=ri,Ur=0;Ur<mf;++Ur){var pc=di[Ur]>>8&65535;di[Ur]=pc,pc>=Xi&&(Xi=pc+1)}}if(Fa.h)break r;for(Jt=0;5>Jt;++Jt){var xn=wN[Jt];!Jt&&0<kr&&(xn+=1<<kr),ps<xn&&(ps=xn)}var bb=s(Xi*_o,O),ON=Xi,LN=s(ON,I);if(LN==null)var m1=null;else e(65536>=ON),m1=LN;var lp=a(ps);if(m1==null||lp==null||bb==null){ha.a=1;break r}var g1=bb;for(Ur=Mn=0;Ur<Xi;++Ur){var zs=m1[Ur],gf=zs.G,xf=zs.H,DN=0,x1=1,PN=0;for(Jt=0;5>Jt;++Jt){xn=wN[Jt],gf[Jt]=g1,xf[Jt]=Mn,!Jt&&0<kr&&(xn+=1<<kr);i:{var v1,wb=xn,y1=ha,cp=lp,QF=g1,JF=Mn,Sb=0,mc=y1.m,ZF=ge(mc,1);if(i(cp,0,0,wb),ZF){var e9=ge(mc,1)+1,t9=ge(mc,1),RN=ge(mc,t9==0?1:8);cp[RN]=1,e9==2&&(cp[RN=ge(mc,8)]=1);var b1=1}else{var MN=a(19),FN=ge(mc,4)+4;if(19<FN){y1.a=3;var w1=0;break i}for(v1=0;v1<FN;++v1)MN[EF[v1]]=ge(mc,3);var _b=void 0,up=void 0,IN=y1,r9=MN,S1=wb,BN=cp,Nb=0,gc=IN.m,zN=8,UN=s(128,O);n:for(;D(UN,0,7,r9,19);){if(ge(gc,1)){var n9=2+2*ge(gc,3);if((_b=2+ge(gc,n9))>S1)break n}else _b=S1;for(up=0;up<S1&&_b--;){Q(gc);var HN=UN[0+(127&M(gc))];B(gc,gc.u+HN.g);var vf=HN.value;if(16>vf)BN[up++]=vf,vf!=0&&(zN=vf);else{var i9=vf==16,qN=vf-16,a9=CF[qN],VN=ge(gc,TF[qN])+a9;if(up+VN>S1)break n;for(var s9=i9?zN:0;0<VN--;)BN[up++]=s9}}Nb=1;break n}Nb||(IN.a=3),b1=Nb}(b1=b1&&!mc.h)&&(Sb=D(QF,JF,8,cp,wb)),b1&&Sb!=0?w1=Sb:(y1.a=3,w1=0)}if(w1==0)break r;if(x1&&AF[Jt]==1&&(x1=g1[Mn].g==0),DN+=g1[Mn].g,Mn+=w1,3>=Jt){var hp,Tb=lp[0];for(hp=1;hp<xn;++hp)lp[hp]>Tb&&(Tb=lp[hp]);PN+=Tb}}if(zs.nd=x1,zs.Qb=0,x1&&(zs.qb=(gf[3][xf[3]+0].value<<24|gf[1][xf[1]+0].value<<16|gf[2][xf[2]+0].value)>>>0,DN==0&&256>gf[0][xf[0]+0].value&&(zs.Qb=1,zs.qb+=gf[0][xf[0]+0].value<<8)),zs.jc=!zs.Qb&&6>PN,zs.jc){var _1,dl=zs;for(_1=0;_1<fi;++_1){var xc=_1,vc=dl.pd[xc],N1=dl.G[0][dl.H[0]+xc];256<=N1.value?(vc.g=N1.g+256,vc.value=N1.value):(vc.g=0,vc.value=0,xc>>=yt(N1,8,vc),xc>>=yt(dl.G[1][dl.H[1]+xc],16,vc),xc>>=yt(dl.G[2][dl.H[2]+xc],0,vc),yt(dl.G[3][dl.H[3]+xc],24,vc))}}}ti.vc=di,ti.Wb=Xi,ti.Ya=m1,ti.yc=bb,Gr=1;break t}Gr=0}if(!(V=Gr)){k.a=3;break e}if(0<Re){if(ne.ua=1<<Re,!me(ne.Wa,Re)){k.a=1,V=0;break e}}else ne.ua=0;var Cb=k,WN=G,o9=Y,Ab=Cb.s,Eb=Ab.xc;if(Cb.c=WN,Cb.i=o9,Ab.md=Ce(WN,Eb),Ab.wc=Eb==0?-1:(1<<Eb)-1,N){k.xb=IF;break e}if((ye=a(G*Y))==null){k.a=1,V=0;break e}V=(V=se(k,ye,0,G,Y,Y,null))&&!J.h;break e}return V?(U!=null?U[0]=ye:(e(ye==null),e(N)),k.$=0,N||De(ne)):De(ne),V}function Fe(g,w){var N=g.c*g.i,k=N+w+16*w;return e(g.c<=w),g.V=a(k),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+N+w,1)}function Ie(g,w){var N=g.C,k=w-N,U=g.V,V=g.Ba+g.c*N;for(e(w<=g.l.o);0<k;){var G=16<k?16:k,Y=g.l.ma,J=g.l.width,ne=J*G,ye=Y.ca,Re=Y.tb+J*N,Me=g.Ta,Ee=g.Ua;z(g,G,U,V),Cn(Me,Ee,ye,Re,ne),ee(Y,N,N+G,ye,Re,J),k-=G,U+=G*g.c,N+=G}e(N==w),g.C=g.Ma=w}function ut(){this.ub=this.yd=this.td=this.Rb=0}function mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function dt(){this.Yb=function(){var g=[];return function w(N,k,U){for(var V=U[k],G=0;G<V&&(N.push(U.length>k+1?[]:0),!(U.length<k+1));G++)w(N[G],k+1,U)}(g,0,[3,11]),g}()}function Nt(){this.jb=a(3),this.Wc=o([4,8],dt),this.Xc=o([4,17],dt)}function Wt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Cr(){this.ld=this.La=this.dd=this.tc=0}function zr(){this.Na=this.la=0}function Pn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ps(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function il(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cr),this.Y=0,this.ya=Array(new Ps),this.aa=0,this.l=new yo}function vo(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Rs(){this.cb=this.a=0,this.sc="",this.m=new Ge,this.Od=new ut,this.Kc=new mt,this.ed=new Wt,this.Qa=new Tt,this.Ic=this.$c=this.Aa=0,this.D=new il,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Ge),this.ia=0,this.pb=s(4,Pn),this.Pa=new Nt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vo),this.Hd=0,this.rb=Array(new zr),this.sb=0,this.wa=Array(new Cr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ps),this.L=this.aa=0,this.gd=o([4,2],Cr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Da(){var g=new Rs;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,sp||(sp=zg)),g}function Nn(g,w,N){return g.a==0&&(g.a=w,g.sc=N,g.cb=0),0}function Ig(g,w,N){return 3<=N&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function Bg(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return Nn(g,2,"null VP8Io passed to VP8GetHeaders()");var N=w.data,k=w.w,U=w.ha;if(4>U)return Nn(g,7,"Truncated header.");var V=N[k+0]|N[k+1]<<8|N[k+2]<<16,G=g.Od;if(G.Rb=!(1&V),G.td=V>>1&7,G.yd=V>>4&1,G.ub=V>>5,3<G.td)return Nn(g,3,"Incorrect keyframe parameters.");if(!G.yd)return Nn(g,4,"Frame not displayable.");k+=3,U-=3;var Y=g.Kc;if(G.Rb){if(7>U)return Nn(g,7,"cannot parse picture header");if(!Ig(N,k,U))return Nn(g,3,"Bad code word");Y.c=16383&(N[k+4]<<8|N[k+3]),Y.Td=N[k+4]>>6,Y.i=16383&(N[k+6]<<8|N[k+5]),Y.Ud=N[k+6]>>6,k+=7,U-=7,g.za=Y.c+15>>4,g.Ub=Y.i+15>>4,w.width=Y.c,w.height=Y.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((V=g.Pa).jb,0,255,V.jb.length),e((V=g.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(G.ub>U)return Nn(g,7,"bad partition length");ae(V=g.m,N,k,G.ub),k+=G.ub,U-=G.ub,G.Rb&&(Y.Ld=he(V),Y.Kd=he(V)),Y=g.Qa;var J,ne=g.Pa;if(e(V!=null),e(Y!=null),Y.Cb=he(V),Y.Cb){if(Y.Bb=he(V),he(V)){for(Y.Fb=he(V),J=0;4>J;++J)Y.Zb[J]=he(V)?le(V,7):0;for(J=0;4>J;++J)Y.Lb[J]=he(V)?le(V,6):0}if(Y.Bb)for(J=0;3>J;++J)ne.jb[J]=he(V)?X(V,8):255}else Y.Bb=0;if(V.Ka)return Nn(g,3,"cannot parse segment header");if((Y=g.ed).zd=he(V),Y.Tb=X(V,6),Y.wb=X(V,3),Y.Pc=he(V),Y.Pc&&he(V)){for(ne=0;4>ne;++ne)he(V)&&(Y.vd[ne]=le(V,6));for(ne=0;4>ne;++ne)he(V)&&(Y.od[ne]=le(V,6))}if(g.L=Y.Tb==0?0:Y.zd?1:2,V.Ka)return Nn(g,3,"cannot parse filter header");var ye=U;if(U=J=k,k=J+ye,Y=ye,g.Xb=(1<<X(g.m,2))-1,ye<3*(ne=g.Xb))N=7;else{for(J+=3*ne,Y-=3*ne,ye=0;ye<ne;++ye){var Re=N[U+0]|N[U+1]<<8|N[U+2]<<16;Re>Y&&(Re=Y),ae(g.Jc[+ye],N,J,Re),J+=Re,Y-=Re,U+=3}ae(g.Jc[+ne],N,J,Y),N=J<k?0:5}if(N!=0)return Nn(g,N,"cannot parse partitions");for(N=X(J=g.m,7),U=he(J)?le(J,4):0,k=he(J)?le(J,4):0,Y=he(J)?le(J,4):0,ne=he(J)?le(J,4):0,J=he(J)?le(J,4):0,ye=g.Qa,Re=0;4>Re;++Re){if(ye.Cb){var Me=ye.Zb[Re];ye.Fb||(Me+=N)}else{if(0<Re){g.pb[Re]=g.pb[0];continue}Me=N}var Ee=g.pb[Re];Ee.Sc[0]=xb[Pa(Me+U,127)],Ee.Sc[1]=vb[Pa(Me+0,127)],Ee.Eb[0]=2*xb[Pa(Me+k,127)],Ee.Eb[1]=101581*vb[Pa(Me+Y,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=xb[Pa(Me+ne,117)],Ee.Qc[1]=vb[Pa(Me+J,127)],Ee.lc=Me+J}if(!G.Rb)return Nn(g,4,"Not a key frame.");for(he(V),G=g.Pa,N=0;4>N;++N){for(U=0;8>U;++U)for(k=0;3>k;++k)for(Y=0;11>Y;++Y)ne=pe(V,MF[N][U][k][Y])?X(V,8):PF[N][U][k][Y],G.Wc[N][U].Yb[k][Y]=ne;for(U=0;17>U;++U)G.Xc[N][U]=G.Wc[N][FF[U]]}return g.kc=he(V),g.kc&&(g.Bd=X(V,8)),g.cb=1}function zg(g,w,N,k,U,V,G){var Y=w[U].Yb[N];for(N=0;16>U;++U){if(!pe(g,Y[N+0]))return U;for(;!pe(g,Y[N+1]);)if(Y=w[++U].Yb[0],N=0,U==16)return 16;var J=w[U+1].Yb;if(pe(g,Y[N+2])){var ne=g,ye=0;if(pe(ne,(Me=Y)[(Re=N)+3]))if(pe(ne,Me[Re+6])){for(Y=0,Re=2*(ye=pe(ne,Me[Re+8]))+(Me=pe(ne,Me[Re+9+ye])),ye=0,Me=LF[Re];Me[Y];++Y)ye+=ye+pe(ne,Me[Y]);ye+=3+(8<<Re)}else pe(ne,Me[Re+7])?(ye=7+2*pe(ne,165),ye+=pe(ne,145)):ye=5+pe(ne,159);else ye=pe(ne,Me[Re+4])?3+pe(ne,Me[Re+5]):2;Y=J[2]}else ye=1,Y=J[1];J=G+DF[U],0>(ne=g).b&&fe(ne);var Re,Me=ne.b,Ee=(Re=ne.Ca>>1)-(ne.I>>Me)>>31;--ne.b,ne.Ca+=Ee,ne.Ca|=1,ne.I-=(Re+1&Ee)<<Me,V[J]=((ye^Ee)-Ee)*k[(0<U)+0]}return 16}function F0(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Yy(g,w){if(g==null)return 0;if(w==null)return Nn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Bg(g,w))return 0;if(e(g.cb),w.ac==null||w.ac(w)){w.ob&&(g.L=0);var N=p1[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=w.v-N>>4,g.zb=w.j-N>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=w.o+15+N>>4,g.Hb=w.va+15+N>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var k=g.ed;for(N=0;4>N;++N){var U;if(g.Qa.Cb){var V=g.Qa.Lb[N];g.Qa.Fb||(V+=k.Tb)}else V=k.Tb;for(U=0;1>=U;++U){var G=g.gd[N][U],Y=V;if(k.Pc&&(Y+=k.vd[0],U&&(Y+=k.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var J=Y;0<k.wb&&(J=4<k.wb?J>>2:J>>1)>9-k.wb&&(J=9-k.wb),1>J&&(J=1),G.dd=J,G.tc=2*Y+J,G.ld=40<=Y?2:15<=Y?1:0}else G.tc=0;G.La=U}}}N=0}else Nn(g,6,"Frame setup failed"),N=g.a;if(N=N==0){if(N){g.$c=0,0<g.Aa||(g.Ic=KF);e:{N=g.Ic,k=4*(J=g.za);var ne=32*J,ye=J+1,Re=0<g.L?J*(0<g.Aa?2:1):0,Me=(g.Aa==2?2:1)*J;if((G=k+832+(U=3*(16*N+p1[g.L])/2*ne)+(V=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=G)N=0;else{if(G>g.Vb){if(g.Vb=0,g.Ec=a(G),g.Fc=0,g.Ec==null){N=Nn(g,1,"no memory during frame initialization.");break e}g.Vb=G}G=g.Ec,Y=g.Fc,g.Ac=G,g.Bc=Y,Y+=k,g.Gd=s(ne,vo),g.Hd=0,g.rb=s(ye+1,zr),g.sb=1,g.wa=Re?s(Re,Cr):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=J),e(!0),g.oc=G,g.pc=Y,Y+=832,g.ya=s(Me,Ps),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=J),g.R=16*J,g.B=8*J,J=(ne=p1[g.L])*g.R,ne=ne/2*g.B,g.sa=G,g.ta=Y+J,g.qa=g.sa,g.ra=g.ta+16*N*g.R+ne,g.Ha=g.qa,g.Ia=g.ra+8*N*g.B+ne,g.$c=0,Y+=U,g.mb=V?G:null,g.nb=V?Y:null,e(Y+V<=g.Fc+g.Vb),F0(g),i(g.Ac,g.Bc,0,k),N=1}}if(N){if(w.ka=0,w.y=g.sa,w.O=g.ta,w.f=g.qa,w.N=g.ra,w.ea=g.Ha,w.Vd=g.Ia,w.fa=g.R,w.Rc=g.B,w.F=null,w.J=0,!a1){for(N=-255;255>=N;++N)Gn[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)ul[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)ap[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)pf[255+N]=0>N?0:255<N?255:N;a1=1}hf=Ky,cl=Xy,rp=Hg,Yi=$y,cs=qg,Tn=Ug,ff=q0,i1=Ou,np=cb,Pu=V0,Ru=lb,uc=tf,Mu=W0,df=Jg,Fu=Qg,hc=wo,ip=sl,us=ob,Bs[0]=bo,Bs[1]=Qy,Bs[2]=tb,Bs[3]=rb,Bs[4]=Gg,Bs[5]=Zh,Bs[6]=Yg,Bs[7]=z0,Bs[8]=ib,Bs[9]=nb,fc[0]=Vg,fc[1]=Zy,fc[2]=al,fc[3]=Qh,fc[4]=Ei,fc[5]=eb,fc[6]=Wg,hl[0]=ac,hl[1]=Jy,hl[2]=ab,hl[3]=U0,hl[4]=ku,hl[5]=sb,hl[6]=H0,N=1}else N=0}N&&(N=function(Ee,nt){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var We,be=Ee.Jc[Ee.M&Ee.Xb],Ne=Ee.m,tt=Ee;for(We=0;We<tt.za;++We){var lt=Ne,rt=tt,jt=rt.Ac,wt=rt.Bc+4*We,Ft=rt.zc,_t=rt.ya[rt.aa+We];if(rt.Qa.Bb?_t.$b=pe(lt,rt.Pa.jb[0])?2+pe(lt,rt.Pa.jb[2]):pe(lt,rt.Pa.jb[1]):_t.$b=0,rt.kc&&(_t.Ad=pe(lt,rt.Bd)),_t.Za=!pe(lt,145)+0,_t.Za){var wr=_t.Ob,jr=0;for(rt=0;4>rt;++rt){var gr,hr=Ft[0+rt];for(gr=0;4>gr;++gr){hr=RF[jt[wt+gr]][hr];for(var Gr=SN[pe(lt,hr[0])];0<Gr;)Gr=SN[2*Gr+pe(lt,hr[Gr])];hr=-Gr,jt[wt+gr]=hr}n(wr,jr,jt,wt,4),jr+=4,Ft[0+rt]=hr}}else hr=pe(lt,156)?pe(lt,128)?1:3:pe(lt,163)?2:0,_t.Ob[0]=hr,i(jt,wt,hr,4),i(Ft,0,hr,4);_t.Dd=pe(lt,142)?pe(lt,114)?pe(lt,183)?1:3:2:0}if(tt.m.Ka)return Nn(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(tt=be,lt=(Ne=Ee).rb[Ne.sb-1],jt=Ne.rb[Ne.sb+Ne.ja],We=Ne.ya[Ne.aa+Ne.ja],wt=Ne.kc?We.Ad:0)lt.la=jt.la=0,We.Za||(lt.Na=jt.Na=0),We.Hc=0,We.Gc=0,We.ia=0;else{var Ur,Jt;if(lt=jt,jt=tt,wt=Ne.Pa.Xc,Ft=Ne.ya[Ne.aa+Ne.ja],_t=Ne.pb[Ft.$b],rt=Ft.ad,wr=0,jr=Ne.rb[Ne.sb-1],hr=gr=0,i(rt,wr,0,384),Ft.Za)var Mn=0,ha=wt[3];else{Gr=a(16);var Fn=lt.Na+jr.Na;if(Fn=sp(jt,wt[1],Fn,_t.Eb,0,Gr,0),lt.Na=jr.Na=(0<Fn)+0,1<Fn)hf(Gr,0,rt,wr);else{var fa=Gr[0]+3>>3;for(Gr=0;256>Gr;Gr+=16)rt[wr+Gr]=fa}Mn=1,ha=wt[0]}var kr=15&lt.la,Ma=15&jr.la;for(Gr=0;4>Gr;++Gr){var Fa=1&Ma;for(fa=Jt=0;4>fa;++fa)kr=kr>>1|(Fa=(Fn=sp(jt,ha,Fn=Fa+(1&kr),_t.Sc,Mn,rt,wr))>Mn)<<7,Jt=Jt<<2|(3<Fn?3:1<Fn?2:rt[wr+0]!=0),wr+=16;kr>>=4,Ma=Ma>>1|Fa<<7,gr=(gr<<8|Jt)>>>0}for(ha=kr,Mn=Ma>>4,Ur=0;4>Ur;Ur+=2){for(Jt=0,kr=lt.la>>4+Ur,Ma=jr.la>>4+Ur,Gr=0;2>Gr;++Gr){for(Fa=1&Ma,fa=0;2>fa;++fa)Fn=Fa+(1&kr),kr=kr>>1|(Fa=0<(Fn=sp(jt,wt[2],Fn,_t.Qc,0,rt,wr)))<<3,Jt=Jt<<2|(3<Fn?3:1<Fn?2:rt[wr+0]!=0),wr+=16;kr>>=2,Ma=Ma>>1|Fa<<5}hr|=Jt<<4*Ur,ha|=kr<<4<<Ur,Mn|=(240&Ma)<<Ur}lt.la=ha,jr.la=Mn,Ft.Hc=gr,Ft.Gc=hr,Ft.ia=43690&hr?0:_t.ia,wt=!(gr|hr)}if(0<Ne.L&&(Ne.wa[Ne.Y+Ne.ja]=Ne.gd[We.$b][We.Za],Ne.wa[Ne.Y+Ne.ja].La|=!wt),tt.Ka)return Nn(Ee,7,"Premature end-of-file encountered.")}if(F0(Ee),Ne=nt,tt=1,We=(be=Ee).D,lt=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(We.M=be.M,We.uc=lt,Q0(be,We),tt=1,We=(Jt=be.D).Nb,lt=(hr=p1[be.L])*be.R,jt=hr/2*be.B,Gr=16*We*be.R,fa=8*We*be.B,wt=be.sa,Ft=be.ta-lt+Gr,_t=be.qa,rt=be.ra-jt+fa,wr=be.Ha,jr=be.Ia-jt+fa,Ma=(kr=Jt.M)==0,gr=kr>=be.Va-1,be.Aa==2&&Q0(be,Jt),Jt.uc)for(Fa=(Fn=be).D.M,e(Fn.D.uc),Jt=Fn.yb;Jt<Fn.Hb;++Jt){Mn=Jt,ha=Fa;var ti=(di=(xn=Fn).D).Nb;Ur=xn.R;var di=di.wa[di.Y+Mn],Xi=xn.sa,ps=xn.ta+16*ti*Ur+16*Mn,_o=di.dd,ri=di.tc;if(ri!=0)if(e(3<=ri),xn.L==1)0<Mn&&hc(Xi,ps,Ur,ri+4),di.La&&us(Xi,ps,Ur,ri),0<ha&&Fu(Xi,ps,Ur,ri+4),di.La&&ip(Xi,ps,Ur,ri);else{var fl=xn.B,Iu=xn.qa,mf=xn.ra+8*ti*fl+8*Mn,pc=xn.Ha,xn=xn.Ia+8*ti*fl+8*Mn;ti=di.ld,0<Mn&&(i1(Xi,ps,Ur,ri+4,_o,ti),Pu(Iu,mf,pc,xn,fl,ri+4,_o,ti)),di.La&&(uc(Xi,ps,Ur,ri,_o,ti),df(Iu,mf,pc,xn,fl,ri,_o,ti)),0<ha&&(ff(Xi,ps,Ur,ri+4,_o,ti),np(Iu,mf,pc,xn,fl,ri+4,_o,ti)),di.La&&(Ru(Xi,ps,Ur,ri,_o,ti),Mu(Iu,mf,pc,xn,fl,ri,_o,ti))}}if(be.ia&&alert("todo:DitherRow"),Ne.put!=null){if(Jt=16*kr,kr=16*(kr+1),Ma?(Ne.y=be.sa,Ne.O=be.ta+Gr,Ne.f=be.qa,Ne.N=be.ra+fa,Ne.ea=be.Ha,Ne.W=be.Ia+fa):(Jt-=hr,Ne.y=wt,Ne.O=Ft,Ne.f=_t,Ne.N=rt,Ne.ea=wr,Ne.W=jr),gr||(kr-=hr),kr>Ne.o&&(kr=Ne.o),Ne.F=null,Ne.J=null,be.Fa!=null&&0<be.Fa.length&&Jt<kr&&(Ne.J=$0(be,Ne,Jt,kr-Jt),Ne.F=be.mb,Ne.F==null&&Ne.F.length==0)){tt=Nn(be,3,"Could not decode alpha data.");break e}Jt<Ne.j&&(hr=Ne.j-Jt,Jt=Ne.j,e(!(1&hr)),Ne.O+=be.R*hr,Ne.N+=be.B*(hr>>1),Ne.W+=be.B*(hr>>1),Ne.F!=null&&(Ne.J+=Ne.width*hr)),Jt<kr&&(Ne.O+=Ne.v,Ne.N+=Ne.v>>1,Ne.W+=Ne.v>>1,Ne.F!=null&&(Ne.J+=Ne.v),Ne.ka=Jt-Ne.j,Ne.U=Ne.va-Ne.v,Ne.T=kr-Jt,tt=Ne.put(Ne))}We+1!=be.Ic||gr||(n(be.sa,be.ta-lt,wt,Ft+16*be.R,lt),n(be.qa,be.ra-jt,_t,rt+8*be.B,jt),n(be.Ha,be.Ia-jt,wr,jr+8*be.B,jt))}if(!tt)return Nn(Ee,6,"Output aborted.")}return 1}(g,w)),w.bc!=null&&w.bc(w),N&=1}return N?(g.cb=0,N):0}function Ms(g,w,N,k,U){U=g[w+N+32*k]+(U>>3),g[w+N+32*k]=-256&U?0>U?0:255:U}function Kh(g,w,N,k,U,V){Ms(g,w,0,N,k+U),Ms(g,w,1,N,k+V),Ms(g,w,2,N,k-V),Ms(g,w,3,N,k-U)}function la(g){return(20091*g>>16)+g}function I0(g,w,N,k){var U,V=0,G=a(16);for(U=0;4>U;++U){var Y=g[w+0]+g[w+8],J=g[w+0]-g[w+8],ne=(35468*g[w+4]>>16)-la(g[w+12]),ye=la(g[w+4])+(35468*g[w+12]>>16);G[V+0]=Y+ye,G[V+1]=J+ne,G[V+2]=J-ne,G[V+3]=Y-ye,V+=4,w++}for(U=V=0;4>U;++U)Y=(g=G[V+0]+4)+G[V+8],J=g-G[V+8],ne=(35468*G[V+4]>>16)-la(G[V+12]),Ms(N,k,0,0,Y+(ye=la(G[V+4])+(35468*G[V+12]>>16))),Ms(N,k,1,0,J+ne),Ms(N,k,2,0,J-ne),Ms(N,k,3,0,Y-ye),V++,k+=32}function Ug(g,w,N,k){var U=g[w+0]+4,V=35468*g[w+4]>>16,G=la(g[w+4]),Y=35468*g[w+1]>>16;Kh(N,k,0,U+G,g=la(g[w+1]),Y),Kh(N,k,1,U+V,g,Y),Kh(N,k,2,U-V,g,Y),Kh(N,k,3,U-G,g,Y)}function Xy(g,w,N,k,U){I0(g,w,N,k),U&&I0(g,w+16,N,k+4)}function Hg(g,w,N,k){cl(g,w+0,N,k,1),cl(g,w+32,N,k+128,1)}function $y(g,w,N,k){var U;for(g=g[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)Ms(N,k,w,U,g)}function qg(g,w,N,k){g[w+0]&&Yi(g,w+0,N,k),g[w+16]&&Yi(g,w+16,N,k+4),g[w+32]&&Yi(g,w+32,N,k+128),g[w+48]&&Yi(g,w+48,N,k+128+4)}function Ky(g,w,N,k){var U,V=a(16);for(U=0;4>U;++U){var G=g[w+0+U]+g[w+12+U],Y=g[w+4+U]+g[w+8+U],J=g[w+4+U]-g[w+8+U],ne=g[w+0+U]-g[w+12+U];V[0+U]=G+Y,V[8+U]=G-Y,V[4+U]=ne+J,V[12+U]=ne-J}for(U=0;4>U;++U)G=(g=V[0+4*U]+3)+V[3+4*U],Y=V[1+4*U]+V[2+4*U],J=V[1+4*U]-V[2+4*U],ne=g-V[3+4*U],N[k+0]=G+Y>>3,N[k+16]=ne+J>>3,N[k+32]=G-Y>>3,N[k+48]=ne-J>>3,k+=64}function B0(g,w,N){var k,U=w-32,V=Ra,G=255-g[U-1];for(k=0;k<N;++k){var Y,J=V,ne=G+g[w-1];for(Y=0;Y<N;++Y)g[w+Y]=J[ne+g[U+Y]];w+=32}}function Qy(g,w){B0(g,w,4)}function Jy(g,w){B0(g,w,8)}function Zy(g,w){B0(g,w,16)}function al(g,w){var N;for(N=0;16>N;++N)n(g,w+32*N,g,w-32,16)}function Qh(g,w){var N;for(N=16;0<N;--N)i(g,w,g[w-1],16),w+=32}function Jh(g,w,N){var k;for(k=0;16>k;++k)i(w,N+32*k,g,16)}function Vg(g,w){var N,k=16;for(N=0;16>N;++N)k+=g[w-1+32*N]+g[w+N-32];Jh(k>>5,g,w)}function Ei(g,w){var N,k=8;for(N=0;16>N;++N)k+=g[w-1+32*N];Jh(k>>4,g,w)}function eb(g,w){var N,k=8;for(N=0;16>N;++N)k+=g[w+N-32];Jh(k>>4,g,w)}function Wg(g,w){Jh(128,g,w)}function Gt(g,w,N){return g+2*w+N+2>>2}function tb(g,w){var N,k=w-32;for(k=new Uint8Array([Gt(g[k-1],g[k+0],g[k+1]),Gt(g[k+0],g[k+1],g[k+2]),Gt(g[k+1],g[k+2],g[k+3]),Gt(g[k+2],g[k+3],g[k+4])]),N=0;4>N;++N)n(g,w+32*N,k,0,k.length)}function rb(g,w){var N=g[w-1],k=g[w-1+32],U=g[w-1+64],V=g[w-1+96];Te(g,w+0,16843009*Gt(g[w-1-32],N,k)),Te(g,w+32,16843009*Gt(N,k,U)),Te(g,w+64,16843009*Gt(k,U,V)),Te(g,w+96,16843009*Gt(U,V,V))}function bo(g,w){var N,k=4;for(N=0;4>N;++N)k+=g[w+N-32]+g[w-1+32*N];for(k>>=3,N=0;4>N;++N)i(g,w+32*N,k,4)}function Gg(g,w){var N=g[w-1+0],k=g[w-1+32],U=g[w-1+64],V=g[w-1-32],G=g[w+0-32],Y=g[w+1-32],J=g[w+2-32],ne=g[w+3-32];g[w+0+96]=Gt(k,U,g[w-1+96]),g[w+1+96]=g[w+0+64]=Gt(N,k,U),g[w+2+96]=g[w+1+64]=g[w+0+32]=Gt(V,N,k),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=Gt(G,V,N),g[w+3+64]=g[w+2+32]=g[w+1+0]=Gt(Y,G,V),g[w+3+32]=g[w+2+0]=Gt(J,Y,G),g[w+3+0]=Gt(ne,J,Y)}function Yg(g,w){var N=g[w+1-32],k=g[w+2-32],U=g[w+3-32],V=g[w+4-32],G=g[w+5-32],Y=g[w+6-32],J=g[w+7-32];g[w+0+0]=Gt(g[w+0-32],N,k),g[w+1+0]=g[w+0+32]=Gt(N,k,U),g[w+2+0]=g[w+1+32]=g[w+0+64]=Gt(k,U,V),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=Gt(U,V,G),g[w+3+32]=g[w+2+64]=g[w+1+96]=Gt(V,G,Y),g[w+3+64]=g[w+2+96]=Gt(G,Y,J),g[w+3+96]=Gt(Y,J,J)}function Zh(g,w){var N=g[w-1+0],k=g[w-1+32],U=g[w-1+64],V=g[w-1-32],G=g[w+0-32],Y=g[w+1-32],J=g[w+2-32],ne=g[w+3-32];g[w+0+0]=g[w+1+64]=V+G+1>>1,g[w+1+0]=g[w+2+64]=G+Y+1>>1,g[w+2+0]=g[w+3+64]=Y+J+1>>1,g[w+3+0]=J+ne+1>>1,g[w+0+96]=Gt(U,k,N),g[w+0+64]=Gt(k,N,V),g[w+0+32]=g[w+1+96]=Gt(N,V,G),g[w+1+32]=g[w+2+96]=Gt(V,G,Y),g[w+2+32]=g[w+3+96]=Gt(G,Y,J),g[w+3+32]=Gt(Y,J,ne)}function z0(g,w){var N=g[w+0-32],k=g[w+1-32],U=g[w+2-32],V=g[w+3-32],G=g[w+4-32],Y=g[w+5-32],J=g[w+6-32],ne=g[w+7-32];g[w+0+0]=N+k+1>>1,g[w+1+0]=g[w+0+64]=k+U+1>>1,g[w+2+0]=g[w+1+64]=U+V+1>>1,g[w+3+0]=g[w+2+64]=V+G+1>>1,g[w+0+32]=Gt(N,k,U),g[w+1+32]=g[w+0+96]=Gt(k,U,V),g[w+2+32]=g[w+1+96]=Gt(U,V,G),g[w+3+32]=g[w+2+96]=Gt(V,G,Y),g[w+3+64]=Gt(G,Y,J),g[w+3+96]=Gt(Y,J,ne)}function nb(g,w){var N=g[w-1+0],k=g[w-1+32],U=g[w-1+64],V=g[w-1+96];g[w+0+0]=N+k+1>>1,g[w+2+0]=g[w+0+32]=k+U+1>>1,g[w+2+32]=g[w+0+64]=U+V+1>>1,g[w+1+0]=Gt(N,k,U),g[w+3+0]=g[w+1+32]=Gt(k,U,V),g[w+3+32]=g[w+1+64]=Gt(U,V,V),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=V}function ib(g,w){var N=g[w-1+0],k=g[w-1+32],U=g[w-1+64],V=g[w-1+96],G=g[w-1-32],Y=g[w+0-32],J=g[w+1-32],ne=g[w+2-32];g[w+0+0]=g[w+2+32]=N+G+1>>1,g[w+0+32]=g[w+2+64]=k+N+1>>1,g[w+0+64]=g[w+2+96]=U+k+1>>1,g[w+0+96]=V+U+1>>1,g[w+3+0]=Gt(Y,J,ne),g[w+2+0]=Gt(G,Y,J),g[w+1+0]=g[w+3+32]=Gt(N,G,Y),g[w+1+32]=g[w+3+64]=Gt(k,N,G),g[w+1+64]=g[w+3+96]=Gt(U,k,N),g[w+1+96]=Gt(V,U,k)}function ab(g,w){var N;for(N=0;8>N;++N)n(g,w+32*N,g,w-32,8)}function U0(g,w){var N;for(N=0;8>N;++N)i(g,w,g[w-1],8),w+=32}function ju(g,w,N){var k;for(k=0;8>k;++k)i(w,N+32*k,g,8)}function ac(g,w){var N,k=8;for(N=0;8>N;++N)k+=g[w+N-32]+g[w-1+32*N];ju(k>>4,g,w)}function sb(g,w){var N,k=4;for(N=0;8>N;++N)k+=g[w+N-32];ju(k>>3,g,w)}function ku(g,w){var N,k=4;for(N=0;8>N;++N)k+=g[w-1+32*N];ju(k>>3,g,w)}function H0(g,w){ju(128,g,w)}function ef(g,w,N){var k=g[w-N],U=g[w+0],V=3*(U-k)+fb[1020+g[w-2*N]-g[w+N]],G=s1[112+(V+4>>3)];g[w-N]=Ra[255+k+s1[112+(V+3>>3)]],g[w+0]=Ra[255+U-G]}function Xg(g,w,N,k){var U=g[w+0],V=g[w+N];return fs[255+g[w-2*N]-g[w-N]]>k||fs[255+V-U]>k}function $g(g,w,N,k){return 4*fs[255+g[w-N]-g[w+0]]+fs[255+g[w-2*N]-g[w+N]]<=k}function Kg(g,w,N,k,U){var V=g[w-3*N],G=g[w-2*N],Y=g[w-N],J=g[w+0],ne=g[w+N],ye=g[w+2*N],Re=g[w+3*N];return 4*fs[255+Y-J]+fs[255+G-ne]>k?0:fs[255+g[w-4*N]-V]<=U&&fs[255+V-G]<=U&&fs[255+G-Y]<=U&&fs[255+Re-ye]<=U&&fs[255+ye-ne]<=U&&fs[255+ne-J]<=U}function Qg(g,w,N,k){var U=2*k+1;for(k=0;16>k;++k)$g(g,w+k,N,U)&&ef(g,w+k,N)}function wo(g,w,N,k){var U=2*k+1;for(k=0;16>k;++k)$g(g,w+k*N,1,U)&&ef(g,w+k*N,1)}function sl(g,w,N,k){var U;for(U=3;0<U;--U)Qg(g,w+=4*N,N,k)}function ob(g,w,N,k){var U;for(U=3;0<U;--U)wo(g,w+=4,N,k)}function sc(g,w,N,k,U,V,G,Y){for(V=2*V+1;0<U--;){if(Kg(g,w,N,V,G))if(Xg(g,w,N,Y))ef(g,w,N);else{var J=g,ne=w,ye=N,Re=J[ne-2*ye],Me=J[ne-ye],Ee=J[ne+0],nt=J[ne+ye],We=J[ne+2*ye],be=27*(tt=fb[1020+3*(Ee-Me)+fb[1020+Re-nt]])+63>>7,Ne=18*tt+63>>7,tt=9*tt+63>>7;J[ne-3*ye]=Ra[255+J[ne-3*ye]+tt],J[ne-2*ye]=Ra[255+Re+Ne],J[ne-ye]=Ra[255+Me+be],J[ne+0]=Ra[255+Ee-be],J[ne+ye]=Ra[255+nt-Ne],J[ne+2*ye]=Ra[255+We-tt]}w+=k}}function Fs(g,w,N,k,U,V,G,Y){for(V=2*V+1;0<U--;){if(Kg(g,w,N,V,G))if(Xg(g,w,N,Y))ef(g,w,N);else{var J=g,ne=w,ye=N,Re=J[ne-ye],Me=J[ne+0],Ee=J[ne+ye],nt=s1[112+((We=3*(Me-Re))+4>>3)],We=s1[112+(We+3>>3)],be=nt+1>>1;J[ne-2*ye]=Ra[255+J[ne-2*ye]+be],J[ne-ye]=Ra[255+Re+We],J[ne+0]=Ra[255+Me-nt],J[ne+ye]=Ra[255+Ee-be]}w+=k}}function q0(g,w,N,k,U,V){sc(g,w,N,1,16,k,U,V)}function Ou(g,w,N,k,U,V){sc(g,w,1,N,16,k,U,V)}function lb(g,w,N,k,U,V){var G;for(G=3;0<G;--G)Fs(g,w+=4*N,N,1,16,k,U,V)}function tf(g,w,N,k,U,V){var G;for(G=3;0<G;--G)Fs(g,w+=4,1,N,16,k,U,V)}function cb(g,w,N,k,U,V,G,Y){sc(g,w,U,1,8,V,G,Y),sc(N,k,U,1,8,V,G,Y)}function V0(g,w,N,k,U,V,G,Y){sc(g,w,1,U,8,V,G,Y),sc(N,k,1,U,8,V,G,Y)}function W0(g,w,N,k,U,V,G,Y){Fs(g,w+4*U,U,1,8,V,G,Y),Fs(N,k+4*U,U,1,8,V,G,Y)}function Jg(g,w,N,k,U,V,G,Y){Fs(g,w+4,1,U,8,V,G,Y),Fs(N,k+4,1,U,8,V,G,Y)}function rf(){this.ba=new Zn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function G0(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Y0(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zg(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new O}function ub(){this.xb=this.a=0,this.l=new yo,this.ca=new Zn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zg,this.ab=0,this.gc=s(4,Y0),this.Oc=0}function nf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lu(g,w,N,k,U,V,G){for(g=g==null?0:g[w+0],w=0;w<G;++w)U[V+w]=g+N[k+w]&255,g=U[V+w]}function X0(g,w,N,k,U,V,G){var Y;if(g==null)Lu(null,null,N,k,U,V,G);else for(Y=0;Y<G;++Y)U[V+Y]=g[w+Y]+N[k+Y]&255}function oc(g,w,N,k,U,V,G){if(g==null)Lu(null,null,N,k,U,V,G);else{var Y,J=g[w+0],ne=J,ye=J;for(Y=0;Y<G;++Y)ne=ye+(J=g[w+Y])-ne,ye=N[k+Y]+(-256&ne?0>ne?0:255:ne)&255,ne=J,U[V+Y]=ye}}function $0(g,w,N,k){var U=w.width,V=w.o;if(e(g!=null&&w!=null),0>N||0>=k||N+k>V)return null;if(!g.Cc){if(g.ga==null){var G;if(g.ga=new nf,(G=g.ga==null)||(G=w.width*w.o,e(g.Gb.length==0),g.Gb=a(G),g.Uc=0,g.Gb==null?G=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,G=1),G=!G),!G){G=g.ga;var Y=g.Fa,J=g.P,ne=g.qc,ye=g.mb,Re=g.nb,Me=J+1,Ee=ne-1,nt=G.l;if(e(Y!=null&&ye!=null&&w!=null),dc[0]=null,dc[1]=Lu,dc[2]=X0,dc[3]=oc,G.ca=ye,G.tb=Re,G.c=w.width,G.i=w.height,e(0<G.c&&0<G.i),1>=ne)w=0;else if(G.$a=Y[J+0]>>0&3,G.Z=Y[J+0]>>2&3,G.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)w=0;else if(nt.put=qe,nt.ac=Ae,nt.bc=pt,nt.ma=G,nt.width=w.width,nt.height=w.height,nt.Da=w.Da,nt.v=w.v,nt.va=w.va,nt.j=w.j,nt.o=w.o,G.$a)e:{e(G.$a==1),w=Ve();t:for(;;){if(w==null){w=0;break e}if(e(G!=null),G.mc=w,w.c=G.c,w.i=G.i,w.l=G.l,w.l.ma=G,w.l.width=G.c,w.l.height=G.i,w.a=0,re(w.m,Y,Me,Ee),!Pe(G.c,G.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&K(w.s)?(G.ic=1,Y=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(Y),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(G.ic=0,w=Fe(w,G.c)),!w))break t;w=1;break e}G.mc=null,w=0}else w=Ee>=G.c*G.i;G=!w}if(G)return null;g.ga.Lc!=1?g.Ga=0:k=V-N}e(g.ga!=null),e(N+k<=V);e:{if(w=(Y=g.ga).c,V=Y.l.o,Y.$a==0){if(Me=g.rc,Ee=g.Vc,nt=g.Fa,J=g.P+1+N*w,ne=g.mb,ye=g.nb+N*w,e(J<=g.P+g.qc),Y.Z!=0)for(e(dc[Y.Z]!=null),G=0;G<k;++G)dc[Y.Z](Me,Ee,nt,J,ne,ye,w),Me=ne,Ee=ye,ye+=w,J+=w;else for(G=0;G<k;++G)n(ne,ye,nt,J,w),Me=ne,Ee=ye,ye+=w,J+=w;g.rc=Me,g.Vc=Ee}else{if(e(Y.mc!=null),w=N+k,e((G=Y.mc)!=null),e(w<=G.i),G.C>=w)w=1;else if(Y.ic||Le(),Y.ic){Y=G.V,Me=G.Ba,Ee=G.c;var We=G.i,be=(nt=1,J=G.$/Ee,ne=G.$%Ee,ye=G.m,Re=G.s,G.$),Ne=Ee*We,tt=Ee*w,lt=Re.wc,rt=be<tt?At(Re,ne,J):null;e(be<=Ne),e(w<=We),e(K(Re));t:for(;;){for(;!ye.h&&be<tt;){if(ne&lt||(rt=At(Re,ne,J)),e(rt!=null),Q(ye),256>(We=Ze(rt.G[0],rt.H[0],ye)))Y[Me+be]=We,++be,++ne>=Ee&&(ne=0,++J<=w&&!(J%16)&&ie(G,J));else{if(!(280>We)){nt=0;break t}We=ke(We-256,ye);var jt,wt=Ze(rt.G[4],rt.H[4],ye);if(Q(ye),!(be>=(wt=Je(Ee,wt=ke(wt,ye)))&&Ne-be>=We)){nt=0;break t}for(jt=0;jt<We;++jt)Y[Me+be+jt]=Y[Me+be+jt-wt];for(be+=We,ne+=We;ne>=Ee;)ne-=Ee,++J<=w&&!(J%16)&&ie(G,J);be<tt&&ne&lt&&(rt=At(Re,ne,J))}e(ye.h==R(ye))}ie(G,J>w?w:J);break t}!nt||ye.h&&be<Ne?(nt=0,G.a=ye.h?5:3):G.$=be,w=nt}else w=se(G,G.V,G.Ba,G.c,G.i,w,Ie);if(!w){k=0;break e}}N+k>=V&&(g.Cc=1),k=1}if(!k)return null;if(g.Cc&&((k=g.ga)!=null&&(k.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+N*U}function _(g,w,N,k,U,V){for(;0<U--;){var G,Y=g,J=w+(N?1:0),ne=g,ye=w+(N?0:3);for(G=0;G<k;++G){var Re=ne[ye+4*G];Re!=255&&(Re*=32897,Y[J+4*G+0]=Y[J+4*G+0]*Re>>23,Y[J+4*G+1]=Y[J+4*G+1]*Re>>23,Y[J+4*G+2]=Y[J+4*G+2]*Re>>23)}w+=V}}function H(g,w,N,k,U){for(;0<k--;){var V;for(V=0;V<N;++V){var G=g[w+2*V+0],Y=15&(ne=g[w+2*V+1]),J=4369*Y,ne=(240&ne|ne>>4)*J>>16;g[w+2*V+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,g[w+2*V+1]=240&ne|Y}w+=U}}function oe(g,w,N,k,U,V,G,Y){var J,ne,ye=255;for(ne=0;ne<U;++ne){for(J=0;J<k;++J){var Re=g[w+J];V[G+4*J]=Re,ye&=Re}w+=N,G+=Y}return ye!=255}function xe(g,w,N,k,U){var V;for(V=0;V<U;++V)N[k+V]=g[w+V]>>8}function Le(){hs=_,Kr=H,Qr=oe,Cn=xe}function $e(g,w,N){L[g]=function(k,U,V,G,Y,J,ne,ye,Re,Me,Ee,nt,We,be,Ne,tt,lt){var rt,jt=lt-1>>1,wt=Y[J+0]|ne[ye+0]<<16,Ft=Re[Me+0]|Ee[nt+0]<<16;e(k!=null);var _t=3*wt+Ft+131074>>2;for(w(k[U+0],255&_t,_t>>16,We,be),V!=null&&(_t=3*Ft+wt+131074>>2,w(V[G+0],255&_t,_t>>16,Ne,tt)),rt=1;rt<=jt;++rt){var wr=Y[J+rt]|ne[ye+rt]<<16,jr=Re[Me+rt]|Ee[nt+rt]<<16,gr=wt+wr+Ft+jr+524296,hr=gr+2*(wr+Ft)>>3;_t=hr+wt>>1,wt=(gr=gr+2*(wt+jr)>>3)+wr>>1,w(k[U+2*rt-1],255&_t,_t>>16,We,be+(2*rt-1)*N),w(k[U+2*rt-0],255&wt,wt>>16,We,be+(2*rt-0)*N),V!=null&&(_t=gr+Ft>>1,wt=hr+jr>>1,w(V[G+2*rt-1],255&_t,_t>>16,Ne,tt+(2*rt-1)*N),w(V[G+2*rt+0],255&wt,wt>>16,Ne,tt+(2*rt+0)*N)),wt=wr,Ft=jr}1&lt||(_t=3*wt+Ft+131074>>2,w(k[U+lt-1],255&_t,_t>>16,We,be+(lt-1)*N),V!=null&&(_t=3*Ft+wt+131074>>2,w(V[G+lt-1],255&_t,_t>>16,Ne,tt+(lt-1)*N)))}}function ct(){ds[o1]=BF,ds[l1]=NN,ds[yN]=zF,ds[c1]=TN,ds[u1]=CN,ds[db]=AN,ds[bN]=UF,ds[pb]=NN,ds[mb]=TN,ds[h1]=CN,ds[gb]=AN}function Et(g){return g&-16384?0>g?0:255:g>>HF}function Mt(g,w){return Et((19077*g>>8)+(26149*w>>8)-14234)}function Kt(g,w,N){return Et((19077*g>>8)-(6419*w>>8)-(13320*N>>8)+8708)}function Yt(g,w){return Et((19077*g>>8)+(33050*w>>8)-17685)}function pr(g,w,N,k,U){k[U+0]=Mt(g,N),k[U+1]=Kt(g,w,N),k[U+2]=Yt(g,w)}function hn(g,w,N,k,U){k[U+0]=Yt(g,w),k[U+1]=Kt(g,w,N),k[U+2]=Mt(g,N)}function gn(g,w,N,k,U){var V=Kt(g,w,N);w=V<<3&224|Yt(g,w)>>3,k[U+0]=248&Mt(g,N)|V>>5,k[U+1]=w}function Rn(g,w,N,k,U){var V=240&Yt(g,w)|15;k[U+0]=240&Mt(g,N)|Kt(g,w,N)>>4,k[U+1]=V}function ji(g,w,N,k,U){k[U+0]=255,pr(g,w,N,k,U+1)}function ei(g,w,N,k,U){hn(g,w,N,k,U),k[U+3]=255}function Is(g,w,N,k,U){pr(g,w,N,k,U),k[U+3]=255}function Pa(g,w){return 0>g?0:g>w?w:g}function So(g,w,N){L[g]=function(k,U,V,G,Y,J,ne,ye,Re){for(var Me=ye+(-2&Re)*N;ye!=Me;)w(k[U+0],V[G+0],Y[J+0],ne,ye),w(k[U+1],V[G+0],Y[J+0],ne,ye+N),U+=2,++G,++J,ye+=2*N;1&Re&&w(k[U+0],V[G+0],Y[J+0],ne,ye)}}function e1(g,w,N){return N==0?g==0?w==0?6:5:w==0?4:0:N}function K0(g,w,N,k,U){switch(g>>>30){case 3:cl(w,N,k,U,0);break;case 2:Tn(w,N,k,U);break;case 1:Yi(w,N,k,U)}}function Q0(g,w){var N,k,U=w.M,V=w.Nb,G=g.oc,Y=g.pc+40,J=g.oc,ne=g.pc+584,ye=g.oc,Re=g.pc+600;for(N=0;16>N;++N)G[Y+32*N-1]=129;for(N=0;8>N;++N)J[ne+32*N-1]=129,ye[Re+32*N-1]=129;for(0<U?G[Y-1-32]=J[ne-1-32]=ye[Re-1-32]=129:(i(G,Y-32-1,127,21),i(J,ne-32-1,127,9),i(ye,Re-32-1,127,9)),k=0;k<g.za;++k){var Me=w.ya[w.aa+k];if(0<k){for(N=-1;16>N;++N)n(G,Y+32*N-4,G,Y+32*N+12,4);for(N=-1;8>N;++N)n(J,ne+32*N-4,J,ne+32*N+4,4),n(ye,Re+32*N-4,ye,Re+32*N+4,4)}var Ee=g.Gd,nt=g.Hd+k,We=Me.ad,be=Me.Hc;if(0<U&&(n(G,Y-32,Ee[nt].y,0,16),n(J,ne-32,Ee[nt].f,0,8),n(ye,Re-32,Ee[nt].ea,0,8)),Me.Za){var Ne=G,tt=Y-32+16;for(0<U&&(k>=g.za-1?i(Ne,tt,Ee[nt].y[15],4):n(Ne,tt,Ee[nt+1].y,0,4)),N=0;4>N;N++)Ne[tt+128+N]=Ne[tt+256+N]=Ne[tt+384+N]=Ne[tt+0+N];for(N=0;16>N;++N,be<<=2)Ne=G,tt=Y+jN[N],Bs[Me.Ob[N]](Ne,tt),K0(be,We,16*+N,Ne,tt)}else if(Ne=e1(k,U,Me.Ob[0]),fc[Ne](G,Y),be!=0)for(N=0;16>N;++N,be<<=2)K0(be,We,16*+N,G,Y+jN[N]);for(N=Me.Gc,Ne=e1(k,U,Me.Dd),hl[Ne](J,ne),hl[Ne](ye,Re),be=We,Ne=J,tt=ne,255&(Me=N>>0)&&(170&Me?rp(be,256,Ne,tt):cs(be,256,Ne,tt)),Me=ye,be=Re,255&(N>>=8)&&(170&N?rp(We,320,Me,be):cs(We,320,Me,be)),U<g.Ub-1&&(n(Ee[nt].y,0,G,Y+480,16),n(Ee[nt].f,0,J,ne+224,8),n(Ee[nt].ea,0,ye,Re+224,8)),N=8*V*g.B,Ee=g.sa,nt=g.ta+16*k+16*V*g.R,We=g.qa,Me=g.ra+8*k+N,be=g.Ha,Ne=g.Ia+8*k+N,N=0;16>N;++N)n(Ee,nt+N*g.R,G,Y+32*N,16);for(N=0;8>N;++N)n(We,Me+N*g.B,J,ne+32*N,8),n(be,Ne+N*g.B,ye,Re+32*N,8)}}function af(g,w,N,k,U,V,G,Y,J){var ne=[0],ye=[0],Re=0,Me=J!=null?J.kd:0,Ee=J??new G0;if(g==null||12>N)return 7;Ee.data=g,Ee.w=w,Ee.ha=N,w=[w],N=[N],Ee.gb=[Ee.gb];e:{var nt=w,We=N,be=Ee.gb;if(e(g!=null),e(We!=null),e(be!=null),be[0]=0,12<=We[0]&&!r(g,nt[0],"RIFF")){if(r(g,nt[0]+8,"WEBP")){be=3;break e}var Ne=et(g,nt[0]+4);if(12>Ne||4294967286<Ne){be=3;break e}if(Me&&Ne>We[0]-8){be=7;break e}be[0]=Ne,nt[0]+=12,We[0]-=12}be=0}if(be!=0)return be;for(Ne=0<Ee.gb[0],N=N[0];;){e:{var tt=g;We=w,be=N;var lt=ne,rt=ye,jt=nt=[0];if((_t=Re=[Re])[0]=0,8>be[0])be=7;else{if(!r(tt,We[0],"VP8X")){if(et(tt,We[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var wt=et(tt,We[0]+8),Ft=1+Qe(tt,We[0]+12);if(2147483648<=Ft*(tt=1+Qe(tt,We[0]+15))){be=3;break e}jt!=null&&(jt[0]=wt),lt!=null&&(lt[0]=Ft),rt!=null&&(rt[0]=tt),We[0]+=18,be[0]-=18,_t[0]=1}be=0}}if(Re=Re[0],nt=nt[0],be!=0)return be;if(We=!!(2&nt),!Ne&&Re)return 3;if(V!=null&&(V[0]=!!(16&nt)),G!=null&&(G[0]=We),Y!=null&&(Y[0]=0),G=ne[0],nt=ye[0],Re&&We&&J==null){be=0;break}if(4>N){be=7;break}if(Ne&&Re||!Ne&&!Re&&!r(g,w[0],"ALPH")){N=[N],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{wt=g,be=w,Ne=N;var _t=Ee.gb;lt=Ee.na,rt=Ee.P,jt=Ee.Sa,Ft=22,e(wt!=null),e(Ne!=null),tt=be[0];var wr=Ne[0];for(e(lt!=null),e(jt!=null),lt[0]=null,rt[0]=null,jt[0]=0;;){if(be[0]=tt,Ne[0]=wr,8>wr){be=7;break e}var jr=et(wt,tt+4);if(4294967286<jr){be=3;break e}var gr=8+jr+1&-2;if(Ft+=gr,0<_t&&Ft>_t){be=3;break e}if(!r(wt,tt,"VP8 ")||!r(wt,tt,"VP8L")){be=0;break e}if(wr[0]<gr){be=7;break e}r(wt,tt,"ALPH")||(lt[0]=wt,rt[0]=tt+8,jt[0]=jr),tt+=gr,wr-=gr}}if(N=N[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],be!=0)break}N=[N],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(_t=g,be=w,Ne=N,lt=Ee.gb[0],rt=Ee.Ja,jt=Ee.xa,wt=be[0],tt=!r(_t,wt,"VP8 "),Ft=!r(_t,wt,"VP8L"),e(_t!=null),e(Ne!=null),e(rt!=null),e(jt!=null),8>Ne[0])be=7;else{if(tt||Ft){if(_t=et(_t,wt+4),12<=lt&&_t>lt-12){be=3;break e}if(Me&&_t>Ne[0]-8){be=7;break e}rt[0]=_t,be[0]+=8,Ne[0]-=8,jt[0]=Ft}else jt[0]=5<=Ne[0]&&_t[wt+0]==47&&!(_t[wt+4]>>5),rt[0]=Ne[0];be=0}if(N=N[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],w=w[0],be!=0)break;if(4294967286<Ee.Ja)return 3;if(Y==null||We||(Y[0]=Ee.xa?2:1),G=[G],nt=[nt],Ee.xa){if(5>N){be=7;break}Y=G,Me=nt,We=V,g==null||5>N?g=0:5<=N&&g[w+0]==47&&!(g[w+4]>>5)?(Ne=[0],_t=[0],lt=[0],re(rt=new A,g,w,N),Be(rt,Ne,_t,lt)?(Y!=null&&(Y[0]=Ne[0]),Me!=null&&(Me[0]=_t[0]),We!=null&&(We[0]=lt[0]),g=1):g=0):g=0}else{if(10>N){be=7;break}Y=nt,g==null||10>N||!Ig(g,w+3,N-3)?g=0:(Me=g[w+0]|g[w+1]<<8|g[w+2]<<16,We=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Ee.Ja||!We||!g?g=0:(G&&(G[0]=We),Y&&(Y[0]=g),g=1))}if(!g||(G=G[0],nt=nt[0],Re&&(ne[0]!=G||ye[0]!=nt)))return 3;J!=null&&(J[0]=Ee,J.offset=w-J.w,e(4294967286>w-J.w),e(J.offset==J.ha-N));break}return be==0||be==7&&Re&&J==null?(V!=null&&(V[0]|=Ee.na!=null&&0<Ee.na.length),k!=null&&(k[0]=G),U!=null&&(U[0]=nt),0):be}function J0(g,w,N){var k=w.width,U=w.height,V=0,G=0,Y=k,J=U;if(w.Da=g!=null&&0<g.Da,w.Da&&(Y=g.cd,J=g.bd,V=g.v,G=g.j,11>N||(V&=-2,G&=-2),0>V||0>G||0>=Y||0>=J||V+Y>k||G+J>U))return 0;if(w.v=V,w.j=G,w.va=V+Y,w.o=G+J,w.U=Y,w.T=J,w.da=g!=null&&0<g.da,w.da){if(!je(Y,J,N=[g.ib],V=[g.hb]))return 0;w.ib=N[0],w.hb=V[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*k/4&&w.hb<3*U/4,w.Kb=0),1}function Z0(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function sf(g,w,N,k){if(k==null||0>=g||0>=w)return 2;if(N!=null){if(N.Da){var U=N.cd,V=N.bd,G=-2&N.v,Y=-2&N.j;if(0>G||0>Y||0>=U||0>=V||G+U>g||Y+V>w)return 2;g=U,w=V}if(N.da){if(!je(g,w,U=[N.ib],V=[N.hb]))return 2;g=U[0],w=V[0]}}k.width=g,k.height=w;e:{var J=k.width,ne=k.height;if(g=k.S,0>=J||0>=ne||!(g>=o1&&13>g))g=2;else{if(0>=k.Rd&&k.sd==null){G=V=U=w=0;var ye=(Y=J*kN[g])*ne;if(11>g||(V=(ne+1)/2*(w=(J+1)/2),g==12&&(G=(U=J)*ne)),(ne=a(ye+2*V+G))==null){g=1;break e}k.sd=ne,11>g?((J=k.f.RGBA).eb=ne,J.fb=0,J.A=Y,J.size=ye):((J=k.f.kb).y=ne,J.O=0,J.fa=Y,J.Fd=ye,J.f=ne,J.N=0+ye,J.Ab=w,J.Cd=V,J.ea=ne,J.W=0+ye+V,J.Db=w,J.Ed=V,g==12&&(J.F=ne,J.J=0+ye+2*V),J.Tc=G,J.lb=U)}if(w=1,U=k.S,V=k.width,G=k.height,U>=o1&&13>U)if(11>U)g=k.f.RGBA,w&=(Y=Math.abs(g.A))*(G-1)+V<=g.size,w&=Y>=V*kN[U],w&=g.eb!=null;else{g=k.f.kb,Y=(V+1)/2,ye=(G+1)/2,J=Math.abs(g.fa),ne=Math.abs(g.Ab);var Re=Math.abs(g.Db),Me=Math.abs(g.lb),Ee=Me*(G-1)+V;w&=J*(G-1)+V<=g.Fd,w&=ne*(ye-1)+Y<=g.Cd,w=(w&=Re*(ye-1)+Y<=g.Ed)&J>=V&ne>=Y&Re>=Y,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,U==12&&(w&=Me>=V,w&=Ee<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||N!=null&&N.fd&&(g=Z0(k)),g}var fi=64,of=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],lf=24,cf=32,ep=8,ca=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(g){return g},L.Predictor2=function(g,w,N){return w[N+0]},L.Predictor3=function(g,w,N){return w[N+1]},L.Predictor4=function(g,w,N){return w[N-1]},L.Predictor5=function(g,w,N){return ht(ht(g,w[N+1]),w[N+0])},L.Predictor6=function(g,w,N){return ht(g,w[N-1])},L.Predictor7=function(g,w,N){return ht(g,w[N+0])},L.Predictor8=function(g,w,N){return ht(w[N-1],w[N+0])},L.Predictor9=function(g,w,N){return ht(w[N+0],w[N+1])},L.Predictor10=function(g,w,N){return ht(ht(g,w[N-1]),ht(w[N+0],w[N+1]))},L.Predictor11=function(g,w,N){var k=w[N+0];return 0>=it(k>>24&255,g>>24&255,(w=w[N-1])>>24&255)+it(k>>16&255,g>>16&255,w>>16&255)+it(k>>8&255,g>>8&255,w>>8&255)+it(255&k,255&g,255&w)?k:g},L.Predictor12=function(g,w,N){var k=w[N+0];return(Ct((g>>24&255)+(k>>24&255)-((w=w[N-1])>>24&255))<<24|Ct((g>>16&255)+(k>>16&255)-(w>>16&255))<<16|Ct((g>>8&255)+(k>>8&255)-(w>>8&255))<<8|Ct((255&g)+(255&k)-(255&w)))>>>0},L.Predictor13=function(g,w,N){var k=w[N-1];return(Ue((g=ht(g,w[N+0]))>>24&255,k>>24&255)<<24|Ue(g>>16&255,k>>16&255)<<16|Ue(g>>8&255,k>>8&255)<<8|Ue(g>>0&255,k>>0&255))>>>0};var hb=L.PredictorAdd0;L.PredictorAdd1=bt,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var tp=L.PredictorAdd2;Rt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var t1,ls=L.ColorIndexInverseTransform,uf=L.MapARGB,r1=L.VP8LColorIndexInverseTransformAlpha,n1=L.MapAlpha,lc=L.VP8LPredictorsAdd=[];lc.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Du,ua,Gi,cc,ol,ll,hf,cl,Tn,rp,Yi,cs,ff,i1,np,Pu,Ru,uc,Mu,df,Fu,hc,ip,us,hs,Kr,Qr,Cn,Gn=a(511),ul=a(2041),ap=a(225),pf=a(767),a1=0,fb=ul,s1=ap,Ra=pf,fs=Gn,o1=0,l1=1,yN=2,c1=3,u1=4,db=5,bN=6,pb=7,mb=8,h1=9,gb=10,TF=[2,3,7],CF=[3,3,11],wN=[280,256,256,256,40],AF=[0,1,1,1,0],EF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],kF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],OF=8,xb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sp=null,LF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],DF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],SN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],PF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],MF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fc=[],Bs=[],hl=[],IF=1,_N=2,dc=[],ds=[];$e("UpsampleRgbLinePair",pr,3),$e("UpsampleBgrLinePair",hn,3),$e("UpsampleRgbaLinePair",Is,4),$e("UpsampleBgraLinePair",ei,4),$e("UpsampleArgbLinePair",ji,4),$e("UpsampleRgba4444LinePair",Rn,2),$e("UpsampleRgb565LinePair",gn,2);var BF=L.UpsampleRgbLinePair,zF=L.UpsampleBgrLinePair,NN=L.UpsampleRgbaLinePair,TN=L.UpsampleBgraLinePair,CN=L.UpsampleArgbLinePair,AN=L.UpsampleRgba4444LinePair,UF=L.UpsampleRgb565LinePair,f1=16,d1=1<<f1-1,op=-227,yb=482,HF=6,EN=0,qF=a(256),VF=a(256),WF=a(256),GF=a(256),YF=a(yb-op),XF=a(yb-op);So("YuvToRgbRow",pr,3),So("YuvToBgrRow",hn,3),So("YuvToRgbaRow",Is,4),So("YuvToBgraRow",ei,4),So("YuvToArgbRow",ji,4),So("YuvToRgba4444Row",Rn,2),So("YuvToRgb565Row",gn,2);var jN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],p1=[0,2,8],$F=[8,7,6,4,4,2,2,2,1,1,1,1],KF=1;this.WebPDecodeRGBA=function(g,w,N,k,U){var V=l1,G=new rf,Y=new Zn;G.ba=Y,Y.S=V,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,ne=Y.height,ye=new La;if(ye==null||g==null)var Re=2;else e(ye!=null),Re=af(g,w,N,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Re!=0?J=0:(J!=null&&(J[0]=ye.width[0]),ne!=null&&(ne[0]=ye.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],k!=null&&(k[0]=Y.width),U!=null&&(U[0]=Y.height);e:{if(k=new yo,(U=new G0).data=g,U.w=w,U.ha=N,U.kd=1,w=[0],e(U!=null),((g=af(U.data,U.w,U.ha,null,null,null,w,null,U))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(e(G!=null),k.data=U.data,k.w=U.w+U.offset,k.ha=U.ha-U.offset,k.put=qe,k.ac=Ae,k.bc=pt,k.ma=G,U.xa){if((g=Ve())==null){G=1;break e}if(function(Me,Ee){var nt=[0],We=[0],be=[0];t:for(;;){if(Me==null)return 0;if(Ee==null)return Me.a=2,0;if(Me.l=Ee,Me.a=0,re(Me.m,Ee.data,Ee.w,Ee.ha),!Be(Me.m,nt,We,be)){Me.a=3;break t}if(Me.xb=_N,Ee.width=nt[0],Ee.height=We[0],!Pe(nt[0],We[0],1,Me,null))break t;return 1}return e(Me.a!=0),0}(g,k)){if(k=(w=sf(k.width,k.height,G.Oa,G.ba))==0){t:{k=g;r:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((N=k.l)!=null),e((U=N.ma)!=null),k.xb!=0){if(k.ca=U.ba,k.tb=U.tb,e(k.ca!=null),!J0(U.Oa,N,c1)){k.a=2;break r}if(!Fe(k,N.width)||N.da)break r;if((N.da||ir(k.ca.S))&&Le(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Le()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!me(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!se(k,k.V,k.Ba,k.c,k.i,N.o,te))break r;U.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(w=g.a)}else w=g.a}else{if((g=new Da)==null){G=1;break e}if(g.Fa=U.na,g.P=U.P,g.qc=U.Sa,Bg(g,k)){if((w=sf(k.width,k.height,G.Oa,G.ba))==0){if(g.Aa=0,N=G.Oa,e((U=g)!=null),N!=null){if(0<(J=0>(J=N.Md)?0:100<J?255:255*J/100)){for(ne=ye=0;4>ne;++ne)12>(Re=U.pb[ne]).lc&&(Re.ia=J*$F[0>Re.lc?0:Re.lc]>>3),ye|=Re.ia;ye&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=N.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}Yy(g,k)||(w=g.a)}}else w=g.a}w==0&&G.Oa!=null&&G.Oa.fd&&(w=Z0(G.ba))}G=w}V=G!=0?null:11>V?Y.f.RGBA.eb:Y.f.kb.y}else V=null;return V};var kN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(L,F){for(var W="",D=0;D<4;D++)W+=String.fromCharCode(L[F++]);return W}function h(L,F){return(L[F+0]<<0|L[F+1]<<8|L[F+2]<<16)>>>0}function f(L,F){return(L[F+0]<<0|L[F+1]<<8|L[F+2]<<16|L[F+3]<<24)>>>0}new c;var d=[0],p=[0],x=[],m=new c,y=t,v=function(L,F){var W={},D=0,O=!1,q=0,I=0;if(W.frames=[],!function(M,R,B,Q){for(var fe=0;fe<Q;fe++)if(M[R+fe]!=B.charCodeAt(fe))return!0;return!1}(L,F,"RIFF",4)){for(f(L,F+=4),F+=8;F<L.length;){var ae=u(L,F),X=f(L,F+=4);F+=4;var le=X+(1&X);switch(ae){case"VP8 ":case"VP8L":W.frames[D]===void 0&&(W.frames[D]={}),(ge=W.frames[D]).src_off=O?I:F-8,ge.src_size=q+X+8,D++,O&&(O=!1,q=0,I=0);break;case"VP8X":(ge=W.header={}).feature_flags=L[F];var re=F+4;ge.canvas_width=1+h(L,re),re+=3,ge.canvas_height=1+h(L,re),re+=3;break;case"ALPH":O=!0,q=le+8,I=F-8;break;case"ANIM":(ge=W.header).bgcolor=f(L,F),re=F+4,ge.loop_count=(Ge=L)[(A=re)+0]<<0|Ge[A+1]<<8,re+=2;break;case"ANMF":var ue,ge;(ge=W.frames[D]={}).offset_x=2*h(L,F),F+=3,ge.offset_y=2*h(L,F),F+=3,ge.width=1+h(L,F),F+=3,ge.height=1+h(L,F),F+=3,ge.duration=h(L,F),F+=3,ue=L[F++],ge.dispose=1&ue,ge.blend=ue>>1&1}ae!="ANMF"&&(F+=le)}var Ge,A;return W}}(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,S=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,d=[b.canvas_height],p=[b.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var E=S[0],P=m.WebPDecodeRGBA(y,E.src_off,E.src_size,p,d);E.rgba=P,E.imgwidth=p[0],E.imgheight=d[0];for(var j=0;j<p[0]*d[0]*4;j++)x[j]=P[j];return this.width=p,this.height=d,this.data=x,this}(function(t){var e=function(){return typeof u4=="function"},r=function(d,p,x,m){var y=4,v=s;switch(m){case t.image_compression.FAST:y=1,v=a;break;case t.image_compression.MEDIUM:y=6,v=o;break;case t.image_compression.SLOW:y=9,v=c}d=n(d,p,x,v);var b=u4(d,{level:y});return t.__addimage__.arrayBufferToBinaryString(b)},n=function(d,p,x,m){for(var y,v,b,S=d.length/p,T=new Uint8Array(d.length+S),E=h(),P=0;P<S;P+=1){if(b=P*p,y=d.subarray(b,b+p),m)T.set(m(y,x,v),b+P);else{for(var j,L=E.length,F=[];j<L;j+=1)F[j]=E[j](y,x,v);var W=f(F.concat());T.set(F[W],b+P)}v=y}return T},i=function(d){var p=Array.apply([],d);return p.unshift(0),p},a=function(d,p){var x,m=[],y=d.length;m[0]=1;for(var v=0;v<y;v+=1)x=d[v-p]||0,m[v+1]=d[v]-x+256&255;return m},s=function(d,p,x){var m,y=[],v=d.length;y[0]=2;for(var b=0;b<v;b+=1)m=x&&x[b]||0,y[b+1]=d[b]-m+256&255;return y},o=function(d,p,x){var m,y,v=[],b=d.length;v[0]=3;for(var S=0;S<b;S+=1)m=d[S-p]||0,y=x&&x[S]||0,v[S+1]=d[S]+256-(m+y>>>1)&255;return v},c=function(d,p,x){var m,y,v,b,S=[],T=d.length;S[0]=4;for(var E=0;E<T;E+=1)m=d[E-p]||0,y=x&&x[E]||0,v=x&&x[E-p]||0,b=u(m,y,v),S[E+1]=d[E]-b+256&255;return S},u=function(d,p,x){if(d===p&&p===x)return d;var m=Math.abs(p-x),y=Math.abs(d-x),v=Math.abs(d+p-x-x);return m<=y&&m<=v?d:y<=v?p:x},h=function(){return[i,a,s,o,c]},f=function(d){var p=d.map(function(x){return x.reduce(function(m,y){return m+Math.abs(y)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(d,p,x,m){var y,v,b,S,T,E,P,j,L,F,W,D,O,q,I,ae=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(b=new SJ(d)).imgData,v=b.bits,y=b.colorSpace,T=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){L=(j=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,W=new Uint8Array(L*b.colors),F=new Uint8Array(L);var le,re=b.pixelBitlength-b.bits;for(q=0,I=0;q<L;q++){for(O=j[q],le=0;le<re;)W[I++]=O>>>le&255,le+=b.bits;F[q]=O>>>le&255}}if(b.bits===16){L=(j=new Uint32Array(b.decodePixels().buffer)).length,W=new Uint8Array(L*(32/b.pixelBitlength)*b.colors),F=new Uint8Array(L*(32/b.pixelBitlength)),D=b.colors>1,q=0,I=0;for(var ue=0;q<L;)O=j[q++],W[I++]=O>>>0&255,D&&(W[I++]=O>>>16&255,O=j[q++],W[I++]=O>>>0&255),F[ue++]=O>>>16&255;v=8}m!==t.image_compression.NONE&&e()?(d=r(W,b.width*b.colors,b.colors,m),P=r(F,b.width,1,m)):(d=W,P=F,ae=void 0)}if(b.colorType===3&&(y=this.color_spaces.INDEXED,E=b.palette,b.transparency.indexed)){var ge=b.transparency.indexed,Ge=0;for(q=0,L=ge.length;q<L;++q)Ge+=ge[q];if((Ge/=255)===L-1&&ge.indexOf(0)!==-1)S=[ge.indexOf(0)];else if(Ge!==L){for(j=b.decodePixels(),F=new Uint8Array(j.length),q=0,L=j.length;q<L;q++)F[q]=ge[j[q]];P=r(F,b.width,1)}}var A=function(M){var R;switch(M){case t.image_compression.FAST:R=11;break;case t.image_compression.MEDIUM:R=13;break;case t.image_compression.SLOW:R=14;break;default:R=12}return R}(m);return ae===this.decode.FLATE_DECODE&&(X="/Predictor "+A+" "),X+="/Colors "+T+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:x,data:d,index:p,filter:ae,decodeParameters:X,transparency:S,palette:E,sMask:P,predictor:A,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:y}}}})(zt.API),function(t){t.processGIF89A=function(e,r,n,i){var a=new _J(e),s=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},h=new Gw(100).encode(u,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A}(zt.API),qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Yr.log("bit decode error:"+r)}},qs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},qs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},qs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},qs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,h=n*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=u}this.pos+=t}},qs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},qs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},qs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},qs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new qs(e,!1),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new Gw(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(zt.API),CE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new CE(e),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new Gw(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(zt.API),zt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var h=n[u],f=n[u+1],d=n[u+2],p=n[u+3];a[o++]=h,a[o++]=f,a[o++]=d,s[c++]=p}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},zt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cf=zt.API,bx=Cf.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=e.doKerning!==!1,d=0,p=t.length,x=0,m=o[0]||c,y=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(d=f&&Rr(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/h:0,y.push((o[n]||m)/c+d)),x=n;return y},SE=Cf.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Cf.processArabic&&(t=Cf.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:bx.apply(this,arguments).reduce(function(a,s){return a+s},0)},_E=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var c=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(c,a)),o=0,c=a),o+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},NE=function(t,e,r){r||(r={});var n,i,a,s,o,c,u,h=[],f=[h],d=r.textIndent||0,p=0,x=0,m=t.split(" "),y=bx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),b=[];m.map(function(T){(T=T.split(/\s*\n/)).length>1?b=b.concat(T.map(function(E,P){return(P&&E.length?`
`:"")+E})):b.push(T[0])}),m=b,c=SE.apply(this,[v,r])}for(a=0,s=m.length;a<s;a++){var S=0;if(n=m[a],c&&n[0]==`
`&&(n=n.substr(1),S=1),d+p+(x=(i=bx.apply(this,[n,r])).reduce(function(T,E){return T+E},0))>e||S){if(x>e){for(o=_E.apply(this,[n,i,e-(d+p),e]),h.push(o.shift()),h=[o.pop()];o.length;)f.push([o.shift()]);x=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(T,E){return T+E},0)}else h=[n];f.push(h),d=x+c,p=y}else h.push(n),d+=p+x,p=y}return u=c?function(T,E){return(E?v:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},Cf.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(NE.apply(this,[n[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},s=t.__fontmetrics__.compress=function(f){var d,p,x,m,y=["{"];for(var v in f){if(d=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=a(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof d=="number")d<0?(x=a(d).slice(3),m="-"):(x=a(d).slice(2),m=""),x=m+x.slice(0,-1)+n[x.slice(-1)];else{if(Rr(d)!=="object")throw new Error("Don't know what to do with value type "+Rr(d)+".");x=s(d)}y.push(p+x)}return y.push("}"),y.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,p,x,m,y={},v=1,b=y,S=[],T="",E="",P=f.length-1,j=1;j<P;j+=1)(m=f[j])=="'"?d?(x=d.join(""),d=void 0):d=[]:d?d.push(m):m=="{"?(S.push([b,x]),b={},x=void 0):m=="}"?((p=S.pop())[0][p[1]]=b,x=void 0,b=p[0]):m=="-"?v=-1:x===void 0?r.hasOwnProperty(m)?(T+=r[m],x=parseInt(T,16)*v,v=1,T=""):T+=m:r.hasOwnProperty(m)?(E+=r[m],b[x]=parseInt(E,16)*v,v=1,x=void 0,E=""):E+=m;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var d=f.font,p=h.Unicode[d.postScriptName];p&&(d.metadata.Unicode={},d.metadata.Unicode.widths=p.widths,d.metadata.Unicode.kerning=p.kerning);var x=u.Unicode[d.postScriptName];x&&(d.metadata.Unicode.encoding=x,d.encoding=x.codePages[0])}])}(zt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(om(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(zt),function(t){function e(){return(Ut.canvg?Promise.resolve(Ut.canvg):a4(()=>import("./index.es-vR7szaeM.js"),[],import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}zt.API.addSvgAsImage=function(r,n,i,a,s,o,c,u){if(isNaN(n)||isNaN(i))throw Yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(x){return x.fromString(f,r,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(d)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),n,i,a,s,c,u)})}}(),zt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},zt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,h=0,f=0;function d(x,m){var y,v=!1;for(y=0;y<x.length;y+=1)x[y]===m&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Rr(t)==="object"){for(i in t)if(a=t[i],d(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&d(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(h=0;h<a[u].length;h+=1)typeof a[u][h]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,m=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?m.push("/"+x+" /"+r[x].value):m.push("/"+x+" "+r[x].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(zt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,d=a.length;f<d;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(a){var s,o,c,u,h,f,d;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,d=(o=Object.keys(a).sort(function(p,x){return p-x})).length;f<d;f++)s=o[f],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",x=0;x<d.length;x++)p+=String.fromCharCode(d[x]);var m=u();h({data:p,addLength1:!0,objectId:m}),c("endobj");var y=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+zf(o.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+zf(o.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+zf(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,d="",p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);var x=u();h({data:d,addLength1:!0,objectId:x}),c("endobj");var m=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var y=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+zf(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+zf(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",c=a.x,u=a.y,h=a.options||{},f=a.mutex||{},d=f.pdfEscape,p=f.activeFontKey,x=f.fonts,m=p,y="",v=0,b="",S=x[m].encoding;if(x[m].encoding!=="Identity-H")return{text:o,x:c,y:u,options:h,mutex:f};for(b=o,m=p,Array.isArray(o)&&(b=o[0]),v=0;v<b.length;v+=1)x[m].metadata.hasOwnProperty("cmap")&&(s=x[m].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&x[m].metadata.hasOwnProperty("Unicode")?y+=b[v]:y+="";var T="";return parseInt(m.slice(1))<14||S==="WinAnsiEncoding"?T=d(y,m).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=r(y,x[m])),f.isHex=!0,{text:T,x:c,y:u,options:h,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},c,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},c,{text:s})).text}])}(zt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(zt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,c,u,h,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var T=function(D){var O=D.charCodeAt(),q=O>>8,I=m[q];return I!==void 0?f[256*I+(255&O)]:q===252||q===253?"AL":v.test(q)?"L":q===8?"R":"N"},E=function(D){for(var O,q=0;q<D.length;q++){if((O=T(D.charAt(q)))==="L")return!1;if(O==="R")return!0}return!1},P=function(D,O,q,I){var ae,X,le,re,ue=O[I];switch(ue){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(ue="AN");break;case"AL":b=!0,ue="R";break;case"WS":ue="N";break;case"CS":I<1||I+1>=O.length||(ae=q[I-1])!=="EN"&&ae!=="AN"||(X=O[I+1])!=="EN"&&X!=="AN"?ue="N":b&&(X="AN"),ue=X===ae?X:"N";break;case"ES":ue=(ae=I>0?q[I-1]:"B")==="EN"&&I+1<O.length&&O[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&q[I-1]==="EN"){ue="EN";break}if(b){ue="N";break}for(le=I+1,re=O.length;le<re&&O[le]==="ET";)le++;ue=le<re&&O[le]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(re=O.length,le=I+1;le<re&&O[le]==="NSM";)le++;if(le<re){var ge=D[I],Ge=ge>=1425&&ge<=2303||ge===64286;if(ae=O[le],Ge&&(ae==="R"||ae==="AL")){ue="R";break}}}ue=I<1||(ae=O[I-1])==="B"?"N":q[I-1];break;case"B":b=!1,i=!0,ue=S;break;case"S":a=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":ue="N"}return ue},j=function(D,O,q){var I=D.split("");return q&&L(I,q,{hiLevel:S}),I.reverse(),O&&O.reverse(),I.join("")},L=function(D,O,q){var I,ae,X,le,re,ue=-1,ge=D.length,Ge=0,A=[],M=S?p:d,R=[];for(b=!1,i=!1,a=!1,ae=0;ae<ge;ae++)R[ae]=T(D[ae]);for(X=0;X<ge;X++){if(re=Ge,A[X]=P(D,R,A,X),I=240&(Ge=M[re][x[A[X]]]),Ge&=15,O[X]=le=M[Ge][5],I>0)if(I===16){for(ae=ue;ae<X;ae++)O[ae]=1;ue=-1}else ue=-1;if(M[Ge][6])ue===-1&&(ue=X);else if(ue>-1){for(ae=ue;ae<X;ae++)O[ae]=le;ue=-1}R[X]==="B"&&(O[X]=0),q.hiLevel|=le}a&&function(B,Q,fe){for(var he=0;he<fe;he++)if(B[he]==="S"){Q[he]=S;for(var pe=he-1;pe>=0&&B[pe]==="WS";pe--)Q[pe]=S}}(R,O,ge)},F=function(D,O,q,I,ae){if(!(ae.hiLevel<D)){if(D===1&&S===1&&!i)return O.reverse(),void(q&&q.reverse());for(var X,le,re,ue,ge=O.length,Ge=0;Ge<ge;){if(I[Ge]>=D){for(re=Ge+1;re<ge&&I[re]>=D;)re++;for(ue=Ge,le=re-1;ue<le;ue++,le--)X=O[ue],O[ue]=O[le],O[le]=X,q&&(X=q[ue],q[ue]=q[le],q[le]=X);Ge=re}Ge++}}},W=function(D,O,q){var I=D.split(""),ae={hiLevel:S};return q||(q=[]),L(I,q,ae),function(X,le,re){if(re.hiLevel!==0&&h)for(var ue,ge=0;ge<X.length;ge++)le[ge]===1&&(ue=y.indexOf(X[ge]))>=0&&(X[ge]=y[ue+1])}(I,q,ae),F(2,I,O,q,ae),F(1,I,O,q,ae),I.join("")};return this.__bidiEngine__.doBidiReorder=function(D,O,q){if(function(ae,X){if(X)for(var le=0;le<ae.length;le++)X[le]=le;o===void 0&&(o=E(ae)),u===void 0&&(u=E(ae))}(D,O),s||!c||u)if(s&&c&&o^u)S=o?1:0,D=j(D,O,q);else if(!s&&c&&u)S=o?1:0,D=W(D,O,q),D=j(D,O);else if(!s||o||c||u){if(s&&!c&&o^u)D=j(D,O),o?(S=0,D=W(D,O,q)):(S=1,D=W(D,O,q),D=j(D,O));else if(s&&o&&!c&&u)S=1,D=W(D,O,q),D=j(D,O);else if(!s&&!c&&o^u){var I=h;o?(S=1,D=W(D,O,q),S=0,h=!1,D=W(D,O,q),h=I):(S=0,D=W(D,O,q),D=j(D,O),S=1,h=!1,D=W(D,O,q),h=I,D=j(D,O))}}else S=0,D=W(D,O,q);else S=o?1:0,D=W(D,O,q);return D},this.__bidiEngine__.setOptions=function(D){D&&(s=D.isInputVisual,c=D.isOutputVisual,o=D.isInputRtl,u=D.isOutputRtl,h=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(zt),zt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new bu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new IJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new NJ(this.contents),this.head=new CJ(this),this.name=new OJ(this),this.cmap=new RP(this),this.toUnicode={},this.hhea=new AJ(this),this.maxp=new LJ(this),this.hmtx=new DJ(this),this.post=new jJ(this),this.os2=new EJ(this),this.loca=new FJ(this),this.glyf=new PJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var go,bu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),NJ=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,c,u,h,f,d,p,x,m;for(m in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),s=Math.floor(f/c),h=16*p-f,(i=new bu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(s),i.writeShort(h),a=16*p,u=i.pos+a,o=null,x=[],r)for(d=r[m],i.writeString(m),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),x=x.concat(d),m==="head"&&(o=u),u+=d.length;u%4;)x.push(0),u++;return i.write(x),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=MP.call(r);r.length%4;)r.push(0);for(a=new bu(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),TJ={}.hasOwnProperty,nl=function(t,e){for(var r in e)TJ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};go=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var CJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new bu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),AE=function(){function t(e,r){var n,i,a,s,o,c,u,h,f,d,p,x,m,y,v,b,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),d=p/2,e.pos+=6,a=function(){var T,E;for(E=[],c=T=0;0<=d?T<d:T>d;c=0<=d?++T:--T)E.push(e.readUInt16());return E}(),e.pos+=2,m=function(){var T,E;for(E=[],c=T=0;0<=d?T<d:T>d;c=0<=d?++T:--T)E.push(e.readUInt16());return E}(),u=function(){var T,E;for(E=[],c=T=0;0<=d?T<d:T>d;c=0<=d?++T:--T)E.push(e.readUInt16());return E}(),h=function(){var T,E;for(E=[],c=T=0;0<=d?T<d:T>d;c=0<=d?++T:--T)E.push(e.readUInt16());return E}(),i=(this.length-e.pos+this.offset)/2,o=function(){var T,E;for(E=[],c=T=0;0<=i?T<i:T>i;c=0<=i?++T:--T)E.push(e.readUInt16());return E}(),c=v=0,S=a.length;v<S;c=++v)for(y=a[c],n=b=x=m[c];x<=y?b<=y:b>=y;n=x<=y?++b:--b)h[c]===0?s=n+u[c]:(s=o[h[c]/2+(n-x)-(d-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,c,u,h,f,d,p,x,m,y,v,b,S,T,E,P,j,L,F,W,D,O,q,I,ae,X,le,re,ue,ge,Ge,A,M,R,B,Q,fe,he,pe,Te,He,Qe;switch(I=new bu,s=Object.keys(e).sort(function(et,me){return et-me}),r){case"macroman":for(m=0,y=function(){var et=[];for(x=0;x<256;++x)et.push(0);return et}(),b={0:0},a={},ae=0,ue=s.length;ae<ue;ae++)b[pe=e[i=s[ae]]]==null&&(b[pe]=++m),a[i]={old:e[i],new:b[e[i]]},y[i]=b[e[i]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(y),{charMap:a,subtable:I.data,maxGlyphID:m+1};case"unicode":for(O=[],f=[],S=0,b={},n={},v=u=null,X=0,ge=s.length;X<ge;X++)b[E=e[i=s[X]]]==null&&(b[E]=++S),n[i]={old:E,new:b[E]},o=b[E]-i,v!=null&&o===u||(v&&f.push(v),O.push(i),u=o),v=i;for(v&&f.push(v),f.push(65535),O.push(65535),W=2*(F=O.length),L=2*Math.pow(Math.log(F)/Math.LN2,2),d=Math.log(L/2)/Math.LN2,j=2*F-L,c=[],P=[],p=[],x=le=0,Ge=O.length;le<Ge;x=++le){if(D=O[x],h=f[x],D===65535){c.push(0),P.push(0);break}if(D-(q=n[D].new)>=32768)for(c.push(0),P.push(2*(p.length+F-x)),i=re=D;D<=h?re<=h:re>=h;i=D<=h?++re:--re)p.push(n[i].new);else c.push(q-D),P.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*F+2*p.length),I.writeUInt16(0),I.writeUInt16(W),I.writeUInt16(L),I.writeUInt16(d),I.writeUInt16(j),fe=0,A=f.length;fe<A;fe++)i=f[fe],I.writeUInt16(i);for(I.writeUInt16(0),he=0,M=O.length;he<M;he++)i=O[he],I.writeUInt16(i);for(Te=0,R=c.length;Te<R;Te++)o=c[Te],I.writeUInt16(o);for(He=0,B=P.length;He<B;He++)T=P[He],I.writeUInt16(T);for(Qe=0,Q=p.length;Qe<Q;Qe++)m=p[Qe],I.writeUInt16(m);return{charMap:n,subtable:I.data,maxGlyphID:S+1}}},t}(),RP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new AE(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=AE.encode(r,n),(a=new bu).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),AJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),EJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),jJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(i=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e}(),kJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},OJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,a,s,o,c,u,h,f,d,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=f=0,d=i.length;f<d;s=++f)a=i[s],r.pos=a.offset,h=r.readString(a.length),o=new kJ(h,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),LJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),DJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,a,s,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=a?h<a:h>a;n=0<=a?++h:--h)f.push(r.readInt16());return f}(),this.widths=(function(){var h,f,d,p;for(p=[],h=0,f=(d=this.metrics).length;h<f;h++)s=d[h],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),MP=[].slice,PJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,a,s,o,c,u,h,f,d;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(r),(a=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(c=new bu(n.read(a))).readShort(),h=c.readShort(),d=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=o===-1?new MJ(c,h,d,u,f):new RJ(c,o,h,d,u,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var a,s,o,c,u;for(o=[],s=[],c=0,u=n.length;c<u;c++)a=r[n[c]],s.push(o.length),a&&(o=o.concat(a.encode(i)));return s.push(o.length),{table:o,offsets:s}},e}(),RJ=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),MJ=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new bu(MP.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),FJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,go),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<i.length;++o)if(i[o]=a,s<n.length&&n[s]==o){++s,i[o]=a;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(a+=u)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},e}(),IJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,c;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,c,u,h,f,d,p,x,m,y,v;for(i in n=RP.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},v=n.charMap)p[(c=v[i]).old]=c.new;for(x in d=n.maxGlyphID,s)x in p||(p[x]=d++);return h=function(b){var S,T;for(S in T={},b)T[b[S]]=S;return T}(p),f=Object.keys(h).sort(function(b,S){return b-S}),m=function(){var b,S,T;for(T=[],b=0,S=f.length;b<S;b++)o=f[b],T.push(h[o]);return T}(),a=this.font.glyf.encode(s,m,p),u=this.font.loca.encode(a.offsets,m),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();zt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();const BJ="Arial",zJ=40,UJ="#000000",HJ=20,EE=[{id:"basic",name:"Basic Colors",colors:["#000000","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff"]},{id:"pastel",name:"Pastel",colors:["#FFB6C1","#FFD700","#FFDAB9","#98FB98","#ADD8E6","#DDA0DD","#AFEEEE"]}],FP=C.createContext(void 0),qJ={canvas:null,activeTool:"select",activeObject:null,history:[],historyIndex:-1,showMockup:!0,currentMockup:null,zoom:1,isPanning:!1,selectedFont:BJ,selectedFontSize:zJ,selectedColor:UJ,isDragging:!1,isSaving:!1,colorPalettes:EE,activeColorPalette:EE[0],layers:[],snapToGrid:!1,gridSize:HJ,showGuides:!0,showGrid:!1},VJ=({children:t})=>{const[e,r]=C.useState(qJ),n=C.useRef(null),i=C.useRef(null),a=()=>{n.current&&(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{var Z;const me=(Z=n.current)==null?void 0:Z.toJSON();if(!me)return;const ce=JSON.stringify(me);r(je=>{const Ce=je.historyIndex<je.history.length-1?je.history.slice(0,je.historyIndex+1):je.history;return{...je,history:[...Ce,ce],historyIndex:Ce.length}})},500))},s=(me,ce,Z)=>{n.current&&n.current.dispose();const je=new n4(me,{width:ce,height:Z,backgroundColor:"#ffffff",preserveObjectStacking:!0,selection:!0});je.on("object:modified",()=>{a(),o()}),je.on("object:added",()=>{a(),o()}),je.on("object:removed",()=>{a(),o()}),je.on("selection:created",Ce=>{r(Oe=>({...Oe,activeObject:je.getActiveObject()}))}),je.on("selection:updated",Ce=>{r(Oe=>({...Oe,activeObject:je.getActiveObject()}))}),je.on("selection:cleared",()=>{r(Ce=>({...Ce,activeObject:null}))}),n.current=je,r(Ce=>({...Ce,canvas:je,history:[JSON.stringify(je.toJSON())],historyIndex:0})),a()},o=()=>{if(!n.current)return;const me=n.current.getObjects();r(ce=>({...ce,layers:me}))},c=me=>{r(ce=>({...ce,activeTool:me})),me!=="freeform"&&n.current&&(n.current.isDrawingMode=!1),me==="freeform"&&n.current&&(n.current.isDrawingMode=!0,n.current.freeDrawingBrush&&(n.current.freeDrawingBrush.color=e.selectedColor,n.current.freeDrawingBrush.width=5))},u=(me="Add Text")=>{if(!n.current)return;const ce=new Ho(me,{left:n.current.width/2,top:n.current.height/2,fontFamily:e.selectedFont,fontSize:e.selectedFontSize,fill:e.selectedColor,originX:"center",originY:"center",editable:!0});n.current.add(ce),n.current.setActiveObject(ce),n.current.renderAll()},h=(me,ce)=>{n.current&&Va.fromURL(me,Z=>{const je=n.current.width,Ce=n.current.height,Oe=je*.8,Xe=Ce*.8;if(Z.width>Oe||Z.height>Xe){const st=Math.min(Oe/Z.width,Xe/Z.height);Z.scale(st)}Z.set({left:je/2,top:Ce/2,originX:"center",originY:"center"}),n.current.add(Z),n.current.setActiveObject(Z),n.current.renderAll(),ce&&ce()})},f=me=>{if(!n.current)return;let ce;const Z=n.current.width,je=n.current.height;switch(me){case"rectangle":ce=new Js({left:Z/2,top:je/2,width:100,height:100,fill:e.selectedColor,originX:"center",originY:"center"});break;case"circle":ce=new Ro({left:Z/2,top:je/2,radius:50,fill:e.selectedColor,originX:"center",originY:"center"});break;case"triangle":ce=new Qc({left:Z/2,top:je/2,width:100,height:100,fill:e.selectedColor,originX:"center",originY:"center"});break;default:return}n.current.add(ce),n.current.setActiveObject(ce),n.current.renderAll()},d=()=>{if(!n.current)return;const me=n.current.width,ce=n.current.height,Z=new Ic([me/2-50,ce/2,me/2+50,ce/2],{stroke:e.selectedColor,strokeWidth:5,originX:"center",originY:"center"});n.current.add(Z),n.current.setActiveObject(Z),n.current.renderAll()},p=()=>{if(!n.current)return;const me=n.current.getActiveObject();if(me&&me.type==="activeSelection"){const ce=me.toGroup();n.current.setActiveObject(ce),n.current.renderAll(),a()}},x=()=>{if(!n.current)return;const me=n.current.getActiveObject();if(me&&me.type==="group"){const ce=me.getObjects();me.destroy(),n.current.remove(me),ce.forEach(Z=>{n.current.add(Z)}),n.current.renderAll(),a()}},m=()=>{if(!n.current)return;const me=n.current.getActiveObject();me&&(me.type==="activeSelection"?(me.getObjects().forEach(Z=>{n.current.remove(Z)}),n.current.discardActiveObject()):n.current.remove(me),n.current.renderAll(),a())},y=me=>{if(!n.current)return;const ce=n.current,Z={x:ce.width/2,y:ce.height/2};ce.zoomToPoint(new Ye(Z.x,Z.y),me),r(je=>({...je,zoom:me}))},v=()=>{y(Math.min(e.zoom+.1,5))},b=()=>{y(Math.max(e.zoom-.1,.1))},S=()=>{y(1)},T=()=>{!n.current||e.historyIndex<=0||r(me=>{const ce=me.historyIndex-1;return n.current.loadFromJSON(me.history[ce],()=>{n.current.renderAll(),o()}),{...me,historyIndex:ce,activeObject:null}})},E=()=>{!n.current||e.historyIndex>=e.history.length-1||r(me=>{const ce=me.historyIndex+1;return n.current.loadFromJSON(me.history[ce],()=>{n.current.renderAll(),o()}),{...me,historyIndex:ce,activeObject:null}})},P=me=>{r(ce=>({...ce,showMockup:me}))},j=me=>{r(ce=>({...ce,currentMockup:me}))},L=me=>{if(r(ce=>({...ce,selectedFont:me})),n.current){const ce=n.current.getActiveObject();ce&&(ce.type==="text"||ce.type==="i-text")&&(ce.set("fontFamily",me),n.current.renderAll(),a())}},F=me=>{if(r(ce=>({...ce,selectedFontSize:me})),n.current){const ce=n.current.getActiveObject();ce&&(ce.type==="text"||ce.type==="i-text")&&(ce.set("fontSize",me),n.current.renderAll(),a())}},W=me=>{if(r(ce=>({...ce,selectedColor:me})),n.current){const ce=n.current.getActiveObject();ce&&(ce.type==="text"||ce.type==="i-text"?ce.set("fill",me):ce.type==="path"?ce.set("stroke",me):ce.set("fill",me),n.current.renderAll(),a()),n.current.isDrawingMode&&n.current.freeDrawingBrush&&(n.current.freeDrawingBrush.color=me)}},D=me=>{r(ce=>({...ce,isPanning:me})),n.current&&(me?(n.current.defaultCursor="grab",n.current.selection=!1,n.current.getObjects().forEach(ce=>{ce.selectable=!1})):(n.current.defaultCursor="default",n.current.selection=!0,n.current.getObjects().forEach(ce=>{ce.selectable=!0})),n.current.renderAll())},O=me=>{r(ce=>({...ce,isDragging:me})),n.current&&e.isPanning&&(n.current.defaultCursor=me?"grabbing":"grab",n.current.renderAll())},q=()=>{if(n.current){r(me=>({...me,isSaving:!0}));try{const me=n.current.toJSON();localStorage.setItem("tshirtDesign",JSON.stringify(me)),setTimeout(()=>{r(ce=>({...ce,isSaving:!1}))},1e3)}catch(me){console.error("Error saving design:",me),r(ce=>({...ce,isSaving:!1}))}}},I=me=>{if(n.current)try{n.current.loadFromJSON(me,()=>{n.current.renderAll(),a(),o()})}catch(ce){console.error("Error loading design:",ce)}},ae=()=>{n.current&&(n.current.clear(),n.current.setBackgroundColor("#ffffff",()=>{n.current.renderAll(),a(),o()}))},X=()=>{if(!n.current)return;const me=n.current.getActiveObject();me&&(n.current.bringForward(me),n.current.renderAll(),a(),o())},le=()=>{if(!n.current)return;const me=n.current.getActiveObject();me&&(n.current.bringToFront(me),n.current.renderAll(),a(),o())},re=()=>{if(!n.current)return;const me=n.current.getActiveObject();me&&(n.current.sendBackwards(me),n.current.renderAll(),a(),o())},ue=()=>{if(!n.current)return;const me=n.current.getActiveObject();me&&(n.current.sendToBack(me),n.current.renderAll(),a(),o())},ge=me=>{if(!n.current)return;const ce=n.current,Z=JSON.stringify(ce.toJSON());ce.toBlob(je=>{if(!je){console.error("Error creating PNG blob");return}const Ce=new zt({orientation:"portrait",unit:"px",format:[ce.width,ce.height]}),Oe=ce.toDataURL("image/png");Ce.addImage(Oe,"PNG",0,0,ce.width,ce.height);const Xe=Ce.output("blob");me({pngBlob:je,pdfBlob:Xe,designJson:Z})},"png",{quality:1,multiplier:3})},Ge=me=>{if(!n.current)return;const ce=n.current.getActiveObject();if(!ce||ce.type!=="activeSelection")return;const Z=ce.getBoundingRect();ce.getObjects().forEach(je=>{const Ce=je.getBoundingRect();switch(me){case"left":je.set("left",Z.left);break;case"center":je.set("left",Z.left+Z.width/2-Ce.width/2);break;case"right":je.set("left",Z.left+Z.width-Ce.width);break;case"top":je.set("top",Z.top);break;case"middle":je.set("top",Z.top+Z.height/2-Ce.height/2);break;case"bottom":je.set("top",Z.top+Z.height-Ce.height);break}je.setCoords()}),n.current.renderAll(),a()},A=me=>{if(!n.current)return;const ce=n.current.getActiveObject();if(!ce||ce.type!=="activeSelection")return;const Z=ce.getObjects();if(Z.length<3)return;const je=Z.slice().sort((bt,St)=>{const Pt=bt.getBoundingRect(),Dt=St.getBoundingRect();return me==="horizontal"?Pt.left-Dt.left:Pt.top-Dt.top}),Ce=je[0],Oe=je[je.length-1],Xe=Ce.getBoundingRect(),st=Oe.getBoundingRect();let ht;me==="horizontal"?ht=st.left+st.width-Xe.left:ht=st.top+st.height-Xe.top;let Ct=0;je.forEach(bt=>{const St=bt.getBoundingRect();Ct+=me==="horizontal"?St.width:St.height});const Ue=(ht-Ct)/(je.length-1);let it=me==="horizontal"?Xe.left:Xe.top;je.forEach((bt,St)=>{if(St===0)return;const Dt=je[St-1].getBoundingRect();if(bt.getBoundingRect(),me==="horizontal"){const Rt=it+Dt.width+Ue;bt.set("left",Rt),it=Rt}else{const Rt=it+Dt.height+Ue;bt.set("top",Rt),it=Rt}bt.setCoords()}),n.current.renderAll(),a()},M=()=>{if(!n.current)return;const me=n.current.getActiveObject();me&&(me.set("selectable",!1),me.set("evented",!1),n.current.discardActiveObject(),n.current.renderAll(),a())},R=()=>{if(!n.current)return;n.current.getObjects().forEach(ce=>{ce.set("selectable",!0),ce.set("evented",!0)}),n.current.renderAll(),a()},B=()=>{r(me=>({...me,snapToGrid:!me.snapToGrid}))},Q=me=>{r(ce=>({...ce,gridSize:me}))},fe=()=>{r(me=>({...me,showGuides:!me.showGuides}))},he=()=>{r(me=>({...me,showGrid:!me.showGrid}))},pe=()=>{n.current&&c("eyedropper")},Te=me=>{r(ce=>({...ce,colorPalettes:[...ce.colorPalettes,me]}))},He=me=>{r(ce=>({...ce,activeColorPalette:me}))},Qe=(me,ce)=>{n.current&&(n.current.setWidth(me),n.current.setHeight(ce),n.current.renderAll())};C.useEffect(()=>{n.current&&(e.snapToGrid?n.current.on("object:moving",function(me){me.target&&me.target.set({left:Math.round(me.target.left/e.gridSize)*e.gridSize,top:Math.round(me.target.top/e.gridSize)*e.gridSize})}):n.current.off("object:moving"))},[e.snapToGrid,e.gridSize]),C.useEffect(()=>{const me=localStorage.getItem("tshirtDesign");if(me&&n.current)try{n.current.loadFromJSON(me,()=>{n.current.renderAll(),a(),o()})}catch(ce){console.error("Error loading saved design:",ce)}},[]);const et={state:e,initCanvas:s,setActiveTool:c,addText:u,addImage:h,addShape:f,addLine:d,groupSelectedObjects:p,ungroupSelectedObjects:x,deleteSelected:m,setZoom:y,zoomIn:v,zoomOut:b,resetZoom:S,undo:T,redo:E,setShowMockup:P,setCurrentMockup:j,setSelectedFont:L,setSelectedFontSize:F,setSelectedColor:W,togglePanning:D,setIsDragging:O,saveDesign:q,loadDesign:I,clearCanvas:ae,bringForward:X,bringToFront:le,sendBackward:re,sendToBack:ue,exportDesign:ge,alignObjects:Ge,distributeObjects:A,lockSelectedObject:M,unlockSelectedObject:R,toggleSnapToGrid:B,setGridSize:Q,toggleShowGuides:fe,toggleShowGrid:he,pickColor:pe,addColorPalette:Te,setActiveColorPalette:He,updateCanvasSize:Qe};return l.jsx(FP.Provider,{value:et,children:t})},s0=()=>{const t=C.useContext(FP);if(t===void 0)throw new Error("useTShirtDesigner must be used within a TShirtDesignerProvider");return t},WJ=({onExport:t})=>{const{state:e,setActiveTool:r,addText:n,addShape:i,addLine:a,zoomIn:s,zoomOut:o,resetZoom:c,undo:u,redo:h,saveDesign:f,clearCanvas:d,groupSelectedObjects:p,ungroupSelectedObjects:x,deleteSelected:m,toggleSnapToGrid:y,toggleShowGrid:v,pickColor:b,lockSelectedObject:S,unlockSelectedObject:T,setShowMockup:E}=s0(),P=({icon:j,onClick:L,active:F=!1,disabled:W=!1,tooltip:D})=>l.jsx("button",{onClick:L,disabled:W,className:Wr("flex items-center justify-center w-10 h-10 rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50",F?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-700 text-gray-200 hover:bg-gray-600",W&&"opacity-50 cursor-not-allowed hover:bg-gray-700"),title:D,children:j});return l.jsxs("div",{className:"flex flex-col h-full p-2 gap-2",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx(P,{icon:l.jsx(FH,{size:20}),onClick:()=>{s0().togglePanning(!e.isPanning)},active:e.isPanning,tooltip:"Pan Canvas"})}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(P,{icon:l.jsx(s7,{size:20}),onClick:u,disabled:e.historyIndex<=0,tooltip:"Undo"}),l.jsx(P,{icon:l.jsx(i7,{size:20}),onClick:h,disabled:e.historyIndex>=e.history.length-1,tooltip:"Redo"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(P,{icon:l.jsx(Wv,{size:20}),onClick:()=>{r("text"),n()},active:e.activeTool==="text",tooltip:"Add Text"}),l.jsx(P,{icon:l.jsx(Q3,{size:20}),onClick:()=>r("image"),active:e.activeTool==="image",tooltip:"Add Image"}),l.jsx(P,{icon:l.jsx(kS,{size:20}),onClick:()=>{r("rectangle"),i("rectangle")},active:e.activeTool==="rectangle",tooltip:"Add Rectangle"}),l.jsx(P,{icon:l.jsx(QO,{size:20}),onClick:()=>{r("circle"),i("circle")},active:e.activeTool==="circle",tooltip:"Add Circle"}),l.jsx(P,{icon:l.jsx(a7,{size:20}),onClick:()=>{r("triangle"),i("triangle")},active:e.activeTool==="triangle",tooltip:"Add Triangle"}),l.jsx(P,{icon:l.jsx(ay,{size:20}),onClick:()=>{r("line"),a()},active:e.activeTool==="line",tooltip:"Add Line"}),l.jsx(P,{icon:l.jsx(zH,{size:20}),onClick:()=>r("freeform"),active:e.activeTool==="freeform",tooltip:"Freeform Drawing"}),l.jsx(P,{icon:l.jsx(UH,{size:20}),onClick:b,active:e.activeTool==="eyedropper",tooltip:"Color Picker"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(P,{icon:l.jsx(jH,{size:20}),onClick:p,disabled:!e.activeObject||e.activeObject.type!=="activeSelection",tooltip:"Group Objects"}),l.jsx(P,{icon:l.jsx(KH,{size:20}),onClick:x,disabled:!e.activeObject||e.activeObject.type!=="group",tooltip:"Ungroup Objects"}),l.jsx(P,{icon:l.jsx(t0,{size:20}),onClick:S,disabled:!e.activeObject,tooltip:"Lock Object"}),l.jsx(P,{icon:l.jsx(t7,{size:20}),onClick:T,tooltip:"Unlock All Objects"}),l.jsx(P,{icon:l.jsx(pu,{size:20}),onClick:m,disabled:!e.activeObject,tooltip:"Delete Selected"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(P,{icon:l.jsx(tq,{size:20}),onClick:s,disabled:e.zoom>=5,tooltip:"Zoom In"}),l.jsx(P,{icon:l.jsx(rq,{size:20}),onClick:o,disabled:e.zoom<=.1,tooltip:"Zoom Out"}),l.jsx(P,{icon:l.jsx(sy,{size:20}),onClick:c,tooltip:"Reset Zoom"}),l.jsx(P,{icon:l.jsx(e7,{size:20}),onClick:()=>{v(),e.showGrid||y()},active:e.showGrid,tooltip:"Toggle Grid"}),l.jsx(P,{icon:e.showMockup?l.jsx(du,{size:20}):l.jsx(e0,{size:20}),onClick:()=>E(!e.showMockup),active:e.showMockup,tooltip:e.showMockup?"Hide Mockup":"Show Mockup"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[l.jsx(P,{icon:l.jsx(Z3,{size:20}),onClick:f,tooltip:"Save Design"}),l.jsx(P,{icon:l.jsx(ZO,{size:20}),onClick:t,tooltip:"Export Design"})]})]})};var Io=function(){return Io=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Io.apply(this,arguments)};function IP(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function qh(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?a(h.value):i(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})}function GJ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}const YJ=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function o0(t,e,r){const n=XJ(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof n.path!="string"&&jE(n,"path",a),jE(n,"relativePath",a),n}function XJ(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const n=e.split(".").pop().toLowerCase(),i=YJ.get(n);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function jE(t,e,r){Object.defineProperty(t,e,{value:r,writable:!1,configurable:!1,enumerable:!0})}const $J=[".DS_Store","Thumbs.db"];function KJ(t){return qh(this,void 0,void 0,function*(){return p2(t)&&QJ(t.dataTransfer)?tZ(t.dataTransfer,t.type):JJ(t)?ZJ(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?eZ(t):[]})}function QJ(t){return p2(t)}function JJ(t){return p2(t)&&p2(t.target)}function p2(t){return typeof t=="object"&&t!==null}function ZJ(t){return x4(t.target.files).map(e=>o0(e))}function eZ(t){return qh(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>o0(r))})}function tZ(t,e){return qh(this,void 0,void 0,function*(){if(t.items){const r=x4(t.items).filter(i=>i.kind==="file");if(e!=="drop")return r;const n=yield Promise.all(r.map(rZ));return kE(BP(n))}return kE(x4(t.files).map(r=>o0(r)))})}function kE(t){return t.filter(e=>$J.indexOf(e.name)===-1)}function x4(t){if(t===null)return[];const e=[];for(let r=0;r<t.length;r++){const n=t[r];e.push(n)}return e}function rZ(t){if(typeof t.webkitGetAsEntry!="function")return OE(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?zP(e):OE(t,e)}function BP(t){return t.reduce((e,r)=>[...e,...Array.isArray(r)?BP(r):[r]],[])}function OE(t,e){return qh(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const s=yield a.getFile();return s.handle=a,o0(s)}}const n=t.getAsFile();if(!n)throw new Error(`${t} is not a File`);return o0(n,(r=e==null?void 0:e.fullPath)!==null&&r!==void 0?r:void 0)})}function nZ(t){return qh(this,void 0,void 0,function*(){return t.isDirectory?zP(t):iZ(t)})}function zP(t){const e=t.createReader();return new Promise((r,n)=>{const i=[];function a(){e.readEntries(s=>qh(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(nZ));i.push(o),a()}else try{const o=yield Promise.all(i);r(o)}catch(o){n(o)}}),s=>{n(s)})}a()})}function iZ(t){return qh(this,void 0,void 0,function*(){return new Promise((e,r)=>{t.file(n=>{const i=o0(n,t.fullPath);e(i)},n=>{r(n)})})})}var Yw=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(",");if(r.length===0)return!0;var n=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return r.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):i===o})}return!0};function LE(t){return oZ(t)||sZ(t)||HP(t)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oZ(t){if(Array.isArray(t))return v4(t)}function DE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(r),!0).forEach(function(n){UP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vm(t,e){return uZ(t)||cZ(t,e)||HP(t,e)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HP(t,e){if(t){if(typeof t=="string")return v4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v4(t,e)}}function v4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,o=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function uZ(t){if(Array.isArray(t))return t}var hZ=typeof Yw=="function"?Yw:Yw.default,fZ="file-invalid-type",dZ="file-too-large",pZ="file-too-small",mZ="too-many-files",gZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=e.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:fZ,message:"File type must be ".concat(n)}},RE=function(e){return{code:dZ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ME=function(e){return{code:pZ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},xZ={code:mZ,message:"Too many files"};function qP(t,e){var r=t.type==="application/x-moz-file"||hZ(t,e);return[r,r?null:gZ(e)]}function VP(t,e,r){if($u(t.size))if($u(e)&&$u(r)){if(t.size>r)return[!1,RE(r)];if(t.size<e)return[!1,ME(e)]}else{if($u(e)&&t.size<e)return[!1,ME(e)];if($u(r)&&t.size>r)return[!1,RE(r)]}return[!0,null]}function $u(t){return t!=null}function vZ(t){var e=t.files,r=t.accept,n=t.minSize,i=t.maxSize,a=t.multiple,s=t.maxFiles,o=t.validator;return!a&&e.length>1||a&&s>=1&&e.length>s?!1:e.every(function(c){var u=qP(c,r),h=Vm(u,1),f=h[0],d=VP(c,n,i),p=Vm(d,1),x=p[0],m=o?o(c):null;return f&&x&&!m})}function m2(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function wx(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function FE(t){t.preventDefault()}function yZ(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function bZ(t){return t.indexOf("Edge/")!==-1}function wZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return yZ(t)||bZ(t)}function Co(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e.some(function(o){return!m2(n)&&o&&o.apply(void 0,[n].concat(a)),m2(n)})}}function SZ(){return"showOpenFilePicker"in window}function _Z(t){if($u(t)){var e=Object.entries(t).filter(function(r){var n=Vm(r,2),i=n[0],a=n[1],s=!0;return WP(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(a)||!a.every(GP))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var i=Vm(n,2),a=i[0],s=i[1];return PE(PE({},r),{},UP({},a,s))},{});return[{description:"Files",accept:e}]}return t}function NZ(t){if($u(t))return Object.entries(t).reduce(function(e,r){var n=Vm(r,2),i=n[0],a=n[1];return[].concat(LE(e),[i],LE(a))},[]).filter(function(e){return WP(e)||GP(e)}).join(",")}function TZ(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function CZ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function WP(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function GP(t){return/^.*\.[\w]+$/.test(t)}var AZ=["children"],EZ=["open"],jZ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],kZ=["refKey","onChange","onClick"];function OZ(t){return PZ(t)||DZ(t)||YP(t)||LZ()}function LZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PZ(t){if(Array.isArray(t))return y4(t)}function Xw(t,e){return FZ(t)||MZ(t,e)||YP(t,e)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YP(t,e){if(t){if(typeof t=="string")return y4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y4(t,e)}}function y4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,o=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function FZ(t){if(Array.isArray(t))return t}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){b4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b4(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g2(t,e){if(t==null)return{};var r=IZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var G_=C.forwardRef(function(t,e){var r=t.children,n=g2(t,AZ),i=$P(n),a=i.open,s=g2(i,EZ);return C.useImperativeHandle(e,function(){return{open:a}},[a]),It.createElement(C.Fragment,null,r(pn(pn({},s),{},{open:a})))});G_.displayName="Dropzone";var XP={disabled:!1,getFilesFromEvent:KJ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};G_.defaultProps=XP;G_.propTypes={children:Bt.func,accept:Bt.objectOf(Bt.arrayOf(Bt.string)),multiple:Bt.bool,preventDropOnDocument:Bt.bool,noClick:Bt.bool,noKeyboard:Bt.bool,noDrag:Bt.bool,noDragEventsBubbling:Bt.bool,minSize:Bt.number,maxSize:Bt.number,maxFiles:Bt.number,disabled:Bt.bool,getFilesFromEvent:Bt.func,onFileDialogCancel:Bt.func,onFileDialogOpen:Bt.func,useFsAccessApi:Bt.bool,autoFocus:Bt.bool,onDragEnter:Bt.func,onDragLeave:Bt.func,onDragOver:Bt.func,onDrop:Bt.func,onDropAccepted:Bt.func,onDropRejected:Bt.func,onError:Bt.func,validator:Bt.func};var w4={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function $P(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=pn(pn({},XP),t),r=e.accept,n=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,s=e.minSize,o=e.multiple,c=e.maxFiles,u=e.onDragEnter,h=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,x=e.onDropRejected,m=e.onFileDialogCancel,y=e.onFileDialogOpen,v=e.useFsAccessApi,b=e.autoFocus,S=e.preventDropOnDocument,T=e.noClick,E=e.noKeyboard,P=e.noDrag,j=e.noDragEventsBubbling,L=e.onError,F=e.validator,W=C.useMemo(function(){return NZ(r)},[r]),D=C.useMemo(function(){return _Z(r)},[r]),O=C.useMemo(function(){return typeof y=="function"?y:BE},[y]),q=C.useMemo(function(){return typeof m=="function"?m:BE},[m]),I=C.useRef(null),ae=C.useRef(null),X=C.useReducer(BZ,w4),le=Xw(X,2),re=le[0],ue=le[1],ge=re.isFocused,Ge=re.isFileDialogActive,A=C.useRef(typeof window<"u"&&window.isSecureContext&&v&&SZ()),M=function(){!A.current&&Ge&&setTimeout(function(){if(ae.current){var it=ae.current.files;it.length||(ue({type:"closeDialog"}),q())}},300)};C.useEffect(function(){return window.addEventListener("focus",M,!1),function(){window.removeEventListener("focus",M,!1)}},[ae,Ge,q,A]);var R=C.useRef([]),B=function(it){I.current&&I.current.contains(it.target)||(it.preventDefault(),R.current=[])};C.useEffect(function(){return S&&(document.addEventListener("dragover",FE,!1),document.addEventListener("drop",B,!1)),function(){S&&(document.removeEventListener("dragover",FE),document.removeEventListener("drop",B))}},[I,S]),C.useEffect(function(){return!n&&b&&I.current&&I.current.focus(),function(){}},[I,b,n]);var Q=C.useCallback(function(Ue){L?L(Ue):console.error(Ue)},[L]),fe=C.useCallback(function(Ue){Ue.preventDefault(),Ue.persist(),Xe(Ue),R.current=[].concat(OZ(R.current),[Ue.target]),wx(Ue)&&Promise.resolve(i(Ue)).then(function(it){if(!(m2(Ue)&&!j)){var bt=it.length,St=bt>0&&vZ({files:it,accept:W,minSize:s,maxSize:a,multiple:o,maxFiles:c,validator:F}),Pt=bt>0&&!St;ue({isDragAccept:St,isDragReject:Pt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Ue)}}).catch(function(it){return Q(it)})},[i,u,Q,j,W,s,a,o,c,F]),he=C.useCallback(function(Ue){Ue.preventDefault(),Ue.persist(),Xe(Ue);var it=wx(Ue);if(it&&Ue.dataTransfer)try{Ue.dataTransfer.dropEffect="copy"}catch{}return it&&f&&f(Ue),!1},[f,j]),pe=C.useCallback(function(Ue){Ue.preventDefault(),Ue.persist(),Xe(Ue);var it=R.current.filter(function(St){return I.current&&I.current.contains(St)}),bt=it.indexOf(Ue.target);bt!==-1&&it.splice(bt,1),R.current=it,!(it.length>0)&&(ue({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wx(Ue)&&h&&h(Ue))},[I,h,j]),Te=C.useCallback(function(Ue,it){var bt=[],St=[];Ue.forEach(function(Pt){var Dt=qP(Pt,W),Rt=Xw(Dt,2),vt=Rt[0],$r=Rt[1],er=VP(Pt,s,a),mn=Xw(er,2),ur=mn[0],vr=mn[1],Wn=F?F(Pt):null;if(vt&&ur&&!Wn)bt.push(Pt);else{var ir=[$r,vr];Wn&&(ir=ir.concat(Wn)),St.push({file:Pt,errors:ir.filter(function(Wi){return Wi})})}}),(!o&&bt.length>1||o&&c>=1&&bt.length>c)&&(bt.forEach(function(Pt){St.push({file:Pt,errors:[xZ]})}),bt.splice(0)),ue({acceptedFiles:bt,fileRejections:St,isDragReject:St.length>0,type:"setFiles"}),d&&d(bt,St,it),St.length>0&&x&&x(St,it),bt.length>0&&p&&p(bt,it)},[ue,o,W,s,a,c,d,p,x,F]),He=C.useCallback(function(Ue){Ue.preventDefault(),Ue.persist(),Xe(Ue),R.current=[],wx(Ue)&&Promise.resolve(i(Ue)).then(function(it){m2(Ue)&&!j||Te(it,Ue)}).catch(function(it){return Q(it)}),ue({type:"reset"})},[i,Te,Q,j]),Qe=C.useCallback(function(){if(A.current){ue({type:"openDialog"}),O();var Ue={multiple:o,types:D};window.showOpenFilePicker(Ue).then(function(it){return i(it)}).then(function(it){Te(it,null),ue({type:"closeDialog"})}).catch(function(it){TZ(it)?(q(it),ue({type:"closeDialog"})):CZ(it)?(A.current=!1,ae.current?(ae.current.value=null,ae.current.click()):Q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Q(it)});return}ae.current&&(ue({type:"openDialog"}),O(),ae.current.value=null,ae.current.click())},[ue,O,q,v,Te,Q,D,o]),et=C.useCallback(function(Ue){!I.current||!I.current.isEqualNode(Ue.target)||(Ue.key===" "||Ue.key==="Enter"||Ue.keyCode===32||Ue.keyCode===13)&&(Ue.preventDefault(),Qe())},[I,Qe]),me=C.useCallback(function(){ue({type:"focus"})},[]),ce=C.useCallback(function(){ue({type:"blur"})},[]),Z=C.useCallback(function(){T||(wZ()?setTimeout(Qe,0):Qe())},[T,Qe]),je=function(it){return n?null:it},Ce=function(it){return E?null:je(it)},Oe=function(it){return P?null:je(it)},Xe=function(it){j&&it.stopPropagation()},st=C.useMemo(function(){return function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=Ue.refKey,bt=it===void 0?"ref":it,St=Ue.role,Pt=Ue.onKeyDown,Dt=Ue.onFocus,Rt=Ue.onBlur,vt=Ue.onClick,$r=Ue.onDragEnter,er=Ue.onDragOver,mn=Ue.onDragLeave,ur=Ue.onDrop,vr=g2(Ue,jZ);return pn(pn(b4({onKeyDown:Ce(Co(Pt,et)),onFocus:Ce(Co(Dt,me)),onBlur:Ce(Co(Rt,ce)),onClick:je(Co(vt,Z)),onDragEnter:Oe(Co($r,fe)),onDragOver:Oe(Co(er,he)),onDragLeave:Oe(Co(mn,pe)),onDrop:Oe(Co(ur,He)),role:typeof St=="string"&&St!==""?St:"presentation"},bt,I),!n&&!E?{tabIndex:0}:{}),vr)}},[I,et,me,ce,Z,fe,he,pe,He,E,P,n]),ht=C.useCallback(function(Ue){Ue.stopPropagation()},[]),Ct=C.useMemo(function(){return function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=Ue.refKey,bt=it===void 0?"ref":it,St=Ue.onChange,Pt=Ue.onClick,Dt=g2(Ue,kZ),Rt=b4({accept:W,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:je(Co(St,He)),onClick:je(Co(Pt,ht)),tabIndex:-1},bt,ae);return pn(pn({},Rt),Dt)}},[ae,r,o,He,n]);return pn(pn({},re),{},{isFocused:ge&&!n,getRootProps:st,getInputProps:Ct,rootRef:I,inputRef:ae,open:je(Qe)})}function BZ(t,e){switch(e.type){case"focus":return pn(pn({},t),{},{isFocused:!0});case"blur":return pn(pn({},t),{},{isFocused:!1});case"openDialog":return pn(pn({},w4),{},{isFileDialogActive:!0});case"closeDialog":return pn(pn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return pn(pn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return pn(pn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return pn({},w4);default:return t}}function BE(){}function My(){return(My=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function KP(t,e){if(t==null)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)e.indexOf(r=a[n])>=0||(i[r]=t[r]);return i}function S4(t){var e=C.useRef(t),r=C.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var Wm=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},lm=function(t){return"touches"in t},_4=function(t){return t&&t.ownerDocument.defaultView||self},zE=function(t,e,r){var n=t.getBoundingClientRect(),i=lm(e)?function(a,s){for(var o=0;o<a.length;o++)if(a[o].identifier===s)return a[o];return a[0]}(e.touches,r):e;return{left:Wm((i.pageX-(n.left+_4(t).pageXOffset))/n.width),top:Wm((i.pageY-(n.top+_4(t).pageYOffset))/n.height)}},UE=function(t){!lm(t)&&t.preventDefault()},QP=It.memo(function(t){var e=t.onMove,r=t.onKey,n=KP(t,["onMove","onKey"]),i=C.useRef(null),a=S4(e),s=S4(r),o=C.useRef(null),c=C.useRef(!1),u=C.useMemo(function(){var p=function(y){UE(y),(lm(y)?y.touches.length>0:y.buttons>0)&&i.current?a(zE(i.current,y,o.current)):m(!1)},x=function(){return m(!1)};function m(y){var v=c.current,b=_4(i.current),S=y?b.addEventListener:b.removeEventListener;S(v?"touchmove":"mousemove",p),S(v?"touchend":"mouseup",x)}return[function(y){var v=y.nativeEvent,b=i.current;if(b&&(UE(v),!function(T,E){return E&&!lm(T)}(v,c.current)&&b)){if(lm(v)){c.current=!0;var S=v.changedTouches||[];S.length&&(o.current=S[0].identifier)}b.focus(),a(zE(b,v,o.current)),m(!0)}},function(y){var v=y.which||y.keyCode;v<37||v>40||(y.preventDefault(),s({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[s,a]),h=u[0],f=u[1],d=u[2];return C.useEffect(function(){return d},[d]),It.createElement("div",My({},n,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Y_=function(t){return t.filter(Boolean).join(" ")},JP=function(t){var e=t.color,r=t.left,n=t.top,i=n===void 0?.5:n,a=Y_(["react-colorful__pointer",t.className]);return It.createElement("div",{className:a,style:{top:100*i+"%",left:100*r+"%"}},It.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},_i=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},zZ=function(t){return WZ(N4(t))},N4=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?_i(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?_i(parseInt(t.substring(6,8),16)/255,2):1}},UZ=function(t){return VZ(qZ(t))},HZ=function(t){var e=t.s,r=t.v,n=t.a,i=(200-e)*r/100;return{h:_i(t.h),s:_i(i>0&&i<200?e*r/100/(i<=100?i:200-i)*100:0),l:_i(i/2),a:_i(n,2)}},T4=function(t){var e=HZ(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},qZ=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),s=n*(1-r),o=n*(1-(e-a)*r),c=n*(1-(1-e+a)*r),u=a%6;return{r:_i(255*[n,o,s,s,c,n][u]),g:_i(255*[c,n,n,o,s,s][u]),b:_i(255*[s,s,c,n,n,o][u]),a:_i(i,2)}},Sx=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},VZ=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,a=i<1?Sx(_i(255*i)):"";return"#"+Sx(e)+Sx(r)+Sx(n)+a},WZ=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,a=Math.max(e,r,n),s=a-Math.min(e,r,n),o=s?a===e?(r-n)/s:a===r?2+(n-e)/s:4+(e-r)/s:0;return{h:_i(60*(o<0?o+6:o)),s:_i(a?s/a*100:0),v:_i(a/255*100),a:i}},GZ=It.memo(function(t){var e=t.hue,r=t.onChange,n=Y_(["react-colorful__hue",t.className]);return It.createElement("div",{className:n},It.createElement(QP,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:Wm(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":_i(e),"aria-valuemax":"360","aria-valuemin":"0"},It.createElement(JP,{className:"react-colorful__hue-pointer",left:e/360,color:T4({h:e,s:100,v:100,a:1})})))}),YZ=It.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:T4({h:e.h,s:100,v:100,a:1})};return It.createElement("div",{className:"react-colorful__saturation",style:n},It.createElement(QP,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:Wm(e.s+100*i.left,0,100),v:Wm(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+_i(e.s)+"%, Brightness "+_i(e.v)+"%"},It.createElement(JP,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:T4(e)})))}),ZP=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},XZ=function(t,e){return t.toLowerCase()===e.toLowerCase()||ZP(N4(t),N4(e))};function $Z(t,e,r){var n=S4(r),i=C.useState(function(){return t.toHsva(e)}),a=i[0],s=i[1],o=C.useRef({color:e,hsva:a});C.useEffect(function(){if(!t.equal(e,o.current.color)){var u=t.toHsva(e);o.current={hsva:u,color:e},s(u)}},[e,t]),C.useEffect(function(){var u;ZP(a,o.current.hsva)||t.equal(u=t.fromHsva(a),o.current.color)||(o.current={hsva:a,color:u},n(u))},[a,t,n]);var c=C.useCallback(function(u){s(function(h){return Object.assign({},h,u)})},[]);return[a,c]}var KZ=typeof window<"u"?C.useLayoutEffect:C.useEffect,QZ=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},HE=new Map,JZ=function(t){KZ(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!HE.has(e)){var r=e.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,HE.set(e,r);var n=QZ();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},ZZ=function(t){var e=t.className,r=t.colorModel,n=t.color,i=n===void 0?r.defaultColor:n,a=t.onChange,s=KP(t,["className","colorModel","color","onChange"]),o=C.useRef(null);JZ(o);var c=$Z(r,i,a),u=c[0],h=c[1],f=Y_(["react-colorful",e]);return It.createElement("div",My({},s,{ref:o,className:f}),It.createElement(YZ,{hsva:u,onChange:h}),It.createElement(GZ,{hue:u.h,onChange:h,className:"react-colorful__last-control"}))},eee={defaultColor:"000",toHsva:zZ,fromHsva:function(t){return UZ({h:t.h,s:t.s,v:t.v,a:1})},equal:XZ},eR=function(t){return It.createElement(ZZ,My({},t,{colorModel:eee}))};const tee=()=>{const{state:t,addImage:e,setSelectedColor:r,setSelectedFont:n,setSelectedFontSize:i}=s0(),[a,s]=C.useState("images"),[o,c]=C.useState("#ff0000"),u=C.useCallback(m=>{m.forEach(y=>{const v=new FileReader;v.onload=()=>{const b=v.result;e(b)},v.readAsDataURL(y)})},[e]),{getRootProps:h,getInputProps:f,isDragActive:d}=$P({onDrop:u,accept:{"image/png":[".png"],"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"]}}),p=["Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT"],x=[8,9,10,11,12,14,16,18,20,22,24,28,32,36,40,48,56,64,72,96];return l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"flex border-b border-gray-300",children:[l.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${a==="images"?"bg-gray-200 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>s("images"),children:"Images"}),l.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${a==="colors"?"bg-gray-200 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>s("colors"),children:"Colors"}),l.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${a==="fonts"?"bg-gray-200 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>s("fonts"),children:"Fonts"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a==="images"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{...h(),className:`border-2 border-dashed p-4 rounded-lg text-center cursor-pointer transition-colors ${d?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[l.jsx("input",{...f()}),l.jsx(o7,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:d?"Drop the image here":"Drag & drop an image, or click to select"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, SVG up to 5MB"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sample Images"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:["https://via.placeholder.com/150","https://via.placeholder.com/150/0000FF","https://via.placeholder.com/150/FF0000","https://via.placeholder.com/150/FFFF00"].map((m,y)=>l.jsx("div",{className:"border rounded-md p-1 cursor-pointer hover:border-blue-500",onClick:()=>e(m),children:l.jsx("img",{src:m,alt:`Sample ${y+1}`,className:"w-full h-auto rounded"})},y))})]})]}),a==="colors"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Custom Color"}),l.jsx(eR,{color:o,onChange:m=>{c(m),r(m)},className:"w-full"}),l.jsxs("div",{className:"mt-2 flex items-center",children:[l.jsx("div",{className:"w-8 h-8 mr-2 rounded-md border border-gray-300",style:{backgroundColor:o}}),l.jsx("input",{type:"text",value:o,onChange:m=>{c(m.target.value),r(m.target.value)},className:"flex-1 border border-gray-300 rounded-md px-2 py-1 text-sm"})]})]}),t.colorPalettes.map(m=>l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:m.name}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:m.colors.map((y,v)=>l.jsx("div",{className:"w-full aspect-square rounded-md border border-gray-300 cursor-pointer hover:scale-105 transition-transform",style:{backgroundColor:y},onClick:()=>r(y),title:y},v))})]},m.id))]}),a==="fonts"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),l.jsx("select",{value:t.selectedFont,onChange:m=>n(m.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1.5",children:p.map(m=>l.jsx("option",{value:m,style:{fontFamily:m},children:m},m))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),l.jsx("select",{value:t.selectedFontSize,onChange:m=>i(parseInt(m.target.value)),className:"w-full border border-gray-300 rounded-md px-2 py-1.5",children:x.map(m=>l.jsxs("option",{value:m,children:[m,"px"]},m))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview"}),l.jsx("div",{className:"w-full p-4 border border-gray-300 rounded-md",style:{fontFamily:t.selectedFont,fontSize:`${Math.min(t.selectedFontSize,36)}px`,color:t.selectedColor},children:"Sample Text"})]})]})]})]})},ree=()=>{const{state:t,bringForward:e,bringToFront:r,sendBackward:n,sendToBack:i,deleteSelected:a,lockSelectedObject:s,unlockSelectedObject:o}=s0(),c=d=>d?d.type==="i-text"||d.type==="text"?"text":d.type==="image"?"image":d.type==="rect"?"rectangle":d.type==="circle"?"circle":d.type==="triangle"?"triangle":d.type==="line"?"line":d.type==="path"?"drawing":d.type==="group"?"group":d.type:"",u=d=>{switch(c(d)){case"text":return l.jsx(Wv,{size:16});case"rectangle":return l.jsx(kS,{size:16});case"circle":return l.jsx(QO,{size:16});case"triangle":return l.jsx(a7,{size:16});case"image":return l.jsx(Q3,{size:16});case"line":return l.jsx(ay,{size:16});default:return l.jsx(kS,{size:16})}},h=d=>{if(!d)return"";const p=c(d);if(p==="text"){const x=d.text||"Text";return x.length>15?`${x.substring(0,15)}...`:x}return p.charAt(0).toUpperCase()+p.slice(1)},f=d=>d?d.selectable===!1||d.evented===!1:!1;return l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b border-gray-300 bg-gray-100",children:l.jsx("h2",{className:"text-sm font-medium text-gray-700",children:"Layers"})}),l.jsxs("div",{className:"p-2 border-b border-gray-300 flex flex-wrap gap-1",children:[l.jsx("button",{onClick:r,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Bring to Front",children:l.jsx(TH,{size:16})}),l.jsx("button",{onClick:e,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Bring Forward",children:l.jsx(yH,{size:16})}),l.jsx("button",{onClick:n,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Send Backward",children:l.jsx(vH,{size:16})}),l.jsx("button",{onClick:i,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Send to Back",children:l.jsx(NH,{size:16})}),l.jsx("div",{className:"border-r border-gray-300 h-6 mx-1"}),l.jsx("button",{onClick:s,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Lock",children:l.jsx(t0,{size:16})}),l.jsx("button",{onClick:o,className:"p-1 rounded text-gray-700 hover:bg-gray-200",title:"Unlock All",children:l.jsx(t7,{size:16})}),l.jsx("div",{className:"border-r border-gray-300 h-6 mx-1"}),l.jsx("button",{onClick:a,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-red-600 hover:bg-red-100":"text-gray-400 cursor-not-allowed"}`,title:"Delete",children:l.jsx(pu,{size:16})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:t.layers.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No layers yet. Add elements to your design."}):l.jsx("ul",{className:"divide-y divide-gray-200",children:t.layers.slice().reverse().map((d,p)=>{const x=t.activeObject===d,m=f(d);return l.jsxs("li",{className:`p-2 flex items-center hover:bg-gray-100 ${x?"bg-blue-50":""}`,onClick:()=>{t.canvas&&!m&&(t.canvas.setActiveObject(d),t.canvas.renderAll())},children:[l.jsx("div",{className:"mr-2 text-gray-500",children:u(d)}),l.jsx("div",{className:"flex-1 overflow-hidden text-sm",children:h(d)}),l.jsx("div",{className:"flex items-center space-x-1",children:m?l.jsx(t0,{size:16,className:"text-gray-500"}):null})]},p)})})})]})},nee=()=>{const{state:t,setSelectedColor:e,setSelectedFont:r,setSelectedFontSize:n}=s0(),[i,a]=C.useState(!1),o=(()=>{if(!t.activeObject)return null;const f=t.activeObject,d=f.type==="text"||f.type==="i-text";return{type:f.type,fill:f.fill||"#000000",width:Math.round(f.width||0),height:Math.round(f.height||0),left:Math.round(f.left||0),top:Math.round(f.top||0),angle:Math.round(f.angle||0),text:d?f.text:"",fontFamily:d?f.fontFamily:"",fontSize:d?f.fontSize:0,isBold:d?f.fontWeight==="bold":!1,isItalic:d?f.fontStyle==="italic":!1,isUnderline:d?f.underline:!1,textAlign:d?f.textAlign:"left"}})(),c=(o==null?void 0:o.type)==="text"||(o==null?void 0:o.type)==="i-text",u=(f,d)=>{if(!t.canvas||!t.activeObject)return;const p=t.activeObject;switch(f){case"fill":p.set("fill",d),e(d);break;case"width":p.type!=="text"&&p.type!=="i-text"&&(p.set("width",parseFloat(d)),p.set("scaleX",1));break;case"height":p.type!=="text"&&p.type!=="i-text"&&(p.set("height",parseFloat(d)),p.set("scaleY",1));break;case"left":p.set("left",parseFloat(d));break;case"top":p.set("top",parseFloat(d));break;case"angle":p.set("angle",parseFloat(d));break;case"fontFamily":c&&(p.set("fontFamily",d),r(d));break;case"fontSize":c&&(p.set("fontSize",parseFloat(d)),n(parseFloat(d)));break;case"fontWeight":c&&p.set("fontWeight",d?"bold":"normal");break;case"fontStyle":c&&p.set("fontStyle",d?"italic":"normal");break;case"underline":c&&p.set("underline",d);break;case"textAlign":c&&p.set("textAlign",d);break}t.canvas.renderAll()},h=f=>f==="i-text"?"Text":f.charAt(0).toUpperCase()+f.slice(1);return o?l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b border-gray-300 bg-gray-100",children:l.jsxs("h2",{className:"text-sm font-medium text-gray-700",children:[h(o.type)," Properties"]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Fill Color"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-md border border-gray-300 cursor-pointer",style:{backgroundColor:o.fill},onClick:()=>a(!i)}),l.jsx("input",{type:"text",value:o.fill,onChange:f=>u("fill",f.target.value),className:"ml-2 flex-1 border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),i&&l.jsx("div",{className:"mt-2",children:l.jsx(eR,{color:o.fill,onChange:f=>u("fill",f),className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"X Position"}),l.jsx("input",{type:"number",value:o.left,onChange:f=>u("left",f.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Y Position"}),l.jsx("input",{type:"number",value:o.top,onChange:f=>u("top",f.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),o.type!=="text"&&o.type!=="i-text"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Width"}),l.jsx("input",{type:"number",value:o.width,onChange:f=>u("width",f.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Height"}),l.jsx("input",{type:"number",value:o.height,onChange:f=>u("height",f.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Rotation"}),l.jsx("input",{type:"number",value:o.angle,onChange:f=>u("angle",f.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]})]}),c&&l.jsxs("div",{className:"space-y-4 pt-2 border-t border-gray-200",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Text Content"}),l.jsx("textarea",{value:o.text,onChange:f=>{t.canvas&&t.activeObject&&(t.activeObject.text=f.target.value,t.canvas.renderAll())},className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm",rows:2})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Font Family"}),l.jsx("select",{value:o.fontFamily,onChange:f=>u("fontFamily",f.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm",children:["Arial","Verdana","Helvetica","Times New Roman","Courier New"].map(f=>l.jsx("option",{value:f,children:f},f))})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Font Size"}),l.jsx("input",{type:"number",value:o.fontSize,onChange:f=>u("fontSize",f.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),l.jsxs("div",{className:"flex border border-gray-300 rounded-md divide-x divide-gray-300",children:[l.jsx("button",{className:`flex-1 py-1 ${o.isBold?"bg-gray-200":"bg-white"}`,onClick:()=>u("fontWeight",!o.isBold),title:"Bold",children:l.jsx(bH,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.isItalic?"bg-gray-200":"bg-white"}`,onClick:()=>u("fontStyle",!o.isItalic),title:"Italic",children:l.jsx(DH,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.isUnderline?"bg-gray-200":"bg-white"}`,onClick:()=>u("underline",!o.isUnderline),title:"Underline",children:l.jsx($H,{size:16,className:"mx-auto"})})]}),l.jsxs("div",{className:"flex border border-gray-300 rounded-md divide-x divide-gray-300",children:[l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="left"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","left"),title:"Align Left",children:l.jsx(gH,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="center"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","center"),title:"Align Center",children:l.jsx(pH,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="right"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","right"),title:"Align Right",children:l.jsx(xH,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="justify"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","justify"),title:"Justify",children:l.jsx(mH,{size:16,className:"mx-auto"})})]})]})]})})]}):l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b border-gray-300 bg-gray-100",children:l.jsx("h2",{className:"text-sm font-medium text-gray-700",children:"Properties"})}),l.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-sm p-4 text-center",children:"Select an object to view and edit its properties."})]})},iee=({width:t,height:e,gridSize:r,zoom:n})=>{const i=C.useRef(null);return C.useEffect(()=>{if(!i.current)return;const a=i.current,s=a.getContext("2d");if(!s)return;a.width=t,a.height=e,s.clearRect(0,0,t,e);const o=r*n;s.strokeStyle="rgba(200, 200, 200, 0.4)",s.lineWidth=.5;for(let c=0;c<=t;c+=o)s.beginPath(),s.moveTo(c,0),s.lineTo(c,e),s.stroke();for(let c=0;c<=e;c+=o)s.beginPath(),s.moveTo(0,c),s.lineTo(t,c),s.stroke();s.strokeStyle="rgba(150, 150, 150, 0.6)",s.lineWidth=.8;for(let c=0;c<=t;c+=o*5)s.beginPath(),s.moveTo(c,0),s.lineTo(c,e),s.stroke();for(let c=0;c<=e;c+=o*5)s.beginPath(),s.moveTo(0,c),s.lineTo(t,c),s.stroke()},[t,e,r,n]),l.jsx("canvas",{ref:i,className:"absolute inset-0 pointer-events-none z-10",style:{width:t,height:e}})},tR=C.createContext(void 0),aee=({children:t})=>{const[e,r]=C.useState([]);C.useEffect(()=>{console.log("🔄 PurchaseContext: Provider initialized");const u=localStorage.getItem("tshirt_cart");if(u)try{const h=JSON.parse(u);r(h),console.log("🛒 PurchaseContext: Cart loaded from localStorage:",h.length,"items")}catch(h){console.error("❌ PurchaseContext: Error loading cart:",h),localStorage.removeItem("tshirt_cart")}},[]),C.useEffect(()=>{localStorage.setItem("tshirt_cart",JSON.stringify(e))},[e]);const n=u=>{console.log("🛒 PurchaseContext: Adding to cart:",u.productName),r(h=>h.find(d=>d.id===u.id)?h.map(d=>d.id===u.id?{...d,quantity:d.quantity+u.quantity}:d):[...h,u])},i=u=>{console.log("🗑️ PurchaseContext: Removing from cart:",u),r(h=>h.filter(f=>f.id!==u))},a=()=>{console.log("🛒 PurchaseContext: Clearing cart"),r([]),localStorage.removeItem("tshirt_cart")},s=()=>e.reduce((u,h)=>u+h.price*h.quantity,0),c={currentCart:e,addToCart:n,removeFromCart:i,clearCart:a,getTotalAmount:s,processPurchase:async u=>{console.log("🔄 PurchaseContext: Processing purchase for:",u.email);const h={id:`purchase_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:u.id,items:[...e],totalAmount:s(),status:"completed",createdAt:new Date().toISOString(),userEmail:u.email,userName:u.name||u.email},f=JSON.parse(localStorage.getItem("all_purchases")||"[]");return f.push(h),localStorage.setItem("all_purchases",JSON.stringify(f)),console.log("✅ PurchaseContext: Purchase processed:",h.id),a(),h}};return C.useEffect(()=>(document.body.setAttribute("data-purchase-provider","true"),()=>{document.body.removeAttribute("data-purchase-provider")}),[]),l.jsx(tR.Provider,{value:c,children:t})},see=()=>{const t=C.useContext(tR);if(t===void 0)throw new Error("usePurchase must be used within a PurchaseProvider");return t},C4="https://your-aws-backend-url.com/api";console.log("🔧 API Base URL configured as:",C4);class zu extends Error{constructor(e,r=500){super(e),this.status=r,this.name="ApiError"}}let Af=!1,A4=[];const $w=(t,e=null)=>{A4.forEach(({resolve:r,reject:n})=>{t?n(t):r(e)}),A4=[]};async function Sl(t,e={}){const r=`${C4}${t}`,n={headers:{"Content-Type":"application/json",...e.headers},...e},i=localStorage.getItem("auth_token");i&&(n.headers={...n.headers,Authorization:`Bearer ${i}`});try{const a=await fetch(r,n),s=await a.json();if(a.status===401&&s.message==="Invalid token."&&!t.includes("/auth/refresh")){const o=localStorage.getItem("refresh_token");if(o&&!Af){Af=!0;try{const c=await fetch(`${C4}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:o})}),u=await c.json();if(c.ok&&u.accessToken){localStorage.setItem("auth_token",u.accessToken),u.refreshToken&&localStorage.setItem("refresh_token",u.refreshToken);const h={...n,headers:{...n.headers,Authorization:`Bearer ${u.accessToken}`}},f=await fetch(r,h),d=await f.json();if(!f.ok)throw new zu(d.message||`HTTP ${f.status}: ${f.statusText}`,f.status);return Af=!1,$w(null,u.accessToken),d}else throw localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),Af=!1,$w(new Error("Token refresh failed"),null),new zu("Session expired. Please login again.",401)}catch(c){throw Af=!1,$w(c,null),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),new zu("Session expired. Please login again.",401)}}else{if(Af)return new Promise((c,u)=>{A4.push({resolve:c,reject:u})}).then(()=>Sl(t,e));throw localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),new zu("Session expired. Please login again.",401)}}if(!a.ok)throw new zu(s.message||`HTTP ${a.status}: ${a.statusText}`,a.status);return s}catch(a){throw a instanceof zu?a:(console.error("API request failed:",a),new zu(a instanceof Error?a.message:"Network error occurred",500))}}const Wu={register:async t=>Sl("/auth/register",{method:"POST",body:JSON.stringify(t)}),login:async t=>Sl("/auth/login",{method:"POST",body:JSON.stringify(t)}),forgotPassword:async t=>Sl("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:t})}),resetPassword:async t=>Sl("/auth/reset-password",{method:"POST",body:JSON.stringify(t)}),verifyEmail:async t=>Sl("/auth/verify-email",{method:"POST",body:JSON.stringify({token:t})}),verifyToken:async()=>Sl("/auth/verify"),logout:async()=>Sl("/auth/logout",{method:"POST"}),refreshToken:async t=>Sl("/auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:t})})},Oo={setTokens:(t,e)=>{localStorage.setItem("auth_token",t),e&&localStorage.setItem("refresh_token",e)},getAccessToken:()=>localStorage.getItem("auth_token"),getRefreshToken:()=>localStorage.getItem("refresh_token"),clearTokens:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token")},isAuthenticated:()=>!!localStorage.getItem("auth_token"),isTokenExpiringSoon:()=>{const t=localStorage.getItem("auth_token");if(!t)return!1;try{const r=JSON.parse(atob(t.split(".")[1])).exp*1e3,n=Date.now(),i=5*60*1e3;return r-n<i}catch{return!1}},refreshTokenIfNeeded:async()=>{if(Oo.isTokenExpiringSoon()){const t=localStorage.getItem("refresh_token");if(t)try{const e=await Wu.refreshToken(t);if(e.success&&e.accessToken)return Oo.setTokens(e.accessToken,e.refreshToken),!0}catch(e){return console.error("Proactive token refresh failed:",e),Oo.clearTokens(),!1}}return!0}},rR=C.createContext(void 0),oee=({children:t})=>{const[e,r]=C.useState({user:null,isLoading:!0,error:null,isAuthenticated:!1});C.useEffect(()=>{n()},[]),C.useEffect(()=>{if(e.isAuthenticated){const h=setInterval(async()=>{try{await Oo.refreshTokenIfNeeded()}catch(f){console.error("Periodic token refresh failed:",f)}},6e4);return()=>clearInterval(h)}},[e.isAuthenticated]);const n=async()=>{try{if(!Oo.getAccessToken()){r(d=>({...d,isLoading:!1,isAuthenticated:!1}));return}await Oo.refreshTokenIfNeeded();const f=await Wu.verifyToken();f.success&&f.user?(r(d=>({...d,user:f.user,isLoading:!1,isAuthenticated:!0})),console.log("✅ AuthContext: User verified:",f.user.email)):(Oo.clearTokens(),r(d=>({...d,user:null,isLoading:!1,isAuthenticated:!1})))}catch(h){console.error("❌ AuthContext: Token verification failed:",h),h.status===401?(Oo.clearTokens(),r(f=>({...f,user:null,isLoading:!1,isAuthenticated:!1,error:"Session expired. Please login again."}))):r(f=>({...f,user:null,isLoading:!1,isAuthenticated:!1,error:h.message||"Authentication failed"}))}},i=async(h,f,d=!1)=>{r(p=>({...p,isLoading:!0,error:null})),console.log("🔄 AuthContext: Login attempt:",h);try{const p=await Wu.login({email:h,password:f});if(p.success&&p.accessToken){Oo.setTokens(p.accessToken,p.refreshToken);const x=await Wu.verifyToken();if(x.success&&x.user)r(m=>({...m,user:x.user,isLoading:!1,isAuthenticated:!0,error:null})),console.log("✅ AuthContext: Login successful:",x.user.email);else throw new Error("Failed to get user information")}else throw new Error(p.message||"Login failed")}catch(p){throw console.error("❌ AuthContext: Login failed:",p),r(x=>({...x,isLoading:!1,isAuthenticated:!1,error:p.message||"Login failed. Please try again."})),p}},a=async h=>{r(f=>({...f,isLoading:!0,error:null})),console.log("🔄 AuthContext: Registration attempt:",h.email);try{const f=await Wu.register({firstName:h.firstName,lastName:h.lastName,email:h.email,password:h.password,phone:h.phone,agreeToTerms:h.agreeToTerms});if(f.success)r(d=>({...d,isLoading:!1,error:null})),console.log("✅ AuthContext: Registration successful");else throw new Error(f.message||"Registration failed")}catch(f){throw console.error("❌ AuthContext: Registration failed:",f),r(d=>({...d,isLoading:!1,error:f.message||"Registration failed. Please try again."})),f}},s=async h=>{r(f=>({...f,isLoading:!0,error:null})),console.log("🔄 AuthContext: Forgot password attempt:",h);try{const f=await Wu.forgotPassword(h);if(f.success)r(d=>({...d,isLoading:!1,error:null})),console.log("✅ AuthContext: Forgot password email sent");else throw new Error(f.message||"Failed to send reset email")}catch(f){throw console.error("❌ AuthContext: Forgot password failed:",f),r(d=>({...d,isLoading:!1,error:f.message||"Failed to send reset email. Please try again."})),f}},o=async()=>{try{await Wu.logout()}catch(h){console.error("Logout API call failed:",h)}Oo.clearTokens(),r(h=>({...h,user:null,isAuthenticated:!1,error:null})),console.log("✅ AuthContext: Logout successful")},c=()=>{r(h=>({...h,error:null}))},u={user:e.user,state:e,login:i,register:a,forgotPassword:s,logout:o,clearError:c,verifyAuth:n};return l.jsx(rR.Provider,{value:u,children:t})},hi=()=>{const t=C.useContext(rR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},lee=({onSwitchToRegister:t,onSwitchToForgotPassword:e,onClose:r})=>{const{user:n,login:i}=hi(),[a,s]=C.useState({email:"",password:"",rememberMe:!1}),[o,c]=C.useState(!1),[u,h]=C.useState(!1),[f,d]=C.useState("");It.useEffect(()=>{n&&r&&(console.log("✅ User already logged in, closing modal"),r())},[n,r]);const p=async m=>{m.preventDefault(),console.log("🔄 Login form submitted"),d(""),h(!0);try{await i(a.email,a.password,a.rememberMe),console.log("✅ Login successful")}catch(y){console.error("❌ Login error:",y),d(y.message||"Login failed")}finally{h(!1)}},x=m=>{const{name:y,value:v,type:b,checked:S}=m.target;s(T=>({...T,[y]:b==="checkbox"?S:v})),f&&d("")};return l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back! 👋"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your anime store account"})]}),f&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",role:"alert",children:l.jsx("p",{className:"text-red-600 text-sm",children:f})}),l.jsxs("form",{onSubmit:p,className:"space-y-6",noValidate:!0,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(tc,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"login-email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:x,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email","aria-describedby":f?"login-error":void 0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(t0,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"login-password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:a.password,onChange:x,className:"appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password","aria-describedby":"password-toggle"}),l.jsx("button",{type:"button",id:"password-toggle",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":o?"Hide password":"Show password",children:o?l.jsx(e0,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(du,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"login-rememberMe",name:"rememberMe",type:"checkbox",checked:a.rememberMe,onChange:x,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"login-rememberMe",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),l.jsx("button",{type:"button",onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?l.jsx(zh,{className:"w-5 h-5 animate-spin"}):"Sign In"}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"Create one here"})]})})]})]})},cee=({onSwitchToLogin:t,onClose:e})=>{const{state:r,register:n,clearError:i}=hi(),[a,s]=C.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",agreeToTerms:!1}),[o,c]=C.useState(!1),[u,h]=C.useState(!1),[f,d]=C.useState(!1),p=async m=>{if(m.preventDefault(),i(),a.password===a.confirmPassword&&a.agreeToTerms)try{await n({firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password,confirmPassword:a.confirmPassword,phone:a.phone,agreeToTerms:a.agreeToTerms}),d(!0)}catch{}},x=m=>{const{name:y,value:v,type:b,checked:S}=m.target;s(T=>({...T,[y]:b==="checkbox"?S:v}))};return f?l.jsxs("div",{className:"w-full max-w-md mx-auto text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(Ga,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email! 📧"}),l.jsxs("p",{className:"text-gray-600",children:["We've sent a verification link to ",l.jsx("strong",{children:a.email})]})]}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:l.jsx("p",{className:"text-blue-800 text-sm",children:"Please check your email and click the verification link to activate your account. Don't forget to check your spam folder!"})}),l.jsx("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Login"})]}):l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account 🎌"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Join our anime store community!"})]}),r.error&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:r.error})}),l.jsxs("form",{onSubmit:p,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Qa,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:a.firstName,onChange:x,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"First name"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:a.lastName,onChange:x,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Last name"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(tc,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:a.email,onChange:x,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ng,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"phone",name:"phone",type:"tel",value:a.phone,onChange:x,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(t0,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:a.password,onChange:x,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Create a strong password"}),l.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?l.jsx(e0,{className:"h-5 w-5 text-gray-400"}):l.jsx(du,{className:"h-5 w-5 text-gray-400"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, number, and special character"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(t0,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",required:!0,value:a.confirmPassword,onChange:x,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Confirm your password"}),l.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?l.jsx(e0,{className:"h-5 w-5 text-gray-400"}):l.jsx(du,{className:"h-5 w-5 text-gray-400"})})]}),a.confirmPassword&&a.password!==a.confirmPassword&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex items-center h-5",children:l.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",required:!0,checked:a.agreeToTerms,onChange:x,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("div",{className:"ml-3 text-sm",children:l.jsxs("label",{htmlFor:"agreeToTerms",className:"text-gray-700",children:["I agree to the"," ",l.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms and Conditions"})," ","and"," ",l.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"}),"*"]})})]}),l.jsx("button",{type:"submit",disabled:r.isLoading||a.password!==a.confirmPassword||!a.agreeToTerms,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:r.isLoading?l.jsx(zh,{className:"w-5 h-5 animate-spin"}):"Create Account"}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})})]})]})},uee=({onSwitchToLogin:t,onClose:e})=>{const{forgotPassword:r}=hi(),[n,i]=C.useState(""),[a,s]=C.useState(!1),[o,c]=C.useState(!1),[u,h]=C.useState(""),f=async d=>{d.preventDefault(),h(""),s(!0);try{await r(n),c(!0)}catch(p){h(p.message||"Failed to send reset email")}finally{s(!1)}};return o?l.jsxs("div",{className:"w-full max-w-md mx-auto text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(Ga,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email! 📧"}),l.jsxs("p",{className:"text-gray-600",children:["If an account with ",l.jsx("strong",{children:n})," exists, we've sent a password reset link."]})]}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:l.jsx("p",{className:"text-blue-800 text-sm",children:"The reset link will expire in 1 hour for security. Don't forget to check your spam folder!"})}),l.jsxs("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Lm,{className:"w-4 h-4"}),"Back to Login"]})]}):l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Password 🔑"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email to receive a reset link"})]}),u&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:u})}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(tc,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n,onChange:d=>i(d.target.value),className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email address"})]})]}),l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:a?l.jsx(zh,{className:"w-5 h-5 animate-spin"}):"Send Reset Link"}),l.jsx("div",{className:"text-center",children:l.jsxs("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 flex items-center justify-center gap-1",children:[l.jsx(Lm,{className:"w-4 h-4"}),"Back to Login"]})})]})]})},x2=({isOpen:t,onClose:e,onSuccess:r,defaultMode:n="login"})=>{const[i,a]=C.useState(n),[s,o]=C.useState(!1);C.useEffect(()=>{o(!!t)},[t]);const c=f=>{f.target===f.currentTarget&&u()},u=()=>{console.log("🔄 AuthModal closing"),a("login"),e()},h=()=>{console.log("✅ Auth success, calling onSuccess callback"),r&&r(),u()};return!t&&!s?null:l.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:c,children:l.jsxs("div",{className:`bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto transform transition-transform duration-300 ${t?"scale-100":"scale-95"}`,onClick:f=>f.stopPropagation(),children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center rounded-t-xl z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-2xl",children:"🎌"}),l.jsxs("h1",{className:"text-lg font-semibold text-gray-900",children:[i==="login"&&"Sign In",i==="register"&&"Create Account",i==="forgot-password"&&"Reset Password"]})]}),l.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:l.jsx($o,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6",children:[i==="login"&&l.jsx(lee,{onSwitchToRegister:()=>a("register"),onSwitchToForgotPassword:()=>a("forgot-password"),onClose:h}),i==="register"&&l.jsx(cee,{onSwitchToLogin:()=>a("login"),onClose:h}),i==="forgot-password"&&l.jsx(uee,{onSwitchToLogin:()=>a("login"),onClose:u}),l.jsx("div",{className:"mt-6 flex flex-col gap-2",children:l.jsxs("button",{onClick:()=>{window.location.href=`${window.location.protocol}//${window.location.hostname}:5000/api/auth/google`},className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-lg py-2 px-4 text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm",children:[l.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/4a/Logo_2013_Google.png",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]})})]})]})})},hee=({isOpen:t,onClose:e,productData:r})=>{const{user:n}=hi(),{addToCart:i,processPurchase:a}=see(),[s,o]=C.useState(!1),[c,u]=C.useState(!1),[h,f]=C.useState(!1),[d,p]=C.useState(1);if(!t)return null;const x=async()=>{if(!n){console.log("🚫 No user logged in, showing auth modal"),o(!0);return}console.log("✅ User is logged in:",n.email),u(!0);try{r&&i({id:`${r.id}_${Date.now()}`,productId:r.id,productName:r.name,design:r.design,price:r.price,quantity:d,size:r.size,color:r.color}),await a(n),f(!0)}catch(y){console.error("Purchase failed:",y),alert("Purchase failed. Please try again.")}finally{u(!1)}},m=r?r.price*d:0;return h?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-green-500 text-6xl mb-4",children:"✓"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Purchase Successful!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your purchase. You will receive a confirmation email shortly."}),l.jsx("button",{onClick:()=>{f(!1),e()},className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Continue Shopping"})]})})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Complete Purchase"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),r&&l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[l.jsx("h4",{className:"font-semibold text-lg",children:r.name}),l.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[r.size&&l.jsxs("p",{children:["Size: ",r.size]}),r.color&&l.jsxs("p",{children:["Color: ",r.color]}),l.jsxs("p",{children:["Price: $",r.price]})]}),l.jsxs("div",{className:"mt-4 flex items-center",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Quantity:"}),l.jsx("input",{type:"number",min:"1",max:"10",value:d,onChange:y=>p(parseInt(y.target.value)||1),className:"border rounded px-3 py-1 w-20"})]}),l.jsxs("div",{className:"mt-4 text-lg font-bold",children:["Total: $",m.toFixed(2)]})]})}),!n&&l.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsx("p",{className:"text-yellow-800 font-medium",children:"🔒 Please log in or create an account to complete your purchase."})}),n&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("p",{className:"text-green-800 font-medium",children:["✅ Logged in as: ",n.email]})}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:e,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:x,disabled:c,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg",children:c?"Processing...":n?"Buy Now":"Login to Buy"})]})]})}),s&&l.jsx(x2,{isOpen:s,onClose:()=>o(!1),onSuccess:()=>{o(!1),console.log("✅ Login successful, will retry purchase"),setTimeout(x,500)}})]})},fee=({productData:t,className:e="",children:r})=>{const[n,i]=C.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>i(!0),className:`bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors ${e}`,children:r||`Buy Now - $${t.price}`}),l.jsx(hee,{isOpen:n,onClose:()=>i(!1),productData:t})]})},dee=({width:t=1152,height:e=1440,showToolbar:r=!0,showSidebar:n=!0,showLayerPanel:i=!0,showPropertyPanel:a=!0,mockupUrl:s,onExport:o,className:c})=>{const u=C.useRef(null),h=C.useRef(null),f=C.useRef(null),[d,p]=C.useState(t),[x,m]=C.useState(e),[y,v]=C.useState(!1),[b,S]=C.useState(null),[T,E]=C.useState(!1),[P,j]=C.useState(29.99),[L,F]=C.useState("M"),[W,D]=C.useState("White"),{state:O,initCanvas:q,setIsDragging:I,setSelectedColor:ae,setActiveTool:X,exportDesign:le}=s0();C.useEffect(()=>{u.current&&!O.canvas&&q(u.current,d,x)},[u,q,d,x,O.canvas]),C.useEffect(()=>{const ge=()=>{if(f.current&&O.canvas){const Ge=f.current.clientWidth,A=f.current.clientHeight,M=t/e,R=Ge/A;let B,Q;R>M?(Q=A,B=Q*M):(B=Ge,Q=B/M),p(B),m(Q),O.canvas.setWidth(B),O.canvas.setHeight(Q),O.canvas.renderAll()}};return window.addEventListener("resize",ge),ge(),()=>{window.removeEventListener("resize",ge)}},[O.canvas,t,e]),C.useEffect(()=>{if(!O.canvas)return;const ge=B=>{O.isPanning&&(v(!0),S({x:B.clientX,y:B.clientY}),I(!0))},Ge=B=>{if(!y||!b)return;const Q=B.clientX-b.x,fe=B.clientY-b.y;if(O.canvas){const he=O.canvas.viewportTransform;he&&(he[4]+=Q,he[5]+=fe,O.canvas.requestRenderAll())}S({x:B.clientX,y:B.clientY})},A=()=>{y&&(v(!1),S(null),I(!1))},M=B=>{if(O.activeTool!=="eyedropper"||!O.canvas)return;const Q=O.canvas.getPointer(B),he=O.canvas.getContext().getImageData(Q.x,Q.y,1,1).data,pe=`#${((1<<24)+(he[0]<<16)+(he[1]<<8)+he[2]).toString(16).slice(1)}`;ae(pe),X("select"),E(!1)},R=O.canvas.getElement();return R.addEventListener("mousedown",ge),document.addEventListener("mousemove",Ge),document.addEventListener("mouseup",A),O.activeTool==="eyedropper"&&!T?(R.addEventListener("mousedown",M),E(!0)):O.activeTool!=="eyedropper"&&T&&(R.removeEventListener("mousedown",M),E(!1)),()=>{R.removeEventListener("mousedown",ge),document.removeEventListener("mousemove",Ge),document.removeEventListener("mouseup",A),T&&R.removeEventListener("mousedown",M)}},[O.canvas,O.isPanning,y,b,I,O.activeTool,T,ae,X]);const re=()=>{o&&le(o)},ue=()=>O.canvas?O.canvas.toDataURL("image/png"):null;return l.jsxs("div",{className:`t-shirt-designer-container ${c||""} w-full h-full flex flex-col`,children:[r&&l.jsx("div",{className:"toolbar-container md:w-16 w-full h-16 md:h-full bg-gray-800 text-white z-10 md:fixed md:left-0 md:top-0",children:l.jsx(WJ,{onExport:re})}),l.jsxs("div",{className:"flex flex-1 flex-col md:flex-row overflow-hidden md:ml-16",children:[n&&l.jsx("div",{className:"sidebar-container w-full md:w-64 h-auto md:h-full bg-gray-100 border-r border-gray-300 overflow-y-auto",children:l.jsx(tee,{})}),l.jsxs("div",{ref:h,className:"flex-1 relative flex flex-col items-center justify-center bg-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"w-full bg-white border-b border-gray-300 p-4 flex flex-col md:flex-row items-center justify-between gap-4 z-20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("label",{className:"block text-gray-600 mb-1",children:"Size:"}),l.jsxs("select",{value:L,onChange:ge=>F(ge.target.value),className:"border border-gray-300 rounded px-3 py-1",children:[l.jsx("option",{value:"XS",children:"XS"}),l.jsx("option",{value:"S",children:"S"}),l.jsx("option",{value:"M",children:"M"}),l.jsx("option",{value:"L",children:"L"}),l.jsx("option",{value:"XL",children:"XL"}),l.jsx("option",{value:"XXL",children:"XXL"})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("label",{className:"block text-gray-600 mb-1",children:"Color:"}),l.jsxs("select",{value:W,onChange:ge=>D(ge.target.value),className:"border border-gray-300 rounded px-3 py-1",children:[l.jsx("option",{value:"White",children:"White"}),l.jsx("option",{value:"Black",children:"Black"}),l.jsx("option",{value:"Gray",children:"Gray"}),l.jsx("option",{value:"Navy",children:"Navy"}),l.jsx("option",{value:"Red",children:"Red"})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("label",{className:"block text-gray-600 mb-1",children:"Price:"}),l.jsx("input",{type:"number",step:"0.01",min:"1",max:"999",value:P,onChange:ge=>j(parseFloat(ge.target.value)||29.99),className:"border border-gray-300 rounded px-3 py-1 w-20"})]})]}),l.jsxs(fee,{productData:{id:`custom_design_${Date.now()}`,name:"Custom T-Shirt Design",price:P,design:O.canvas?O.canvas.toJSON():null,size:L,color:W,preview:ue()},className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200",children:["🛒 Buy This Design - $",P.toFixed(2)]})]}),s&&O.showMockup&&l.jsx("img",{src:s,alt:"T-Shirt Mockup",className:"absolute inset-0 pointer-events-none object-contain h-full w-full z-0",style:{opacity:.9}}),O.showGrid&&l.jsx(iee,{width:d,height:x,gridSize:O.gridSize,zoom:O.zoom}),l.jsx("div",{ref:f,className:"canvas-wrapper relative overflow-hidden",style:{width:`${d}px`,height:`${x}px`,boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",backgroundColor:"transparent",transform:`scale(${O.zoom})`,transition:"transform 0.2s ease"},children:l.jsx("canvas",{ref:u})})]}),(i||a)&&l.jsxs("div",{className:"right-panels-container w-full md:w-64 h-auto md:h-full bg-gray-100 border-l border-gray-300 overflow-y-auto",children:[i&&l.jsx(ree,{}),a&&l.jsx(nee,{})]})]})]})},pee=t=>l.jsx(VJ,{children:l.jsx(dee,{...t})});var nR={exports:{}};(function(t,e){(function(r,n){n()})(fp,function(){function r(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,h,f){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){c(d.response,h,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof fp=="object"&&fp.global===fp?fp:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,h,f){var d=s.URL||s.webkitURL,p=document.createElement("a");h=h||u.name||"download",p.download=h,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?a(p):i(p.href)?n(u,h,f):a(p,p.target="_blank")):(p.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(p.href)},4e4),setTimeout(function(){a(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,f){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),h);else if(i(u))n(u,h,f);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){a(d)})}}:function(u,h,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return n(u,h,f);var p=u.type==="application/octet-stream",x=/constructor/i.test(s.HTMLElement)||s.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||p&&x||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var S=y.result;S=m?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=S:location=S,d=null},y.readAsDataURL(u)}else{var v=s.URL||s.webkitURL,b=v.createObjectURL(u);d?d.location=b:location.href=b,d=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});s.saveAs=c.saveAs=c,t.exports=c})})(nR);var _x=nR.exports;const mee=()=>{const[t,e]=C.useState(null),r=o=>{e(o),_x.saveAs(o.pngBlob,"tshirt-design.png"),_x.saveAs(o.pdfBlob,"tshirt-design.pdf"),localStorage.setItem("tshirtDesignJson",o.designJson)},n="/tshirt-front.png",i="/tshirt-back.png",[a,s]=C.useState("front");return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsxs(Qv,{children:[l.jsx("title",{children:"T-Shirt Designer Demo | Anime Print on Demand"}),l.jsx("meta",{name:"description",content:"Design your own anime t-shirt with our interactive designer. Create custom designs, add text, images, and shapes, and export your design for printing."})]}),l.jsxs("div",{className:"py-4 px-6 bg-white border-b border-gray-200",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"T-Shirt Designer"}),l.jsx("p",{className:"text-gray-600",children:"Create your custom anime-inspired designs"}),l.jsxs("div",{className:"mt-2 flex space-x-4",children:[l.jsx("button",{onClick:()=>s("front"),className:`px-4 py-1 rounded-md ${a==="front"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Front Side"}),l.jsx("button",{onClick:()=>s("back"),className:`px-4 py-1 rounded-md ${a==="back"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Back Side"})]})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:l.jsx("div",{className:"h-[calc(100vh-220px)] max-h-[750px]",children:l.jsx(pee,{mockupUrl:a==="front"?n:i,onExport:r,height:750})})}),t&&l.jsxs("div",{className:"fixed bottom-4 right-4 p-4 bg-green-100 border border-green-400 rounded-md shadow-lg max-w-md",children:[l.jsx("h3",{className:"font-medium text-green-800",children:"Design Exported Successfully!"}),l.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your design has been exported to PNG and PDF formats."}),l.jsxs("div",{className:"mt-3 flex space-x-3",children:[l.jsx($t,{size:"sm",onClick:()=>_x.saveAs(t.pngBlob,"tshirt-design.png"),variant:"outline",className:"bg-white",children:"Download PNG"}),l.jsx($t,{size:"sm",onClick:()=>_x.saveAs(t.pdfBlob,"tshirt-design.pdf"),variant:"outline",className:"bg-white",children:"Download PDF"})]})]})]})},iR=C.createContext(void 0),gee=(t,e)=>{switch(e.type){case"SET_LOADING":return{...t,loading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_CART":return{...t,cart:e.payload,error:null};case"ADD_ITEM":return t.cart?{...t,cart:{...t.cart,items:[...t.cart.items,e.payload]}}:t;case"UPDATE_ITEM":return t.cart?{...t,cart:{...t.cart,items:t.cart.items.map(r=>r._id===e.payload.itemId?{...r,quantity:e.payload.quantity}:r)}}:t;case"REMOVE_ITEM":return t.cart?{...t,cart:{...t.cart,items:t.cart.items.filter(r=>r._id!==e.payload)}}:t;case"CLEAR_CART":return t.cart?{...t,cart:{...t.cart,items:[]}}:t;default:return t}},xee=({children:t})=>{const{user:e}=hi(),[r,n]=C.useReducer(gee,{cart:null,loading:!1,error:null}),i=async()=>{var u,h;if(!e){console.log("❌ No user found, skipping cart fetch");return}console.log("🛒 Fetching cart for user:",e.email),n({type:"SET_LOADING",payload:!0});try{const f=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!f)throw console.error("❌ No auth token found"),new Error("Authentication token not found");const d="https://your-aws-backend-url.com/api";console.log("🌐 Making request to:",`${d}/cart`);const p=await sr.get(`${d}/cart`,{headers:{Authorization:`Bearer ${f}`}});if(console.log("✅ Cart fetch response:",p.data),p.data.success)n({type:"SET_CART",payload:p.data.data});else throw new Error(p.data.message||"Failed to fetch cart")}catch(f){console.error("❌ Error fetching cart:",f),sr.isAxiosError(f)&&(console.error("Response status:",(u=f.response)==null?void 0:u.status),console.error("Response data:",(h=f.response)==null?void 0:h.data)),n({type:"SET_ERROR",payload:f instanceof Error?f.message:"Failed to fetch cart"})}finally{n({type:"SET_LOADING",payload:!1})}},a=async u=>{if(e){n({type:"SET_LOADING",payload:!0});try{const h=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),f="https://your-aws-backend-url.com/api",d=await sr.post(`${f}/cart/add`,u,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}});if(d.data.success)n({type:"SET_CART",payload:d.data.data});else throw new Error(d.data.message||"Failed to add item to cart")}catch(h){console.error("Error adding to cart:",h),n({type:"SET_ERROR",payload:h instanceof Error?h.message:"Failed to add item to cart"})}finally{n({type:"SET_LOADING",payload:!1})}}},s=async(u,h)=>{if(e){n({type:"SET_LOADING",payload:!0});try{const f=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),d="https://your-aws-backend-url.com/api",p=await sr.put(`${d}/cart/update`,{itemId:u,quantity:h},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`}});if(p.data.success)n({type:"SET_CART",payload:p.data.data});else throw new Error(p.data.message||"Failed to update cart item")}catch(f){console.error("Error updating cart item:",f),n({type:"SET_ERROR",payload:f instanceof Error?f.message:"Failed to update cart item"})}finally{n({type:"SET_LOADING",payload:!1})}}},o=async u=>{if(e){n({type:"SET_LOADING",payload:!0});try{const h=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),f="https://your-aws-backend-url.com/api",d=await sr.delete(`${f}/cart/remove`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},data:{itemId:u}});if(d.data.success)n({type:"SET_CART",payload:d.data.data});else throw new Error(d.data.message||"Failed to remove item from cart")}catch(h){console.error("Error removing from cart:",h),n({type:"SET_ERROR",payload:h instanceof Error?h.message:"Failed to remove item from cart"})}finally{n({type:"SET_LOADING",payload:!1})}}},c=async()=>{if(e){n({type:"SET_LOADING",payload:!0});try{const u=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),h="https://your-aws-backend-url.com/api",f=await sr.delete(`${h}/cart/clear`,{headers:{Authorization:`Bearer ${u}`}});if(f.data.success)n({type:"SET_CART",payload:f.data.data});else throw new Error(f.data.message||"Failed to clear cart")}catch(u){console.error("Error clearing cart:",u),n({type:"SET_ERROR",payload:u instanceof Error?u.message:"Failed to clear cart"})}finally{n({type:"SET_LOADING",payload:!1})}}};return C.useEffect(()=>{e?i():n({type:"SET_CART",payload:{items:[],totalAmount:0,itemCount:0}})},[e]),l.jsx(iR.Provider,{value:{state:r,fetchCart:i,addToCart:a,updateCartItem:s,removeFromCart:o,clearCart:c},children:t})},Vh=()=>{const t=C.useContext(iR);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},aR=C.createContext(void 0),vee=(t,e)=>{switch(e.type){case"SET_LOADING":return{...t,loading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_WISHLIST":return{...t,wishlist:e.payload,error:null};case"ADD_ITEM":return t.wishlist?{...t,wishlist:{...t.wishlist,items:[...t.wishlist.items,e.payload]}}:t;case"REMOVE_ITEM":return t.wishlist?{...t,wishlist:{...t.wishlist,items:t.wishlist.items.filter(r=>r.productId!==e.payload)}}:t;case"CLEAR_WISHLIST":return t.wishlist?{...t,wishlist:{...t.wishlist,items:[]}}:t;default:return t}},yee=({children:t})=>{const{user:e}=hi(),[r,n]=C.useReducer(vee,{wishlist:null,loading:!1,error:null}),i=async()=>{var u,h;if(!e){console.log("❌ No user found, skipping wishlist fetch");return}console.log("💖 Fetching wishlist for user:",e.email),n({type:"SET_LOADING",payload:!0});try{const f=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!f)throw console.error("❌ No auth token found"),new Error("Authentication token not found");const d="https://your-aws-backend-url.com/api";console.log("🌐 Making request to:",`${d}/wishlist`);const p=await sr.get(`${d}/wishlist`,{headers:{Authorization:`Bearer ${f}`}});if(console.log("✅ Wishlist fetch response:",p.data),p.data.success)n({type:"SET_WISHLIST",payload:p.data.data});else throw new Error(p.data.message||"Failed to fetch wishlist")}catch(f){console.error("❌ Error fetching wishlist:",f),sr.isAxiosError(f)&&(console.error("Response status:",(u=f.response)==null?void 0:u.status),console.error("Response data:",(h=f.response)==null?void 0:h.data)),n({type:"SET_ERROR",payload:f instanceof Error?f.message:"Failed to fetch wishlist"})}finally{n({type:"SET_LOADING",payload:!1})}},a=async u=>{if(e){n({type:"SET_LOADING",payload:!0});try{const h=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),f="https://your-aws-backend-url.com/api",d=await sr.post(`${f}/wishlist/add`,u,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}});if(d.data.success)n({type:"SET_WISHLIST",payload:d.data.data});else throw new Error(d.data.message||"Failed to add item to wishlist")}catch(h){console.error("Error adding to wishlist:",h),n({type:"SET_ERROR",payload:h instanceof Error?h.message:"Failed to add item to wishlist"})}finally{n({type:"SET_LOADING",payload:!1})}}},s=async u=>{if(e){n({type:"SET_LOADING",payload:!0});try{const h=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),f="https://your-aws-backend-url.com/api",d=await sr.delete(`${f}/wishlist/remove`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},data:{productId:u}});if(d.data.success)n({type:"SET_WISHLIST",payload:d.data.data});else throw new Error(d.data.message||"Failed to remove item from wishlist")}catch(h){console.error("Error removing from wishlist:",h),n({type:"SET_ERROR",payload:h instanceof Error?h.message:"Failed to remove item from wishlist"})}finally{n({type:"SET_LOADING",payload:!1})}}},o=async()=>{if(e){n({type:"SET_LOADING",payload:!0});try{const u=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),h="https://your-aws-backend-url.com/api",f=await sr.delete(`${h}/wishlist/clear`,{headers:{Authorization:`Bearer ${u}`}});if(f.data.success)n({type:"SET_WISHLIST",payload:f.data.data});else throw new Error(f.data.message||"Failed to clear wishlist")}catch(u){console.error("Error clearing wishlist:",u),n({type:"SET_ERROR",payload:u instanceof Error?u.message:"Failed to clear wishlist"})}finally{n({type:"SET_LOADING",payload:!1})}}},c=async u=>{if(!e)return!1;try{const h=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),f="https://your-aws-backend-url.com/api";return(await sr.get(`${f}/wishlist/check/${u}`,{headers:{Authorization:`Bearer ${h}`}})).data.isInWishlist||!1}catch(h){return console.error("Error checking wishlist status:",h),!1}};return C.useEffect(()=>{e?i():n({type:"SET_WISHLIST",payload:{items:[],itemCount:0}})},[e]),l.jsx(aR.Provider,{value:{state:r,fetchWishlist:i,addToWishlist:a,removeFromWishlist:s,clearWishlist:o,checkWishlistStatus:c},children:t})},L0=()=>{const t=C.useContext(aR);if(t===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return t},bee=(t,e)=>{let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>t.apply(null,n),e)}},wee=t=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const e=window.location.origin;return t.startsWith("/uploads/")||t.startsWith("/")?e+t:`${e}/uploads/${t}`},See=({src:t,alt:e,className:r="",fallbackSrc:n="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=500&h=300&fit=crop",...i})=>{const[a,s]=C.useState(""),[o,c]=C.useState(!0),[u,h]=C.useState(!1),[f,d]=C.useState(!1),p=C.useRef(null),x=C.useRef(null),m=wee(t),y=C.useCallback(()=>{u||(h(!0),s(n),c(!1))},[u,n]),v=C.useCallback(()=>{c(!1),h(!1)},[]);return C.useEffect(()=>{if(p.current)return x.current=new IntersectionObserver(b=>{b.forEach(S=>{var T;S.isIntersecting&&(d(!0),(T=x.current)==null||T.unobserve(S.target))})},{rootMargin:"50px",threshold:.1}),x.current.observe(p.current),()=>{x.current&&x.current.disconnect()}},[]),C.useEffect(()=>{f&&m&&s(m)},[f,m]),l.jsxs("div",{className:`relative ${r}`,children:[o&&l.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse rounded"}),l.jsx("img",{ref:p,src:f?a:"",alt:e,className:`${r} ${o?"opacity-0":"opacity-100"} transition-opacity duration-300`,loading:"lazy",decoding:"async",onError:y,onLoad:v,...i})]})},sR=It.memo(({product:t,isListView:e=!1,isFavorite:r,isInCart:n,requiresSize:i,onAddToCart:a,onBuyNow:s,onToggleFavorite:o,onOpenDetail:c})=>{const{tags:u,displayImage:h,price:f,discountPercent:d,originalPrice:p,rating:x,reviewCount:m}=C.useMemo(()=>{let T=[];if(t.tags)try{T=JSON.parse(t.tags)}catch{T=[t.tags]}let E=t.imageUrl;if(t.images)try{const O=typeof t.images=="string"?JSON.parse(t.images):t.images;Array.isArray(O)&&O.length>0?(E=O[0],console.log("🖼️ Using uploaded image for product:",t.name,"Image:",E)):console.log("⚠️ No valid uploaded images found for product:",t.name,"Using fallback:",t.imageUrl)}catch(O){console.warn("Error parsing product images for:",t.name,O),console.log("🔄 Falling back to imageUrl for product:",t.name,"Image:",t.imageUrl)}else console.log("📸 No images field for product:",t.name,"Using imageUrl:",t.imageUrl);const P=parseFloat(t.price),j=t.id||1,L=10+j%21,F=(P*(1+L/100)).toFixed(2),W=(4+j%15/10).toFixed(1),D=100+j*7%900;return{tags:T,displayImage:E,price:P,discountPercent:L,originalPrice:F,rating:W,reviewCount:D}},[t]),y=C.useCallback(T=>{T.stopPropagation(),i?c(t):a(t._id)},[i,t,a,c]),v=C.useCallback(T=>{T.stopPropagation(),i?c(t):s(t._id)},[i,t,s,c]),b=C.useCallback(T=>{T.stopPropagation(),o(t._id)},[t._id,o]),S=C.useCallback(()=>{c(t)},[t,c]);return l.jsxs("div",{className:`group bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 overflow-hidden border border-gray-100 ${e?"flex":""} relative cursor-pointer`,children:[l.jsxs("div",{className:`relative overflow-hidden ${e?"w-48 flex-shrink-0":"h-56"}`,onClick:S,children:[l.jsx(See,{src:h,alt:t.name,className:"w-full h-full object-cover group-hover:scale-125 transition-transform duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300",children:[t.featured&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center shadow-lg",children:[l.jsx(Ah,{className:"w-3 h-3 mr-1 fill-current"}),"BESTSELLER"]}),l.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg animate-pulse",children:[d,"% OFF"]}),i&&l.jsxs("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg",children:[l.jsx(oy,{className:"w-3 h-3 mr-1"}),"SIZES"]})]}),l.jsx("button",{onClick:b,className:"absolute top-2 right-2 p-2 bg-white/80 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all duration-300 transform hover:scale-110 group-hover:opacity-100 opacity-0",children:l.jsx(ks,{className:`w-5 h-5 ${r?"text-red-500 fill-current":"text-gray-600"}`})})]}),l.jsxs("div",{className:`p-4 ${e?"flex-1":""}`,children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors duration-300",children:t.name}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["₹",f]}),l.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["₹",p]}),l.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full font-medium",children:[d,"% OFF"]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ah,{className:"w-4 h-4 text-yellow-400 fill-current"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 ml-1",children:x})]}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",m," reviews)"]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:y,disabled:n,className:`flex-1 ${n?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} px-2 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 text-xs`,children:n?l.jsxs(l.Fragment,{children:[l.jsx(aa,{className:"w-3 h-3 mr-1"}),"ADDED"]}):l.jsxs(l.Fragment,{children:[l.jsx(aa,{className:"w-3 h-3 mr-1"}),i?"SIZE":"ADD TO CART"]})}),l.jsxs("button",{onClick:v,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-2 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 text-xs",children:[l.jsx(l7,{className:"w-3 h-3 mr-1"}),"BUY"]})]})]})]})});sR.displayName="PerformanceOptimizedProductCard";const l0={"T-Shirts":{sizes:["XS","S","M","L","XL","XXL"],measurements:{XS:{chest:"34-36",length:"26",shoulder:"16"},S:{chest:"36-38",length:"27",shoulder:"17"},M:{chest:"38-40",length:"28",shoulder:"18"},L:{chest:"40-42",length:"29",shoulder:"19"},XL:{chest:"42-44",length:"30",shoulder:"20"},XXL:{chest:"44-46",length:"31",shoulder:"21"}}},Hoodies:{sizes:["XS","S","M","L","XL","XXL"],measurements:{XS:{chest:"36-38",length:"25",shoulder:"17"},S:{chest:"38-40",length:"26",shoulder:"18"},M:{chest:"40-42",length:"27",shoulder:"19"},L:{chest:"42-44",length:"28",shoulder:"20"},XL:{chest:"44-46",length:"29",shoulder:"21"},XXL:{chest:"46-48",length:"30",shoulder:"22"}}}},c0=(()=>{const t=window.location.protocol,e=window.location.hostname;return`${t}//${e}:5000`})();console.log("🔧 API_BASE configured as:",c0);const E4=t=>{if(!t)return"";if(console.log("🔍 Resolving image URL:",t),t.startsWith("http://")||t.startsWith("https://"))return console.log("✅ Complete URL detected:",t),t;const e="http://localhost:5000";if(t.startsWith("/uploads/")){const n=e+t;return console.log("✅ Resolved uploads URL:",n),n}if(t.startsWith("/")){const n=e+t;return console.log("✅ Resolved relative URL:",n),n}const r=`${e}/uploads/${t}`;return console.log("✅ Resolved filename URL:",r),r},_ee=async t=>{const e=new URLSearchParams;t!=null&&t.category&&e.append("category",t.category),(t==null?void 0:t.featured)!==void 0&&e.append("featured",t.featured.toString()),(t==null?void 0:t.inStock)!==void 0&&e.append("inStock",t.inStock.toString());const r=`${c0}/api/products${e.toString()?`?${e.toString()}`:""}`;console.log("🔗 Products: Fetching from:",r);try{const n=await fetch(r);if(console.log("📡 Products: Response status:",n.status),!n.ok){const s=await n.text();throw console.error("❌ Products: API Error Response:",s),new Error(`HTTP ${n.status}: ${s}`)}const i=await n.json();console.log("✅ Products: API Response:",i);const a=i.data||i;return console.log("📦 Products: Final products array:",a),Array.isArray(a)&&a.forEach((s,o)=>{console.log(`📸 Product ${o+1} (${s.name}):`,{imageUrl:s.imageUrl,images:s.images,imagesType:typeof s.images,hasImages:!!s.images})}),Array.isArray(a)?a:[]}catch(n){throw console.error("🚨 Products: Fetch Error:",n),n}},Nee=async()=>{const t=`${c0}/api/products/categories`;console.log("🔗 Products: Fetching categories from:",t);try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP ${e.status}`);const r=await e.json(),n=r.data||r;return Array.isArray(n)?n:[]}catch(e){return console.error("🚨 Products: Categories Error:",e),["T-Shirts","Phone Covers","Hoodies","Bottles","Plates"]}},oR=({src:t,alt:e,className:r="",fallbackSrc:n="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=500&h=300&fit=crop",...i})=>{const[a,s]=C.useState(E4(t)),[o,c]=C.useState(!1),[u,h]=C.useState(!0);C.useEffect(()=>{const p=E4(t);console.log("🖼️ RobustImage resolving:",t,"→",p),s(p),c(!1),h(!0)},[t]);const f=()=>{console.log("❌ RobustImage failed to load:",a),o||(c(!0),s(n))},d=()=>{console.log("✅ RobustImage loaded successfully:",a),h(!1)};return l.jsxs("div",{className:`relative ${r}`,children:[u&&l.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400 text-sm",children:"Loading..."})}),l.jsx("img",{src:a,alt:e,className:`${r} ${u?"opacity-0":"opacity-100"} transition-opacity duration-300`,onError:f,onLoad:d,...i})]})},Tee=({isOpen:t,onClose:e,category:r})=>{if(!t||!l0[r])return null;const n=l0[r];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl w-full",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[l.jsx(oy,{className:"w-6 h-6 mr-2 text-blue-600"}),"Size Chart - ",r]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx($o,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg",children:[l.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[l.jsx(OH,{className:"w-5 h-5 mr-2"}),"How to Measure"]}),l.jsxs("div",{className:"text-blue-800 text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Chest:"})," Measure around the fullest part of your chest, keeping the tape horizontal."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Length:"})," Measure from the highest point of the shoulder to the bottom hem."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Shoulder:"})," Measure from one shoulder point to the other across the back."]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300 rounded-lg overflow-hidden shadow-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Size"}),l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Chest (inches)"}),l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Length (inches)"}),l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Shoulder (inches)"})]})}),l.jsx("tbody",{children:n.sizes.map(i=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:i}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:n.measurements[i].chest}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:n.measurements[i].length}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:n.measurements[i].shoulder})]},i))})]})}),l.jsxs("div",{className:"mt-6 bg-yellow-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"👕 Size Guide Tips"}),l.jsxs("ul",{className:"text-yellow-800 text-sm space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"All measurements are in inches and represent garment measurements"}),l.jsx("li",{children:"For a relaxed fit, choose one size larger than your body measurement"}),l.jsx("li",{children:"If you're between sizes, we recommend going with the larger size"}),l.jsx("li",{children:"Our products are pre-shrunk, but may shrink slightly after washing"}),l.jsx("li",{children:"Contact us if you need help choosing the right size!"})]})]})]})]})})},Cee=({category:t,selectedSize:e,onSizeSelect:r,onShowSizeChart:n})=>{const i=l0[t];return i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Select Size:"}),l.jsxs("button",{onClick:n,className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[l.jsx(oy,{className:"w-4 h-4"}),"Size Chart"]})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:i.sizes.map(a=>l.jsx("button",{onClick:()=>r(a),className:`p-3 border-2 rounded-lg font-medium transition-all transform hover:scale-105 ${e===a?"border-blue-500 bg-blue-50 text-blue-700 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:a},a))}),e&&l.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:l.jsxs("p",{className:"text-green-800 text-sm",children:["✅ Size ",l.jsx("strong",{children:e})," selected",l.jsxs("span",{className:"block text-xs mt-1",children:["Chest: ",i.measurements[e].chest,'" | Length: ',i.measurements[e].length,'"']})]})})]}):null},Aee=({product:t,onBack:e,onAddToCart:r,onBuyNow:n,toggleFavorite:i,relatedProducts:a,openProductDetail:s})=>{const[o,c]=C.useState(0),[u,h]=C.useState(1),[f,d]=C.useState(),[p,x]=C.useState(!1),m=l0[t.category];let y=[];if(t.images)try{const q=typeof t.images=="string"?JSON.parse(t.images):t.images;Array.isArray(q)&&q.length>0?(y=q,console.log("🖼️ ProductDetailPage: Using uploaded images for",t.name,":",y)):(y=[t.imageUrl],console.log("⚠️ ProductDetailPage: No valid uploaded images for",t.name,", using imageUrl:",t.imageUrl))}catch{y=[t.imageUrl],console.log("🔄 ProductDetailPage: Error parsing images for",t.name,", falling back to imageUrl:",t.imageUrl)}else y=[t.imageUrl],console.log("📸 ProductDetailPage: No images field for",t.name,", using imageUrl:",t.imageUrl);console.log("🖼️ ProductDetailPage: Final images for",t.name,":",y);const v=()=>{c(q=>(q+1)%y.length)},b=()=>{c(q=>(q-1+y.length)%y.length)};let S=[];if(t.tags)try{S=JSON.parse(t.tags)}catch{S=[t.tags]}const T=parseFloat(t.price),E=t.id||1,P=10+E%21,j=(T*(1+P/100)).toFixed(2),L=(4+E%15/10).toFixed(1),F=100+E*7%900,W=()=>{if(m&&!f){alert("Please select a size before adding to cart");return}for(let q=0;q<u;q++)r(t._id,f)},D=()=>{if(m&&!f){alert("Please select a size before purchasing");return}n(t._id,f)},O=({relatedProduct:q})=>{const I=parseFloat(q.price),X=10+(q.id||1)%21,le=(I*(1+X/100)).toFixed(2);return l.jsxs("div",{onClick:()=>s(q),className:"group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 cursor-pointer overflow-hidden border border-gray-100",children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:E4(q.imageUrl),alt:q.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:re=>{re.target.src="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=500&h=300&fit=crop"}}),q.featured&&l.jsx("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"⭐ BESTSELLER"}),l.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[X,"% OFF"]})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wide",children:q.category}),l.jsx("h4",{className:"font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:q.name}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["₹",q.price]}),l.jsxs("span",{className:"text-sm text-gray-400 line-through ml-2",children:["₹",le]})]})]})]})};return l.jsxs("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"4rem"},children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("button",{onClick:e,className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors mb-6",children:[l.jsx(Lm,{className:"w-5 h-5 mr-2"}),"Back to Products"]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-12",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(oR,{src:y[o],alt:t.name,className:"w-full h-[500px] object-cover rounded-xl"}),y.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:b,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 hover:bg-opacity-90 text-white rounded-full p-3 shadow-lg transition-all",children:l.jsx(Y3,{className:"w-6 h-6"})}),l.jsx("button",{onClick:v,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 hover:bg-opacity-90 text-white rounded-full p-3 shadow-lg transition-all",children:l.jsx(X3,{className:"w-6 h-6"})})]}),y.length>1&&l.jsxs("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm",children:[o+1," / ",y.length]}),l.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[t.featured&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center",children:[l.jsx(Ah,{className:"w-4 h-4 mr-1 fill-current"}),"BESTSELLER"]}),l.jsxs("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[P,"% OFF"]})]})]}),y.length>1&&l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:y.map((q,I)=>l.jsx("button",{onClick:()=>c(I),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${I===o?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:l.jsx("img",{src:q,alt:`View ${I+1}`,className:"w-full h-full object-cover"})},I))})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"text-sm text-blue-600 font-semibold uppercase tracking-wide",children:t.category}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 pr-4",children:t.name}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>i(t._id),className:"p-3 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(ks,{className:"w-6 h-6 text-gray-400"})}),l.jsx("button",{className:"p-3 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(WH,{className:"w-6 h-6 text-gray-400"})})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-green-500 text-white px-4 py-2 rounded-lg",children:[l.jsx("span",{className:"font-bold text-lg",children:L}),l.jsx(Ah,{className:"w-5 h-5 ml-1 fill-current"})]}),l.jsxs("span",{className:"text-gray-600 text-lg",children:["(",F," reviews)"]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-5xl font-bold text-gray-900",children:["₹",t.price]}),l.jsxs("span",{className:"text-3xl text-gray-400 line-through",children:["₹",j]})]}),l.jsxs("div",{className:"text-green-600 text-xl font-semibold",children:["You save ₹",(parseFloat(j)-parseFloat(t.price)).toFixed(2),"(",P,"% off)"]})]}),l.jsxs("div",{className:`flex items-center gap-2 ${t.inStock?"text-green-600":"text-red-600"}`,children:[l.jsx("div",{className:`w-4 h-4 rounded-full ${t.inStock?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{className:"font-medium text-lg",children:t.inStock?"In Stock - Ready to Ship":"Out of Stock"})]}),m&&t.inStock&&l.jsx(Cee,{category:t.category,selectedSize:f,onSizeSelect:d,onShowSizeChart:()=>x(!0)}),t.inStock&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-lg font-medium",children:"Quantity:"}),l.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[l.jsx("button",{onClick:()=>h(Math.max(1,u-1)),className:"p-3 hover:bg-gray-100 rounded-l-lg",children:l.jsx(ay,{className:"w-4 h-4"})}),l.jsx("span",{className:"px-6 py-3 text-lg font-semibold border-x border-gray-300",children:u}),l.jsx("button",{onClick:()=>h(u+1),className:"p-3 hover:bg-gray-100 rounded-r-lg",children:l.jsx(J3,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:W,disabled:!t.inStock,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(aa,{className:"w-6 h-6 mr-3"}),"ADD TO CART"]}),l.jsxs("button",{onClick:D,disabled:!t.inStock,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(l7,{className:"w-6 h-6 mr-3"}),"BUY NOW"]})]}),t.inStock&&l.jsxs("div",{className:"bg-green-50 p-6 rounded-xl space-y-3",children:[l.jsxs("div",{className:"flex items-center text-green-800",children:[l.jsx(y0,{className:"w-6 h-6 mr-3"}),l.jsx("span",{className:"font-medium text-lg",children:"Free delivery by tomorrow"})]}),l.jsxs("div",{className:"flex items-center text-green-800",children:[l.jsx(sy,{className:"w-6 h-6 mr-3"}),l.jsx("span",{className:"font-medium text-lg",children:"Easy 30-day returns"})]}),l.jsxs("div",{className:"flex items-center text-green-800",children:[l.jsx(Ch,{className:"w-6 h-6 mr-3"}),l.jsx("span",{className:"font-medium text-lg",children:"2 year warranty included"})]})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold",children:"Product Description"}),l.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:t.description}),S.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((q,I)=>l.jsxs("span",{className:"bg-blue-50 text-blue-700 px-4 py-2 rounded-full text-sm border border-blue-200",children:["#",q]},I))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold",children:"Product Features"}),l.jsxs("ul",{className:"space-y-3 text-gray-600",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(Ga,{className:"w-5 h-5 text-green-500 mr-3"}),"High-quality materials"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Ga,{className:"w-5 h-5 text-green-500 mr-3"}),"Authentic anime design"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Ga,{className:"w-5 h-5 text-green-500 mr-3"}),"Comfortable fit"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Ga,{className:"w-5 h-5 text-green-500 mr-3"}),"Machine washable"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Ga,{className:"w-5 h-5 text-green-500 mr-3"}),"Perfect for anime fans"]}),m&&l.jsxs("li",{className:"flex items-center",children:[l.jsx(Ga,{className:"w-5 h-5 text-green-500 mr-3"}),"Multiple sizes available"]})]})]})]})})]}),a.length>0&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"You Might Also Like"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Check out these similar amazing products"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.slice(0,4).map(q=>l.jsx(O,{relatedProduct:q},q.id))}),a.length>4&&l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"View All Products"})})]})]}),l.jsx(Tee,{isOpen:p,onClose:()=>x(!1),category:t.category})]})},qE=({cartItems:t,onBack:e,onPaymentSuccess:r})=>{const{user:n}=hi(),i=()=>n!=null&&n.name?n.name:n!=null&&n.firstName&&(n!=null&&n.lastName)?`${n.firstName} ${n.lastName}`:"",[a,s]=C.useState({name:i(),email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",address:"",city:"",state:"",pincode:""}),[o,c]=C.useState("razorpay"),[u,h]=C.useState(!1),f=t.reduce((x,m)=>x+m.price*m.quantity,0),d=x=>{const{name:m,value:y}=x.target;s(v=>({...v,[m]:y}))},p=async()=>{var x,m;h(!0);try{o==="razorpay"?(await new Promise(S=>setTimeout(S,2e3)),alert("🎉 Payment Successful! Order confirmed.")):(await new Promise(S=>setTimeout(S,1e3)),alert("📦 Order placed! Pay on delivery."));const y={items:t.map(S=>({productId:S.productId,productName:S.productName,price:S.price,quantity:S.quantity,size:S.size||null,color:null})),totalAmount:f,paymentMethod:o,paymentId:o==="razorpay"?`pay_${Date.now()}`:null,shippingAddress:{name:a.name,email:a.email,phone:a.phone,street:a.address,city:a.city,state:a.state,zipCode:a.pincode,country:"India"},orderNotes:""},v=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(console.log("🔐 Purchase - Token available:",!!v),!v)throw new Error("No authentication token found. Please login again.");const b=await sr.post(`${c0}/api/purchases`,y,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(b.data.success){console.log("✅ Purchase saved to MongoDB:",b.data.data);const S={id:b.data.data._id,userId:(n==null?void 0:n.id)||"guest",userEmail:(n==null?void 0:n.email)||a.email,userName:(n==null?void 0:n.name)||a.name,items:t.map(j=>({id:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,productId:j.productId,productName:j.productName,price:j.price,quantity:j.quantity,size:j.size||null})),totalAmount:f,status:"pending",createdAt:new Date().toISOString()},T={id:`order_${S.id}`,type:"order",title:"New Order Received",message:`Order #${S.id} for ₹${S.totalAmount} from ${S.userName}`,timestamp:new Date().toISOString(),read:!1,priority:"high",order:{id:S.id,totalAmount:S.totalAmount,userName:S.userName,userEmail:S.userEmail,items:S.items.map(j=>({productName:j.productName,quantity:j.quantity,size:j.size}))}},E=JSON.parse(localStorage.getItem("admin_notifications")||"[]");localStorage.setItem("admin_notifications",JSON.stringify([T,...E]));const P=JSON.parse(localStorage.getItem("all_purchases")||"[]");P.push(S),localStorage.setItem("all_purchases",JSON.stringify(P));try{(await sr.post(`${c0}/api/mail`,{purchase:S})).data.success?alert("🎉 Order placed successfully! Check your email for confirmation."):alert("Order placed successfully! Email notification failed.")}catch(j){console.error("Email notification failed:",j),alert("Order placed successfully! Email notification failed.")}r()}else throw new Error("Failed to save purchase to database")}catch(y){console.error("❌ Payment/Purchase failed:",y),alert(`❌ Payment failed: ${((m=(x=y.response)==null?void 0:x.data)==null?void 0:m.message)||y.message||"Please try again."}`)}finally{h(!1)}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center gap-2",children:"← Back to Cart"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"🛒 Checkout"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm h-fit",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"📦 Order Summary"}),l.jsx("div",{className:"space-y-4 mb-6",children:t.map((x,m)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(oR,{src:x.imageUrl||"",alt:x.productName,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold",children:x.productName}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",x.quantity]}),x.size&&l.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Size: ",x.size]})]}),l.jsxs("p",{className:"font-bold",children:["₹",(x.price*x.quantity).toFixed(2)]})]},`${x.productId}-${x.size||"no-size"}-${m}`))}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["₹",f.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Shipping:"}),l.jsx("span",{children:"FREE"})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["₹",f.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:"📋 Delivery Details"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(Qa,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",name:"name",value:a.name,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(tc,{className:"w-4 h-4 inline mr-2"}),"Email"]}),l.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(Ng,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),l.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(iy,{className:"w-4 h-4 inline mr-2"}),"Address"]}),l.jsx("textarea",{name:"address",value:a.address,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),l.jsx("input",{type:"text",name:"city",value:a.city,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),l.jsx("input",{type:"text",name:"state",value:a.state,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),l.jsx("input",{type:"text",name:"pincode",value:a.pincode,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"💳 Payment Method"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"radio",name:"payment",value:"razorpay",checked:o==="razorpay",onChange:x=>c(x.target.value),className:"mr-3"}),l.jsx(K3,{className:"w-5 h-5 mr-3 text-blue-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Credit/Debit Card, UPI, Net Banking"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Secure payment via Razorpay"})]})]}),l.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"radio",name:"payment",value:"cod",checked:o==="cod",onChange:x=>c(x.target.value),className:"mr-3"}),l.jsx(y0,{className:"w-5 h-5 mr-3 text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Cash on Delivery"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Pay when you receive the order"})]})]})]})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-2",children:[l.jsx(Ch,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Secure Checkout"})]}),l.jsx("div",{className:"text-sm text-green-700",children:"Your payment information is encrypted and secure. We never store your card details."})]}),l.jsx("button",{onClick:p,disabled:u,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-4 rounded-lg hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg font-semibold",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ga,{className:"w-5 h-5"}),"Place Order - ₹",f.toFixed(2)]})})]})]})]})})};function Eee(){var pe,Te,He,Qe,et,me,ce,Z,je;const{user:t}=hi(),{addToCart:e,updateCartItem:r,removeFromCart:n,state:i}=Vh(),{addToWishlist:a,removeFromWishlist:s,state:o}=L0();localStorage.getItem("current_user");const[c,u]=C.useState("All"),[h,f]=C.useState(""),[d,p]=C.useState("grid"),[x,m]=C.useState(!1),[y,v]=C.useState("newest"),[b,S]=C.useState("products"),[T,E]=C.useState(null),[P,j]=C.useState(!1),[L,F]=C.useState(!1),[W,D]=C.useState("login");C.useEffect(()=>{const Oe=new URLSearchParams(window.location.search).get("category");Oe&&u(Oe)},[]),C.useMemo(()=>bee(Ce=>f(Ce),300),[]);const{data:O=[],isLoading:q,error:I}=SS({queryKey:["products"],queryFn:()=>_ee({category:c!=="All"?c:void 0,featured:x}),retry:3,retryDelay:1e3}),{data:ae=[],isLoading:X,error:le}=SS({queryKey:["categories"],queryFn:Nee,retry:3,retryDelay:1e3}),re=["All",...ae];C.useMemo(()=>O?O.filter(Ce=>{const Oe=h===""||Ce.name.toLowerCase().includes(h.toLowerCase())||Ce.description.toLowerCase().includes(h.toLowerCase())||Ce.tags&&Ce.tags.toLowerCase().includes(h.toLowerCase()),Xe=c==="All"||Ce.category===c,st=!x||Ce.featured;return Oe&&Xe&&st}):[],[O,h,c,x]);const ue=C.useCallback(async Ce=>{var Xe;console.log("💖 toggleFavorite called for product:",Ce);const Oe=O.find(st=>st._id===Ce);if(Oe)try{((Xe=o.wishlist)==null?void 0:Xe.items.some(ht=>ht.productId===Ce))?(await s(Ce),console.log("💔 Removed from wishlist:",Ce)):(await a({productId:Ce,productName:Oe.name,price:parseFloat(Oe.price),imageUrl:Oe.imageUrl,category:Oe.category}),console.log("💝 Added to wishlist:",Ce))}catch(st){console.error("Error toggling wishlist:",st)}},[O,(pe=o.wishlist)==null?void 0:pe.items,a,s]),ge=C.useCallback(async(Ce,Oe)=>{console.log("🛒 addToCart called for product:",Ce,"size:",Oe);const Xe=O.find(ht=>ht._id===Ce);if(console.log({product:Xe,productId:Ce}),!Xe)return;if(l0[Xe.category]&&!Oe){alert("Please select a size before adding to cart");return}try{await e({productId:Ce,productName:Xe.name,price:parseFloat(Xe.price),quantity:1,size:Oe||void 0,imageUrl:Xe.imageUrl}),console.log(`✅ Added ${Xe.name}${Oe?` (Size: ${Oe})`:""} to cart!`),window.location.href="/cart"}catch(ht){console.error("Error adding to cart:",ht)}},[O,e]),Ge=async(Ce,Oe)=>{if(console.log("⚡ buyNow called for product:",Ce,"size:",Oe),!t){console.log("❌ User not logged in, showing auth modal"),D("checkout"),F(!0),await ge(Ce,Oe);return}await ge(Ce,Oe),j(!0),console.log(`🚀 Proceeding to checkout for product ${Ce}${Oe?` (Size: ${Oe})`:""}!`)},A=()=>{console.log("✅ Authentication successful"),F(!1),W==="checkout"&&j(!0)},M=Ce=>{console.log("👁️ Opening product detail page for:",Ce.id),E(Ce),S("product-detail"),window.scrollTo(0,0)},R=()=>{S("products"),E(null),window.scrollTo(0,0)},B=Ce=>O.filter(Oe=>Oe.category===Ce.category&&Oe.id!==Ce.id).slice(0,8),Q=It.useMemo(()=>{let Ce=O.filter(Oe=>{const Xe=c==="All"||Oe.category===c,st=!x||Oe.featured;if(!h)return Xe&&st;const ht=h.toLowerCase(),Ct=Oe.name.toLowerCase().includes(ht),Ue=Oe.description.toLowerCase().includes(ht);let it=!1;if(Oe.tags)try{const bt=JSON.parse(Oe.tags);it=Array.isArray(bt)&&bt.some(St=>St.toLowerCase().includes(ht))}catch{it=Oe.tags.toLowerCase().includes(ht)}return Xe&&st&&(Ct||Ue||it)});switch(y){case"price-low":return Ce.sort((Oe,Xe)=>parseFloat(Oe.price)-parseFloat(Xe.price));case"price-high":return Ce.sort((Oe,Xe)=>parseFloat(Xe.price)-parseFloat(Oe.price));case"name":return Ce.sort((Oe,Xe)=>Oe.name.localeCompare(Xe.name));case"newest":default:return Ce.sort((Oe,Xe)=>new Date(Xe.createdAt).getTime()-new Date(Oe.createdAt).getTime())}},[O,h,y,c,x]);if(I)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",style:{paddingTop:"5rem"},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Zd,{className:"w-8 h-8 text-red-500 mr-3"}),l.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Connection Error"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-700",children:"Cannot connect to the API server."}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Debug Information:"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Current URL:"})," ",window.location.href]}),l.jsxs("p",{children:[l.jsx("strong",{children:"API Base:"})," ",c0||"Same origin"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Port:"})," ",window.location.port||"Default"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",I.message]})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2 text-blue-800",children:"Solutions:"}),l.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Make sure your backend is running: ",l.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"npx tsx server/index.ts"})]}),l.jsxs("li",{children:["Visit the correct URL: ",l.jsx("strong",{children:"http://localhost:5000/products"})," (not 5173)"]}),l.jsxs("li",{children:["Test API directly: ",l.jsx("a",{href:"http://localhost:5000/api/products",target:"_blank",className:"underline",children:"http://localhost:5000/api/products"})]}),l.jsx("li",{children:"Check browser console (F12) for more errors"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>window.location.href="http://localhost:5000/products",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex-1",children:"Go to Correct URL"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Retry"})]})]})]})});const fe=C.useCallback(({product:Ce,isListView:Oe=!1})=>{var Ct,Ue;const Xe=((Ct=o.wishlist)==null?void 0:Ct.items.some(it=>it.productId===Ce._id))||!1,st=((Ue=i.cart)==null?void 0:Ue.items.some(it=>it.productId===Ce._id))||!1,ht=l0[Ce.category];return l.jsx(sR,{product:Ce,isListView:Oe,isFavorite:Xe,isInCart:st,requiresSize:!!ht,onAddToCart:ge,onBuyNow:Ge,onToggleFavorite:ue,onOpenDetail:M})},[(Te=o.wishlist)==null?void 0:Te.items,(He=i.cart)==null?void 0:He.items,ge,Ge,ue,M]),he=()=>{j(!1)};if(b==="product-detail"&&T){const Ce=B(T);return l.jsxs(l.Fragment,{children:[l.jsx(Aee,{product:T,onBack:R,onAddToCart:ge,onBuyNow:Ge,toggleFavorite:ue,relatedProducts:Ce,openProductDetail:M}),l.jsx(x2,{isOpen:L,onClose:()=>F(!1),onSuccess:A,defaultMode:"login"}),P&&l.jsx("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:l.jsx(qE,{cartItems:((Qe=i.cart)==null?void 0:Qe.items)||[],onBack:()=>{j(!1)},onPaymentSuccess:he})})]})}return l.jsxs("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"4rem"},children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-white opacity-10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-purple-300 opacity-10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute bottom-0 left-1/4 w-80 h-80 bg-pink-300 opacity-10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm font-medium opacity-90",children:"Anime India POD"})]}),l.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-white to-yellow-200 bg-clip-text text-transparent",children:"🎌 Anime Collection"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yr,{href:"/cart",children:l.jsxs("button",{className:"relative p-3 bg-white/20 backdrop-blur-sm rounded-2xl hover:bg-white/30 transition-all transform hover:scale-110 hover:shadow-lg",children:[l.jsx(aa,{className:"w-6 h-6"}),i.cart&&i.cart.itemCount>0&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center animate-bounce font-bold",children:i.cart.itemCount})]})}),l.jsx(yr,{href:"/wishlist",children:l.jsxs("button",{className:"relative p-3 bg-white/20 backdrop-blur-sm rounded-2xl hover:bg-white/30 transition-all transform hover:scale-110 hover:shadow-lg",children:[l.jsx(ks,{className:"w-6 h-6"}),o.wishlist&&o.wishlist.itemCount>0&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center animate-bounce font-bold",children:o.wishlist.itemCount})]})})]})]}),l.jsx("p",{className:"text-xl md:text-2xl text-blue-100 max-w-3xl mx-auto mb-8 leading-relaxed",children:"Discover incredible anime-themed products from T-shirts to accessories - bring your favorite anime to life! ✨"}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-8 md:gap-12 text-sm md:text-base",children:[l.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[l.jsx(Ch,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"font-medium",children:"100% Authentic"})]}),l.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[l.jsx(y0,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"font-medium",children:"Free Shipping"})]}),l.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[l.jsx(sy,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"font-medium",children:"Easy Returns"})]})]})]})})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-0 p-8 mb-8",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[l.jsx(jS,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-400 w-6 h-6"}),l.jsx("input",{type:"text",placeholder:"🔍 Search for your favorite anime characters, shows, or products...",className:"w-full pl-16 pr-6 py-4 text-lg border-0 rounded-2xl bg-gray-50 focus:ring-4 focus:ring-blue-500/20 focus:bg-white focus:shadow-lg transition-all duration-300 placeholder-gray-400",value:h,onChange:Ce=>f(Ce.target.value)}),h&&l.jsx("button",{onClick:()=>f(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-2 hover:bg-gray-200 rounded-full transition-colors",children:l.jsx($o,{className:"w-5 h-5 text-gray-400"})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[l.jsx(AH,{className:"w-4 h-4 mr-2"}),"Category"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(Ce=>l.jsxs("button",{onClick:()=>u(Ce),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all transform hover:scale-105 hover:shadow-md ${c===Ce?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[Ce==="T-Shirts"&&"👕 ",Ce==="Phone Covers"&&"📱 ",Ce==="Hoodies"&&"🧥 ",Ce==="Bottles"&&"🍼 ",Ce==="Plates"&&"🍽️ ",Ce==="All"&&"🛍️ ",Ce]},Ce))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Sort By"}),l.jsxs("select",{value:y,onChange:Ce=>v(Ce.target.value),className:"w-full px-4 py-3 border-0 rounded-xl bg-gray-50 focus:ring-4 focus:ring-blue-500/20 focus:bg-white focus:shadow-lg transition-all duration-300 text-gray-700",children:[l.jsx("option",{value:"newest",children:"🆕 Newest First"}),l.jsx("option",{value:"price-low",children:"💰 Price: Low to High"}),l.jsx("option",{value:"price-high",children:"💰 Price: High to Low"}),l.jsx("option",{value:"name",children:"📝 Name: A to Z"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Filter"}),l.jsxs("label",{className:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:x,onChange:Ce=>m(Ce.target.checked),className:"mr-3 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"⭐ Featured Only"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"View"}),l.jsxs("div",{className:"flex border-0 rounded-xl bg-gray-50 p-1",children:[l.jsx("button",{onClick:()=>p("grid"),className:`flex-1 py-2 px-3 rounded-lg transition-all duration-200 ${d==="grid"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"text-gray-500 hover:text-gray-700"}`,children:l.jsx(e7,{className:"w-4 h-4 mx-auto"})}),l.jsx("button",{onClick:()=>p("list"),className:`flex-1 py-2 px-3 rounded-lg transition-all duration-200 ${d==="list"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"text-gray-500 hover:text-gray-700"}`,children:l.jsx(RH,{className:"w-4 h-4 mx-auto"})})]})]})]})]}),q&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx(zh,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),l.jsx("span",{className:"text-xl text-gray-600",children:"Loading awesome anime products..."})]})}),!q&&O.length>0&&l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),l.jsxs("span",{className:"text-lg font-semibold text-gray-800",children:[Q.length," of ",O.length," products"]})]}),c!=="All"&&l.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["📂 ",c]}),h&&l.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:['🔍 "',h,'"']})]}),(((et=i.cart)==null?void 0:et.itemCount)||0)>0&&l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-xl font-medium flex items-center space-x-2",children:[l.jsx(aa,{className:"w-4 h-4"}),l.jsxs("span",{children:[((me=i.cart)==null?void 0:me.itemCount)||0," items in cart"]})]}),(((ce=o.wishlist)==null?void 0:ce.itemCount)||0)>0&&l.jsxs("div",{className:"bg-pink-100 text-pink-800 px-4 py-2 rounded-xl font-medium flex items-center space-x-2",children:[l.jsx(ks,{className:"w-4 h-4"}),l.jsxs("span",{children:[((Z=o.wishlist)==null?void 0:Z.itemCount)||0," wishlist items"]})]})]})]})})}),!q&&l.jsx(l.Fragment,{children:Q.length>0?l.jsx("div",{className:d==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:Q.map(Ce=>l.jsx(fe,{product:Ce,isListView:d==="list"},Ce.id))}):O.length>0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(jS,{className:"w-16 h-16 mx-auto"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No anime products found"}),l.jsx("p",{className:"text-gray-600",children:"Try different search terms or browse different categories"})]}):l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(Zd,{className:"w-16 h-16 mx-auto"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products available"}),l.jsx("p",{className:"text-gray-600",children:"The product catalog is empty. Check if your backend is properly initialized."})]})}),l.jsx("div",{className:"mt-12 bg-blue-50 rounded-xl p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-xl font-bold text-blue-900 mb-2 flex items-center justify-center",children:[l.jsx(oy,{className:"w-6 h-6 mr-2"}),"Need Help with Sizing?"]}),l.jsx("p",{className:"text-blue-800 mb-4",children:"We offer detailed size charts for all our clothing items to ensure the perfect fit!"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-blue-700",children:[l.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"👕 T-Shirts & Tops"}),l.jsx("p",{children:"Available in XS to XXL with detailed chest, length, and shoulder measurements"})]}),l.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"🧥 Hoodies & Sweatshirts"}),l.jsx("p",{children:"Comfortable fits with size guide for perfect anime-style fashion"})]})]})]})})]}),l.jsx(x2,{isOpen:L,onClose:()=>F(!1),onSuccess:A,defaultMode:"login"}),P&&l.jsx("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:l.jsx(qE,{cartItems:((je=i.cart)==null?void 0:je.items)||[],onBack:()=>{j(!1)},onPaymentSuccess:he})})]})}const Ql=window.location.origin;console.log("🔧 API Base URL:",Ql);console.log("🔧 Current location:",window.location.href);console.log("🔧 Environment:","production");const X_=t=>{var e;return{...t,_id:(e=t._id)==null?void 0:e.toString()}},jee=async()=>{const t=await fetch(`${Ql}/api/products`);if(!t.ok)throw new Error("Failed to fetch products");const e=await t.json(),r=(e.data||e).map(X_);return console.log("📦 Admin: Fetched products:",r),Array.isArray(r)?r:[]},kee=async()=>{try{const t=await fetch(`${Ql}/api/upload/health`,{method:"GET",headers:{Accept:"application/json"}});return t.ok?{running:!0}:{running:!1,error:`Server returned status ${t.status}`}}catch(t){return t.name==="TypeError"&&t.message.includes("fetch")?{running:!1,error:"Server is not reachable. Make sure it's running on port 5000."}:{running:!1,error:t.message}}},Oee=async t=>{console.log("🌐 API: Sending product data to backend:",JSON.stringify(t,null,2)),console.log("📸 API: Images field being sent:",t.images);const e=await fetch(`${Ql}/api/products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("📡 API: Response status:",e.status),!e.ok){const n=await e.json();throw console.error("❌ API: Error response:",n),new Error(n.message||"Failed to add product")}const r=await e.json();return console.log("✅ API: Success response:",JSON.stringify(r,null,2)),X_(r.data||r)},Lee=async(t,e)=>{const r=await fetch(`${Ql}/api/products/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){const i=await r.json();throw new Error(i.message||"Failed to update product")}const n=await r.json();return X_(n.data||n)},Dee=async t=>{const e=await fetch(`${Ql}/api/products/${t}`,{method:"DELETE"});if(!e.ok){const r=await e.json();throw new Error(r.message||"Failed to delete product")}},Pee=async t=>(console.log("📸 Starting upload for:",t.name,"Size:",(t.size/1024).toFixed(2)+"KB"),new Promise((e,r)=>{const n=new FileReader;n.onload=async i=>{var a;try{const s=(a=i.target)==null?void 0:a.result;if(!s)throw new Error("Failed to read file as base64");console.log("📸 Base64 data generated, length:",s.length);const o={image:s,filename:t.name};console.log("📸 Sending upload request to:",`${Ql}/api/upload`);const c=await fetch(`${Ql}/api/upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(console.log("📸 Upload response status:",c.status),!c.ok){const h=await c.text();throw console.error("❌ Upload failed:",c.status,h),new Error(`Upload failed: ${c.status} - ${h}`)}const u=await c.json();if(console.log("📸 Upload response:",u),u.success&&u.imageUrl)console.log("✅ Image uploaded successfully:",u.imageUrl),e(u.imageUrl);else throw console.error("❌ Upload result missing success or imageUrl:",u),new Error(u.error||u.message||"Upload failed - invalid response format")}catch(s){console.error("❌ Upload error:",s),r(s instanceof Error?s:new Error(String(s)))}},n.onerror=i=>{console.error("❌ FileReader error:",i),r(new Error("Failed to read file"))},n.readAsDataURL(t)})),lR=["T-Shirts","Phone Covers","Hoodies","Bottles","Plates"],Ree=({images:t,onImagesChange:e,isUploading:r,setIsUploading:n})=>{const[i,a]=C.useState(null),s=async c=>{const u=Array.from(c.target.files||[]);if(u.length!==0){console.log(`📂 Starting upload of ${u.length} files:`,u.map(h=>h.name)),n(!0),a(null);try{const h=await kee();if(!h.running)throw new Error(`Upload service is not available: ${h.error}`);const f=u.map(async(x,m)=>{if(console.log(`📤 Uploading file ${m+1}/${u.length}: ${x.name}`),x.size>5*1024*1024)throw new Error(`File ${x.name} is too large. Max size is 5MB.`);if(!x.type.startsWith("image/"))throw new Error(`File ${x.name} is not an image.`);const y=await Pee(x);return console.log(`✅ Upload ${m+1} completed:`,y),y}),d=await Promise.all(f);console.log("✅ All uploads completed:",d);const p=d.filter(x=>x&&x.trim()!=="");if(p.length!==d.length&&console.warn("⚠️ Some uploads returned empty URLs"),p.length===0)throw new Error("No valid images were uploaded. Please try again.");e([...t,...p]),console.log(`🎉 Successfully uploaded ${p.length} images!`)}catch(h){console.error("❌ Upload failed:",h);const f=h.message||"Failed to upload images";a(f),alert(`Failed to upload images: ${f}`)}finally{n(!1),c.target.value=""}}},o=c=>{const u=t.filter((h,f)=>f!==c);e(u)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"📸 Product Photos"}),l.jsxs("span",{className:"text-xs text-gray-500",children:[t.length,"/10 photos"]})]}),!1,l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:s,className:"hidden",id:"photo-upload",disabled:r||t.length>=10}),l.jsx("label",{htmlFor:"photo-upload",className:`cursor-pointer ${r||t.length>=10?"opacity-50 cursor-not-allowed":""}`,children:r?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(zh,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Uploading photos..."})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(wH,{className:"w-8 h-8 text-gray-400 mb-2"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload product photos (up to 10)"}),l.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, WebP up to 5MB each"})]})})]}),i&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zd,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"text-sm text-red-700",children:i})]}),l.jsx("div",{className:"mt-2 text-xs text-red-600",children:"💡 Tip: If upload continues to fail, you can provide an image URL in the field below instead."})]}),t.length>0&&!i&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ga,{className:"w-4 h-4 text-green-500"}),l.jsxs("span",{className:"text-sm text-green-700",children:["✅ ",t.length," image",t.length>1?"s":""," uploaded successfully"]})]})}),t.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((c,u)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:c.startsWith("http")?c:`${Ql}${c}`,alt:`Product photo ${u+1}`,className:"w-full h-24 object-cover rounded-lg border",onError:h=>{console.error("❌ Image failed to load:",c);const f=h.target;f.style.display="none";const d=f.parentElement;d&&(d.innerHTML=`
                      <div class="w-full h-24 flex items-center justify-center bg-gray-100 text-gray-400 rounded-lg border">
                        <div class="text-center">
                          <div class="text-lg mb-1">❌</div>
                          <div class="text-xs">Failed to load</div>
                        </div>
                      </div>
                    `)}}),l.jsx("button",{onClick:()=>o(u),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx($o,{className:"w-3 h-3"})}),u===0&&l.jsx("div",{className:"absolute bottom-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Main"})]},u))})]})},VE=({product:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{var y;const i=v=>{if(!v)return[];if(typeof v=="string")try{const b=JSON.parse(v);return Array.isArray(b)?b:[]}catch{return[]}return Array.isArray(v)?v:[]},[a,s]=C.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",price:(t==null?void 0:t.price)||"",imageUrl:(t==null?void 0:t.imageUrl)||"",category:(t==null?void 0:t.category)||"T-Shirts",inStock:(t==null?void 0:t.inStock)??!0,featured:(t==null?void 0:t.featured)||!1,tags:(t==null?void 0:t.tags)||"",images:i(t==null?void 0:t.images)}),[o,c]=C.useState({}),[u,h]=C.useState(!1),f=()=>{const v={};a.name.trim()||(v.name="Product name is required"),a.description.trim()||(v.description="Description is required"),a.price.trim()||(v.price="Price is required");const b=a.images&&Array.isArray(a.images)&&a.images.length>0,S=a.imageUrl&&a.imageUrl.trim();return console.log("🔍 Image validation:"),console.log("📸 hasUploadedImages:",b),console.log("📸 hasFallbackUrl:",S),console.log("📸 formData.images:",a.images),console.log("📸 formData.imageUrl:",a.imageUrl),!b&&!S&&(v.images="At least one product image is required. Please upload photos or provide an image URL."),c(v),Object.keys(v).length===0},d=()=>{if(!f()){console.error("❌ Form validation failed");return}const v=Array.isArray(a.images)?a.images:[],b=v.filter(P=>{const j=P&&typeof P=="string"&&P.trim()!=="";return j||console.warn("⚠️ Invalid image URL found:",P),j});if(b.length!==v.length){console.error("❌ Some image URLs are invalid!"),alert("Some uploaded images have invalid URLs. Please try uploading again.");return}const S=b.length>0?JSON.stringify(b):null;let T=a.imageUrl;!T&&b.length>0&&(T=b[0]);const E={...a,imageUrl:T||"",images:S===null?void 0:S,tags:a.tags||"[]"};if(S)try{const P=JSON.parse(S)}catch{console.error("❌ Invalid JSON in images field:",S)}e(E)},p=v=>{const{name:b,value:S,type:T}=v.target,E=v.target.checked;s(P=>({...P,[b]:T==="checkbox"?E:S})),o[b]&&c(P=>({...P,[b]:""}))},x=v=>{console.log("📸 FIXED: Images updated:",v),s(b=>({...b,images:v})),o.images&&c(b=>({...b,images:""}))},m=Array.isArray(a.images)?a.images:[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),l.jsx("input",{type:"text",name:"name",value:a.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Naruto Uzumaki Orange T-Shirt"}),o.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (₹)"}),l.jsx("input",{type:"text",name:"price",value:a.price,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"1599"}),o.price&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.price})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{name:"description",value:a.description,onChange:p,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Detailed description of your product..."}),o.description&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.description})]}),l.jsx(Ree,{images:m,onImagesChange:x,isUploading:u,setIsUploading:h}),m.length>0&&l.jsxs("div",{className:"text-sm text-green-600",children:["✅ ",m.length," image",m.length>1?"s":""," uploaded successfully",l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Main image: ",(y=m[0])==null?void 0:y.substring(0,50),"..."]})]}),o.images&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.images}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL (fallback if no photos uploaded)"}),l.jsx("input",{type:"url",name:"imageUrl",value:a.imageUrl,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use this if photo upload is not working"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),l.jsx("select",{name:"category",value:a.category,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:lR.map(v=>l.jsx("option",{value:v,children:v},v))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"inStock",checked:a.inStock,onChange:p,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"In Stock"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"featured",checked:a.featured,onChange:p,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Featured Product"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"button",onClick:d,disabled:n||u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(zh,{className:"w-4 h-4 animate-spin"}),t?"Updating...":"Adding..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Z3,{className:"w-4 h-4"}),t?"Update Product":"Add Product"]})})]})]})},Mee=({onEdit:t,onDelete:e})=>{const[r,n]=C.useState(""),[i,a]=C.useState("All"),{data:s=[],isLoading:o,error:c}=SS({queryKey:["products"],queryFn:jee}),u=s.filter(f=>{const d=f.name.toLowerCase().includes(r.toLowerCase())||f.description.toLowerCase().includes(r.toLowerCase()),p=i==="All"||f.category===i;return d&&p}),h=f=>{if(!f)return 0;if(typeof f=="string")try{const d=JSON.parse(f);return Array.isArray(d)?d.length:1}catch{return 0}return Array.isArray(f)?f.length:0};return o?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(zh,{className:"w-8 h-8 animate-spin text-blue-600"})}):c?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zd,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-red-600",children:"Failed to load products"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(jS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search products...",value:r,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("select",{value:i,onChange:f=>a(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"All",children:"All Categories"}),lR.map(f=>l.jsx("option",{value:f,children:f},f))]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),l.jsx("div",{className:"text-sm text-blue-600",children:"Total Products"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(f=>f.inStock).length}),l.jsx("div",{className:"text-sm text-green-600",children:"In Stock"})]}),l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.filter(f=>f.featured).length}),l.jsx("div",{className:"text-sm text-yellow-600",children:"Featured"})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.filter(f=>!f.inStock).length}),l.jsx("div",{className:"text-sm text-red-600",children:"Out of Stock"})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(f=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-12 h-12 object-cover rounded-lg mr-4"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:[f.description.substring(0,50),"..."]}),f.images&&l.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["📸 ",h(f.images)," image",h(f.images)!==1?"s":""]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:f.category})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",f.price]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.inStock?"In Stock":"Out of Stock"}),f.featured&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Featured"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t(f),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",children:l.jsx(BH,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>e(f._id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",children:l.jsx(pu,{className:"w-4 h-4"})})]})})]},f._id))})]})})}),u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(r0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No products found"})]})]})};function Fee(){const[t,e]=C.useState("list"),[r,n]=C.useState(null),[i,a]=C.useState(!1),[s,o]=C.useState(null),c=yO(),u=(x,m)=>{o({type:x,message:m}),setTimeout(()=>o(null),5e3)},h=async x=>{a(!0);try{console.log("🚀 Admin: Starting to add product:",x.name),console.log("📸 Admin: Product data images field:",x.images),await Oee(x),await c.invalidateQueries({queryKey:["products"]}),await c.invalidateQueries({queryKey:["categories"]}),await c.invalidateQueries({predicate:m=>Array.isArray(m.queryKey)&&m.queryKey[0]==="products"}),await c.refetchQueries({queryKey:["products"]}),e("list"),u("success","Product added successfully!"),console.log("✅ Admin: Product added successfully and cache invalidated")}catch(m){console.error("❌ Admin: Error adding product:",m),u("error",m.message||"Failed to add product")}finally{a(!1)}},f=async x=>{if(r!=null&&r._id){a(!0);try{await Lee(r._id,x),await c.invalidateQueries({queryKey:["products"]}),await c.invalidateQueries({predicate:m=>Array.isArray(m.queryKey)&&m.queryKey[0]==="products"}),await c.refetchQueries({queryKey:["products"]}),e("list"),n(null),u("success","Product updated successfully!")}catch(m){u("error",m.message||"Failed to update product")}finally{a(!1)}}},d=async x=>{if(confirm("Are you sure you want to delete this product?"))try{await Dee(x),await c.invalidateQueries({queryKey:["products"]}),await c.invalidateQueries({predicate:m=>Array.isArray(m.queryKey)&&m.queryKey[0]==="products"}),await c.refetchQueries({queryKey:["products"]}),u("success","Product deleted successfully!")}catch(m){u("error",m.message||"Failed to delete product")}},p=x=>{n(x),e("edit")};return l.jsxs("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"4rem"},children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"py-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"🔧 Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your anime product store"})]})})}),s&&l.jsx("div",{className:`fixed top-20 right-4 z-50 p-4 rounded-lg shadow-lg ${s.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[s.type==="success"?l.jsx(Ga,{className:"w-5 h-5"}):l.jsx(Zd,{className:"w-5 h-5"}),s.message]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsx("button",{onClick:()=>e("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="list"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"📋 All Products"}),l.jsx("button",{onClick:()=>e("add"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="add"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"➕ Add Product"})]})})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t==="list"&&l.jsx(Mee,{onEdit:p,onDelete:d}),t==="add"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Add New Product"}),l.jsx(VE,{onSubmit:h,onCancel:()=>e("list"),isSubmitting:i})]}),t==="edit"&&r&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Edit Product: ",r.name]}),l.jsx(VE,{product:r,onSubmit:f,onCancel:()=>{e("list"),n(null)},isSubmitting:i})]})]})]})]})}const WE=`${window.location.protocol}//${window.location.hostname}:5000`,Iee=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[i,a]=C.useState(!0),[s,o]=C.useState(!1),[c,u]=C.useState(null),[h,f]=C.useState(null),d=C.useRef(null),p=C.useRef([]),x=async()=>{o(!0),u(null);try{const E=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!E)throw new Error("No admin token found. Please login as admin.");const P=await fetch(`${WE}/api/purchases/admin/all`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);const j=await P.json();if(!j.success||!Array.isArray(j.data))throw new Error(j.message||"Failed to fetch orders");const L=j.data.map(D=>{var O,q,I,ae,X,le;return{id:D._id,type:"order",title:"New Order Received",message:`Order #${D._id} for ₹${D.totalAmount} from ${((O=D.userId)==null?void 0:O.firstName)||""} ${((q=D.userId)==null?void 0:q.lastName)||""}`.trim(),timestamp:D.createdAt,read:!1,priority:"high",order:{id:D._id,totalAmount:D.totalAmount,userName:(I=D.userId)!=null&&I.firstName&&((ae=D.userId)!=null&&ae.lastName)?`${D.userId.firstName} ${D.userId.lastName}`:((X=D.userId)==null?void 0:X.email)||"Unknown",userEmail:((le=D.userId)==null?void 0:le.email)||"Unknown",items:(D.items||[]).map(re=>({productName:re.productName,quantity:re.quantity,size:re.size}))}}}),F=L.map(D=>D.id),W=p.current;i&&d.current&&W.length>0&&F.find(O=>!W.includes(O))&&(d.current.currentTime=0,d.current.play()),p.current=F,e(L)}catch(E){u(E.message||"Failed to load notifications"),e([])}finally{o(!1)}};C.useEffect(()=>{x();const E=setInterval(x,3e4);return()=>clearInterval(E)},[i]);const m=E=>{e(P=>P.map(j=>j.id===E?{...j,read:!0}:j))},y=E=>{e(P=>P.filter(j=>j.id!==E))},v=async E=>{try{const P=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!P)throw new Error("No admin token found. Please login as admin.");const j=await fetch(`${WE}/api/purchases/${E}/status`,{method:"PUT",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({status:"processing"})});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);const L=await j.json();if(!L.success)throw new Error(L.message||"Failed to update status");alert("Order status updated to Processing!"),x()}catch(P){alert(P.message||"Failed to process order")}},b=E=>{window.open(`mailto:${E}?subject=Regarding your order&body=Hello,`,"_blank")},S=E=>{f(E)},T=()=>f(null);return l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsx("audio",{ref:d,src:"/notification.mp3",preload:"auto",style:{display:"none"}}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(AS,{className:"w-8 h-8 text-blue-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Notifications"}),l.jsx("p",{className:"text-gray-600",children:"Real-time order alerts and system notifications"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm ${r?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${r?"bg-green-500":"bg-red-500"}`}),r?"Connected":"Disconnected"]}),l.jsx("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",disabled:s,children:s?"Loading...":"Refresh"}),l.jsxs("button",{onClick:()=>a(!i),className:`px-3 py-1 rounded-full text-sm ${i?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:["🔊 ",i?"Sound On":"Sound Off"]})]})]})}),l.jsxs("div",{className:"space-y-4",children:[c&&l.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg text-center mb-4",children:c}),t.length===0&&!s?l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx(AS,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No order notifications yet"}),l.jsx("p",{className:"text-gray-600",children:"You'll see order notifications here when they arrive."})]}):t.map(E=>{var P,j;return l.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border-l-4 ${E.read?"border-gray-300":"border-blue-500"}`,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`p-3 rounded-full ${E.priority==="critical"?"bg-red-100":E.priority==="high"?"bg-orange-100":"bg-blue-100"}`,children:l.jsx(r0,{className:`w-6 h-6 ${E.priority==="critical"?"text-red-600":E.priority==="high"?"text-orange-600":"text-blue-600"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["New Order #",E.order.id]}),E.priority==="critical"&&l.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:"🚨 URGENT"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Qa,{className:"w-4 h-4 mr-2"}),E.order.userName]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(JO,{className:"w-4 h-4 mr-2"}),"₹",E.order.totalAmount]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(r0,{className:"w-4 h-4 mr-2"}),((P=E.order.items)==null?void 0:P.length)||0," items"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx($3,{className:"w-4 h-4 mr-2"}),new Date(E.timestamp).toLocaleTimeString()]})]}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Items:"}),(j=E.order.items)==null?void 0:j.map((L,F)=>l.jsxs("div",{className:"text-sm text-gray-600",children:[L.productName," ",L.size&&`(${L.size})`," × ",L.quantity]},F))]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>m(E.id),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg",title:"Mark as read",children:l.jsx(SH,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>y(E.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",title:"Dismiss",children:l.jsx($o,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 mt-4 pt-4 border-t border-gray-200",children:[l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",onClick:()=>S(E.order),children:"View Order"}),l.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm",onClick:()=>v(E.order.id),children:"Process Order"}),l.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm",onClick:()=>b(E.order.userEmail),children:"Contact Customer"})]})]},E.id)})]}),h&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full relative",children:[l.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:T,children:l.jsx($o,{className:"w-6 h-6"})}),l.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Order #",h.id]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Customer:"})," ",h.userName]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Email:"})," ",h.userEmail]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Total Amount:"})," ₹",h.totalAmount]}),l.jsx("div",{className:"mb-2",children:l.jsx("strong",{children:"Items:"})}),l.jsx("ul",{className:"list-disc pl-6",children:h.items.map((E,P)=>l.jsxs("li",{children:[E.productName," ",E.size&&`(${E.size})`," × ",E.quantity]},P))})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var v2={};v2.version="0.18.5";var cR=1252,Bee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],uR=function(t){Bee.indexOf(t)!=-1&&(cR=t)};function zee(){uR(1252)}var Gm=function(t){uR(t)};function Uee(){Gm(1200),zee()}var Nx=function(e){return String.fromCharCode(e)},GE=function(e){return String.fromCharCode(e)},y2,Zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ym(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<t.length;)r=t.charCodeAt(u++),a=r>>2,n=t.charCodeAt(u++),s=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),e+=Zc.charAt(a)+Zc.charAt(s)+Zc.charAt(o)+Zc.charAt(c);return e}function Jl(t){var e="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)a=Zc.indexOf(t.charAt(u++)),s=Zc.indexOf(t.charAt(u++)),r=a<<2|s>>4,e+=String.fromCharCode(r),o=Zc.indexOf(t.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),c=Zc.indexOf(t.charAt(u++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Sr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ic=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Oh(t){return Sr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function YE(t){return Sr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var eo=function(e){return Sr?ic(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Fy(t){if(typeof ArrayBuffer>"u")return eo(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Lg(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Hee(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var bi=Sr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:ic(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function qee(t){for(var e=[],r=0,n=t.length+250,i=Oh(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Oh(65535),n=65530)}return e.push(i.slice(0,r)),bi(e)}var cm=/\u0000/g,Tx=/[\u0001-\u0006]/g;function _d(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function io(t,e){var r=""+t;return r.length>=e?r:wn("0",e-r.length)+r}function $_(t,e){var r=""+t;return r.length>=e?r:wn(" ",e-r.length)+r}function b2(t,e){var r=""+t;return r.length>=e?r:r+wn(" ",e-r.length)}function Vee(t,e){var r=""+Math.round(t);return r.length>=e?r:wn("0",e-r.length)+r}function Wee(t,e){var r=""+t;return r.length>=e?r:wn("0",e-r.length)+r}var XE=Math.pow(2,32);function Ef(t,e){if(t>XE||t<-XE)return Vee(t,e);var r=Math.round(t);return Wee(r,e)}function w2(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var $E=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Kw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Gee(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var _n={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},KE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Yee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function S2(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,o=0,c=1,u=0,h=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*s+a,h=f*u+c,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,c=u,u=h;if(h>e&&(u>e?(h=c,o=a):(h=u,o=s)),!r)return[0,n*o,h];var d=Math.floor(n*o/h);return[d,n*o-d*h,h]}function Cx(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=ete(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var hR=new Date(1899,11,31,0,0,0),Xee=hR.getTime(),$ee=new Date(1900,2,1,0,0,0);function fR(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=$ee&&(r+=24*60*60*1e3),(r-(Xee+(t.getTimezoneOffset()-hR.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function K_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kee(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Qee(t){var e=t<0?12:11,r=K_(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function Jee(t){var e=K_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Zee(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=Qee(t):e===10?r=t.toFixed(10).substr(0,12):r=Jee(t),K_(Kee(r.toUpperCase()))}function j4(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Zee(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return wu(14,fR(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function ete(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function tte(t,e,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,u=e.length;break;case 3:return Kw[r.m-1][1];case 5:return Kw[r.m-1][0];default:return Kw[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,u=e.length;break;case 3:return $E[r.q][0];default:return $E[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?io(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=io(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=o,u=1;break}var h=u>0?io(c,u):"";return h}function eu(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var dR=/%/g;function rte(t,e,r){var n=e.replace(dR,""),i=e.length-n.length;return Il(t,n,r*Math.pow(10,2*i))+wn("%",i)}function nte(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Il(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function pR(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+pR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var mR=/# (\?+)( ?)\/( ?)(\d+)/;function ite(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?wn(" ",t[1].length+1+t[4].length):$_(s,t[1].length)+t[2]+"/"+t[3]+io(o,t[4].length))}function ate(t,e,r){return r+(e===0?"":""+e)+wn(" ",t[1].length+2+t[4].length)}var gR=/^#*0*\.([0#]+)/,xR=/\).*[0#]/,vR=/\(###\) ###\\?-####/;function Zi(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function QE(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function JE(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ste(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function ote(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function gs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(xR)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?gs("n",n,r):"("+gs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return nte(t,e,r);if(e.indexOf("%")!==-1)return rte(t,e,r);if(e.indexOf("E")!==-1)return pR(e,r);if(e.charCodeAt(0)===36)return"$"+gs(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Ef(c,e.length);if(e.match(/^[#?]+$/))return i=Ef(r,0),i==="0"&&(i=""),i.length>e.length?i:Zi(e.substr(0,e.length-i.length))+i;if(a=e.match(mR))return ite(a,c,u);if(e.match(/^#+0+$/))return u+Ef(c,e.length-e.indexOf("0"));if(a=e.match(gR))return i=QE(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Zi(a[1])).replace(/\.$/,"."+Zi(a[1])).replace(/\.(\d*)$/,function(x,m){return"."+m+wn("0",Zi(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+QE(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+eu(Ef(c,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+gs(t,e,-r):eu(""+(Math.floor(r)+ste(r,a[1].length)))+"."+io(JE(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return gs(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_d(gs(t,e.replace(/[\\-]/g,""),r)),s=0,_d(_d(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(e.match(vR))return i=gs(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=S2(c,Math.pow(10,s)-1,!1),i=""+u,h=Il("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=b2(o[2],s),h.length<a[4].length&&(h=Zi(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=S2(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$_(o[1],s)+a[2]+"/"+a[3]+b2(o[2],s):wn(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Ef(r,0),e.length<=i.length?i:Zi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return Zi(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=JE(r,a[1].length),r<0?"-"+gs(t,e,-r):eu(ote(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?io(0,3-x.length):"")+x})+"."+io(s,a[1].length);switch(e){case"###,##0.00":return gs(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=eu(Ef(c,0));return p!=="0"?u+p:"";case"###,###.00":return gs(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return gs(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function lte(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Il(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function cte(t,e,r){var n=e.replace(dR,""),i=e.length-n.length;return Il(t,n,r*Math.pow(10,2*i))+wn("%",i)}function yR(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+yR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Eo(t,e,r){if(t.charCodeAt(0)===40&&!e.match(xR)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Eo("n",n,r):"("+Eo("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return lte(t,e,r);if(e.indexOf("%")!==-1)return cte(t,e,r);if(e.indexOf("E")!==-1)return yR(e,r);if(e.charCodeAt(0)===36)return"$"+Eo(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+io(c,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Zi(e.substr(0,e.length-i.length))+i;if(a=e.match(mR))return ate(a,c,u);if(e.match(/^#+0+$/))return u+io(c,e.length-e.indexOf("0"));if(a=e.match(gR))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Zi(a[1])).replace(/\.$/,"."+Zi(a[1])),i=i.replace(/\.(\d*)$/,function(x,m){return"."+m+wn("0",Zi(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+eu(""+c);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Eo(t,e,-r):eu(""+r)+"."+wn("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Eo(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_d(Eo(t,e.replace(/[\\-]/g,""),r)),s=0,_d(_d(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(e.match(vR))return i=Eo(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=S2(c,Math.pow(10,s)-1,!1),i=""+u,h=Il("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=b2(o[2],s),h.length<a[4].length&&(h=Zi(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=S2(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$_(o[1],s)+a[2]+"/"+a[3]+b2(o[2],s):wn(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Zi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return Zi(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Eo(t,e,-r):eu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?io(0,3-x.length):"")+x})+"."+io(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=eu(""+c);return p!=="0"?u+p:"";default:if(e.match(/\.[0#?]*$/))return Eo(t,e.slice(0,e.lastIndexOf(".")),r)+Zi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Il(t,e,r){return(r|0)===r?Eo(t,e,r):gs(t,e,r)}function ute(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var bR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function wR(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":w2(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(bR))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function hte(t,e,r,n){for(var i=[],a="",s=0,o="",c="t",u,h,f,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!w2(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var p=t.charAt(++s),x=p==="("||p===")"?p:"t";i[i.length]={t:x,v:p},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=Cx(e,r,t.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Cx(e,r),u==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(u==null&&(u=Cx(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(m.v=u.H>=12?"下午":"上午"),m.t="T",s+=5,d="h"):(m.t="t",++s),u==null&&m.t==="T")return"";i[i.length]=m,c=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(bR)){if(u==null&&(u=Cx(e,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",wR(t)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var y=0,v=0,b;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,c="h",y<1&&(y=1);break;case"s":(b=i[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",T;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=tte(i[s].t.charCodeAt(0),i[s].v,u,v),i[s].t="t";break;case"n":case"?":for(T=s+1;i[T]!=null&&((o=i[T].t)==="?"||o==="D"||(o===" "||o==="t")&&i[T+1]!=null&&(i[T+1].t==="?"||i[T+1].t==="t"&&i[T+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[T].v==="/"||i[T].v===" "&&i[T+1]!=null&&i[T+1].t=="?"));)i[s].v+=i[T].v,i[T]={v:"",t:";"},++T;S+=i[s].v,s=T-1;break;case"G":i[s].t="t",i[s].v=j4(e,r);break}var E="",P,j;if(S.length>0){S.charCodeAt(0)==40?(P=e<0&&S.charCodeAt(0)===45?-e:e,j=Il("n",S,P)):(P=e<0&&n>1?-e:e,j=Il("n",S,P),P<0&&i[0]&&i[0].t=="t"&&(j=j.substr(1),i[0].v="-"+i[0].v)),T=j.length-1;var L=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){L=s;break}var F=i.length;if(L===i.length&&j.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(T>=i[s].v.length-1?(T-=i[s].v.length,i[s].v=j.substr(T+1,i[s].v.length)):T<0?i[s].v="":(i[s].v=j.substr(0,T+1),T=-1),i[s].t="t",F=s);T>=0&&F<i.length&&(i[F].v=j.substr(0,T+1)+i[F].v)}else if(L!==i.length&&j.indexOf("E")===-1){for(T=j.indexOf(".")-1,s=L;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(h=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")-1:i[s].v.length-1,E=i[s].v.substr(h+1);h>=0;--h)T>=0&&(i[s].v.charAt(h)==="0"||i[s].v.charAt(h)==="#")&&(E=j.charAt(T--)+E);i[s].v=E,i[s].t="t",F=s}for(T>=0&&F<i.length&&(i[F].v=j.substr(0,T+1)+i[F].v),T=j.indexOf(".")+1,s=L;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==L)){for(h=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")+1:0,E=i[s].v.substr(0,h);h<i[s].v.length;++h)T<j.length&&(E+=j.charAt(T++));i[s].v=E,i[s].t="t",F=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(P=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=Il(i[s].t,i[s].v,P),i[s].t="t");var W="";for(s=0;s!==i.length;++s)i[s]!=null&&(W+=i[s].v);return W}var ZE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ej(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function fte(t,e){var r=ute(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(ZE),o=r[1].match(ZE);return ej(e,s)?[n,r[0]]:ej(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function wu(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:_n)[t],n==null&&(n=r.table&&r.table[KE[t]]||_n[KE[t]]),n==null&&(n=Yee[t]||"General");break}if(w2(n,0))return j4(e,r);e instanceof Date&&(e=fR(e,r.date1904));var i=fte(n,e);if(w2(i[1]))return j4(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return hte(i[1],e,r,i[0])}function SR(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(_n[r]==null){e<0&&(e=r);continue}if(_n[r]==t){e=r;break}}e<0&&(e=391)}return _n[e]=t,e}function Iy(t){for(var e=0;e!=392;++e)t[e]!==void 0&&SR(t[e],e)}function By(){_n=Gee()}var _R=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dte(t){var e=typeof t=="number"?_n[t]:t;return e=e.replace(_R,"(\\d+)"),new RegExp("^"+e+"$")}function pte(t,e,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(e.match(_R)||[]).forEach(function(f,d){var p=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":a=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?o=p:i=p;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?h:u+"T"+h}var mte=function(){var t={};t.version="1.2.0";function e(){for(var j=0,L=new Array(256),F=0;F!=256;++F)j=F,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,L[F]=j;return typeof Int32Array<"u"?new Int32Array(L):L}var r=e();function n(j){var L=0,F=0,W=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(W=0;W!=256;++W)D[W]=j[W];for(W=0;W!=256;++W)for(F=j[W],L=256+W;L<4096;L+=256)F=D[L]=F>>>8^j[F&255];var O=[];for(W=1;W!=16;++W)O[W-1]=typeof Int32Array<"u"?D.subarray(W*256,W*256+256):D.slice(W*256,W*256+256);return O}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],h=i[5],f=i[6],d=i[7],p=i[8],x=i[9],m=i[10],y=i[11],v=i[12],b=i[13],S=i[14];function T(j,L){for(var F=L^-1,W=0,D=j.length;W<D;)F=F>>>8^r[(F^j.charCodeAt(W++))&255];return~F}function E(j,L){for(var F=L^-1,W=j.length-15,D=0;D<W;)F=S[j[D++]^F&255]^b[j[D++]^F>>8&255]^v[j[D++]^F>>16&255]^y[j[D++]^F>>>24]^m[j[D++]]^x[j[D++]]^p[j[D++]]^d[j[D++]]^f[j[D++]]^h[j[D++]]^u[j[D++]]^c[j[D++]]^o[j[D++]]^s[j[D++]]^a[j[D++]]^r[j[D++]];for(W+=15;D<W;)F=F>>>8^r[(F^j[D++])&255];return~F}function P(j,L){for(var F=L^-1,W=0,D=j.length,O=0,q=0;W<D;)O=j.charCodeAt(W++),O<128?F=F>>>8^r[(F^O)&255]:O<2048?(F=F>>>8^r[(F^(192|O>>6&31))&255],F=F>>>8^r[(F^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,q=j.charCodeAt(W++)&1023,F=F>>>8^r[(F^(240|O>>8&7))&255],F=F>>>8^r[(F^(128|O>>2&63))&255],F=F>>>8^r[(F^(128|q>>6&15|(O&3)<<4))&255],F=F>>>8^r[(F^(128|q&63))&255]):(F=F>>>8^r[(F^(224|O>>12&15))&255],F=F>>>8^r[(F^(128|O>>6&63))&255],F=F>>>8^r[(F^(128|O&63))&255]);return~F}return t.table=r,t.bstr=T,t.buf=E,t.str=P,t}(),qr=function(){var e={};e.version="1.2.1";function r(z,te){for(var K=z.split("/"),ee=te.split("/"),ie=0,se=0,De=Math.min(K.length,ee.length);ie<De;++ie){if(se=K[ie].length-ee[ie].length)return se;if(K[ie]!=ee[ie])return K[ie]<ee[ie]?-1:1}return K.length-ee.length}function n(z){if(z.charAt(z.length-1)=="/")return z.slice(0,-1).indexOf("/")===-1?z:n(z.slice(0,-1));var te=z.lastIndexOf("/");return te===-1?z:z.slice(0,te+1)}function i(z){if(z.charAt(z.length-1)=="/")return i(z.slice(0,-1));var te=z.lastIndexOf("/");return te===-1?z:z.slice(te+1)}function a(z,te){typeof te=="string"&&(te=new Date(te));var K=te.getHours();K=K<<6|te.getMinutes(),K=K<<5|te.getSeconds()>>>1,z.write_shift(2,K);var ee=te.getFullYear()-1980;ee=ee<<4|te.getMonth()+1,ee=ee<<5|te.getDate(),z.write_shift(2,ee)}function s(z){var te=z.read_shift(2)&65535,K=z.read_shift(2)&65535,ee=new Date,ie=K&31;K>>>=5;var se=K&15;K>>>=4,ee.setMilliseconds(0),ee.setFullYear(K+1980),ee.setMonth(se-1),ee.setDate(ie);var De=te&31;te>>>=5;var Ve=te&63;return te>>>=6,ee.setHours(te),ee.setMinutes(Ve),ee.setSeconds(De<<1),ee}function o(z){Wa(z,0);for(var te={},K=0;z.l<=z.length-4;){var ee=z.read_shift(2),ie=z.read_shift(2),se=z.l+ie,De={};switch(ee){case 21589:K=z.read_shift(1),K&1&&(De.mtime=z.read_shift(4)),ie>5&&(K&2&&(De.atime=z.read_shift(4)),K&4&&(De.ctime=z.read_shift(4))),De.mtime&&(De.mt=new Date(De.mtime*1e3));break}z.l=se,te[ee]=De}return te}var c;function u(){return c||(c={})}function h(z,te){if(z[0]==80&&z[1]==75)return Br(z,te);if((z[0]|32)==109&&(z[1]|32)==105)return pt(z,te);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var K=3,ee=512,ie=0,se=0,De=0,Ve=0,Pe=0,Fe=[],Ie=z.slice(0,512);Wa(Ie,0);var ut=f(Ie);switch(K=ut[0],K){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(ut[1]==0)return Br(z,te);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}ee!==512&&(Ie=z.slice(0,ee),Wa(Ie,28));var mt=z.slice(0,ee);d(Ie,K);var Tt=Ie.read_shift(4,"i");if(K===3&&Tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);Ie.l+=4,De=Ie.read_shift(4,"i"),Ie.l+=4,Ie.chk("00100000","Mini Stream Cutoff Size: "),Ve=Ie.read_shift(4,"i"),ie=Ie.read_shift(4,"i"),Pe=Ie.read_shift(4,"i"),se=Ie.read_shift(4,"i");for(var dt=-1,Nt=0;Nt<109&&(dt=Ie.read_shift(4,"i"),!(dt<0));++Nt)Fe[Nt]=dt;var Wt=p(z,ee);y(Pe,se,Wt,ee,Fe);var Cr=b(Wt,De,Fe,ee);Cr[De].name="!Directory",ie>0&&Ve!==q&&(Cr[Ve].name="!MiniFAT"),Cr[Fe[0]].name="!FAT",Cr.fat_addrs=Fe,Cr.ssz=ee;var zr={},Pn=[],Ps=[],il=[];S(De,Cr,Wt,Pn,ie,zr,Ps,Ve),x(Ps,il,Pn),Pn.shift();var vo={FileIndex:Ps,FullPaths:il};return te&&te.raw&&(vo.raw={header:mt,sectors:Wt}),vo}function f(z){if(z[z.l]==80&&z[z.l+1]==75)return[0,0];z.chk(I,"Header Signature: "),z.l+=16;var te=z.read_shift(2,"u");return[z.read_shift(2,"u"),te]}function d(z,te){var K=9;switch(z.l+=2,K=z.read_shift(2)){case 9:if(te!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(te!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}function p(z,te){for(var K=Math.ceil(z.length/te)-1,ee=[],ie=1;ie<K;++ie)ee[ie-1]=z.slice(ie*te,(ie+1)*te);return ee[K-1]=z.slice(K*te),ee}function x(z,te,K){for(var ee=0,ie=0,se=0,De=0,Ve=0,Pe=K.length,Fe=[],Ie=[];ee<Pe;++ee)Fe[ee]=Ie[ee]=ee,te[ee]=K[ee];for(;Ve<Ie.length;++Ve)ee=Ie[Ve],ie=z[ee].L,se=z[ee].R,De=z[ee].C,Fe[ee]===ee&&(ie!==-1&&Fe[ie]!==ie&&(Fe[ee]=Fe[ie]),se!==-1&&Fe[se]!==se&&(Fe[ee]=Fe[se])),De!==-1&&(Fe[De]=ee),ie!==-1&&ee!=Fe[ee]&&(Fe[ie]=Fe[ee],Ie.lastIndexOf(ie)<Ve&&Ie.push(ie)),se!==-1&&ee!=Fe[ee]&&(Fe[se]=Fe[ee],Ie.lastIndexOf(se)<Ve&&Ie.push(se));for(ee=1;ee<Pe;++ee)Fe[ee]===ee&&(se!==-1&&Fe[se]!==se?Fe[ee]=Fe[se]:ie!==-1&&Fe[ie]!==ie&&(Fe[ee]=Fe[ie]));for(ee=1;ee<Pe;++ee)if(z[ee].type!==0){if(Ve=ee,Ve!=Fe[Ve])do Ve=Fe[Ve],te[ee]=te[Ve]+"/"+te[ee];while(Ve!==0&&Fe[Ve]!==-1&&Ve!=Fe[Ve]);Fe[ee]=-1}for(te[0]+="/",ee=1;ee<Pe;++ee)z[ee].type!==2&&(te[ee]+="/")}function m(z,te,K){for(var ee=z.start,ie=z.size,se=[],De=ee;K&&ie>0&&De>=0;)se.push(te.slice(De*O,De*O+O)),ie-=O,De=Ku(K,De*4);return se.length===0?Ke(0):bi(se).slice(0,z.size)}function y(z,te,K,ee,ie){var se=q;if(z===q){if(te!==0)throw new Error("DIFAT chain shorter than expected")}else if(z!==-1){var De=K[z],Ve=(ee>>>2)-1;if(!De)return;for(var Pe=0;Pe<Ve&&(se=Ku(De,Pe*4))!==q;++Pe)ie.push(se);y(Ku(De,ee-4),te-1,K,ee,ie)}}function v(z,te,K,ee,ie){var se=[],De=[];ie||(ie=[]);var Ve=ee-1,Pe=0,Fe=0;for(Pe=te;Pe>=0;){ie[Pe]=!0,se[se.length]=Pe,De.push(z[Pe]);var Ie=K[Math.floor(Pe*4/ee)];if(Fe=Pe*4&Ve,ee<4+Fe)throw new Error("FAT boundary crossed: "+Pe+" 4 "+ee);if(!z[Ie])break;Pe=Ku(z[Ie],Fe)}return{nodes:se,data:lj([De])}}function b(z,te,K,ee){var ie=z.length,se=[],De=[],Ve=[],Pe=[],Fe=ee-1,Ie=0,ut=0,mt=0,Tt=0;for(Ie=0;Ie<ie;++Ie)if(Ve=[],mt=Ie+te,mt>=ie&&(mt-=ie),!De[mt]){Pe=[];var dt=[];for(ut=mt;ut>=0;){dt[ut]=!0,De[ut]=!0,Ve[Ve.length]=ut,Pe.push(z[ut]);var Nt=K[Math.floor(ut*4/ee)];if(Tt=ut*4&Fe,ee<4+Tt)throw new Error("FAT boundary crossed: "+ut+" 4 "+ee);if(!z[Nt]||(ut=Ku(z[Nt],Tt),dt[ut]))break}se[mt]={nodes:Ve,data:lj([Pe])}}return se}function S(z,te,K,ee,ie,se,De,Ve){for(var Pe=0,Fe=ee.length?2:0,Ie=te[z].data,ut=0,mt=0,Tt;ut<Ie.length;ut+=128){var dt=Ie.slice(ut,ut+128);Wa(dt,64),mt=dt.read_shift(2),Tt=tN(dt,0,mt-Fe),ee.push(Tt);var Nt={name:Tt,type:dt.read_shift(1),color:dt.read_shift(1),L:dt.read_shift(4,"i"),R:dt.read_shift(4,"i"),C:dt.read_shift(4,"i"),clsid:dt.read_shift(16),state:dt.read_shift(4,"i"),start:0,size:0},Wt=dt.read_shift(2)+dt.read_shift(2)+dt.read_shift(2)+dt.read_shift(2);Wt!==0&&(Nt.ct=T(dt,dt.l-8));var Cr=dt.read_shift(2)+dt.read_shift(2)+dt.read_shift(2)+dt.read_shift(2);Cr!==0&&(Nt.mt=T(dt,dt.l-8)),Nt.start=dt.read_shift(4,"i"),Nt.size=dt.read_shift(4,"i"),Nt.size<0&&Nt.start<0&&(Nt.size=Nt.type=0,Nt.start=q,Nt.name=""),Nt.type===5?(Pe=Nt.start,ie>0&&Pe!==q&&(te[Pe].name="!StreamData")):Nt.size>=4096?(Nt.storage="fat",te[Nt.start]===void 0&&(te[Nt.start]=v(K,Nt.start,te.fat_addrs,te.ssz)),te[Nt.start].name=Nt.name,Nt.content=te[Nt.start].data.slice(0,Nt.size)):(Nt.storage="minifat",Nt.size<0?Nt.size=0:Pe!==q&&Nt.start!==q&&te[Pe]&&(Nt.content=m(Nt,te[Pe].data,(te[Ve]||{}).data))),Nt.content&&Wa(Nt.content,0),se[Tt]=Nt,De.push(Nt)}}function T(z,te){return new Date(($a(z,te+4)/1e7*Math.pow(2,32)+$a(z,te)/1e7-11644473600)*1e3)}function E(z,te){return u(),h(c.readFileSync(z),te)}function P(z,te){var K=te&&te.type;switch(K||Sr&&Buffer.isBuffer(z)&&(K="buffer"),K||"base64"){case"file":return E(z,te);case"base64":return h(eo(Jl(z)),te);case"binary":return h(eo(z),te)}return h(z,te)}function j(z,te){var K=te||{},ee=K.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");z.FullPaths.length===0&&(z.FullPaths[0]=ee+"/",z.FileIndex[0]={name:ee,type:5}),K.CLSID&&(z.FileIndex[0].clsid=K.CLSID),L(z)}function L(z){var te="Sh33tJ5";if(!qr.find(z,"/"+te)){var K=Ke(4);K[0]=55,K[1]=K[3]=50,K[2]=54,z.FileIndex.push({name:te,type:2,content:K,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+te),F(z)}}function F(z,te){j(z);for(var K=!1,ee=!1,ie=z.FullPaths.length-1;ie>=0;--ie){var se=z.FileIndex[ie];switch(se.type){case 0:ee?K=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(se.R*se.L*se.C)&&(K=!0),se.R>-1&&se.L>-1&&se.R==se.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!te)){var De=new Date(1987,1,19),Ve=0,Pe=Object.create?Object.create(null):{},Fe=[];for(ie=0;ie<z.FullPaths.length;++ie)Pe[z.FullPaths[ie]]=!0,z.FileIndex[ie].type!==0&&Fe.push([z.FullPaths[ie],z.FileIndex[ie]]);for(ie=0;ie<Fe.length;++ie){var Ie=n(Fe[ie][0]);ee=Pe[Ie],ee||(Fe.push([Ie,{name:i(Ie).replace("/",""),type:1,clsid:X,ct:De,mt:De,content:null}]),Pe[Ie]=!0)}for(Fe.sort(function(Tt,dt){return r(Tt[0],dt[0])}),z.FullPaths=[],z.FileIndex=[],ie=0;ie<Fe.length;++ie)z.FullPaths[ie]=Fe[ie][0],z.FileIndex[ie]=Fe[ie][1];for(ie=0;ie<Fe.length;++ie){var ut=z.FileIndex[ie],mt=z.FullPaths[ie];if(ut.name=i(mt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||X,ie===0)ut.C=Fe.length>1?1:-1,ut.size=0,ut.type=5;else if(mt.slice(-1)=="/"){for(Ve=ie+1;Ve<Fe.length&&n(z.FullPaths[Ve])!=mt;++Ve);for(ut.C=Ve>=Fe.length?-1:Ve,Ve=ie+1;Ve<Fe.length&&n(z.FullPaths[Ve])!=n(mt);++Ve);ut.R=Ve>=Fe.length?-1:Ve,ut.type=1}else n(z.FullPaths[ie+1]||"")==n(mt)&&(ut.R=ie+1),ut.type=2}}}function W(z,te){var K=te||{};if(K.fileType=="mad")return Be(z,K);switch(F(z),K.fileType){case"zip":return La(z,K)}var ee=function(Tt){for(var dt=0,Nt=0,Wt=0;Wt<Tt.FileIndex.length;++Wt){var Cr=Tt.FileIndex[Wt];if(Cr.content){var zr=Cr.content.length;zr>0&&(zr<4096?dt+=zr+63>>6:Nt+=zr+511>>9)}}for(var Pn=Tt.FullPaths.length+3>>2,Ps=dt+7>>3,il=dt+127>>7,vo=Ps+Nt+Pn+il,Rs=vo+127>>7,yo=Rs<=109?0:Math.ceil((Rs-109)/127);vo+Rs+yo+127>>7>Rs;)yo=++Rs<=109?0:Math.ceil((Rs-109)/127);var Da=[1,yo,Rs,il,Pn,Nt,dt,0];return Tt.FileIndex[0].size=dt<<6,Da[7]=(Tt.FileIndex[0].start=Da[0]+Da[1]+Da[2]+Da[3]+Da[4]+Da[5])+(Da[6]+7>>3),Da}(z),ie=Ke(ee[7]<<9),se=0,De=0;{for(se=0;se<8;++se)ie.write_shift(1,ae[se]);for(se=0;se<8;++se)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),se=0;se<3;++se)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,ee[2]),ie.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:q),ie.write_shift(4,ee[3]),ie.write_shift(-4,ee[1]?ee[0]-1:q),ie.write_shift(4,ee[1]),se=0;se<109;++se)ie.write_shift(-4,se<ee[2]?ee[1]+se:-1)}if(ee[1])for(De=0;De<ee[1];++De){for(;se<236+De*127;++se)ie.write_shift(-4,se<ee[2]?ee[1]+se:-1);ie.write_shift(-4,De===ee[1]-1?q:De+1)}var Ve=function(Tt){for(De+=Tt;se<De-1;++se)ie.write_shift(-4,se+1);Tt&&(++se,ie.write_shift(-4,q))};for(De=se=0,De+=ee[1];se<De;++se)ie.write_shift(-4,le.DIFSECT);for(De+=ee[2];se<De;++se)ie.write_shift(-4,le.FATSECT);Ve(ee[3]),Ve(ee[4]);for(var Pe=0,Fe=0,Ie=z.FileIndex[0];Pe<z.FileIndex.length;++Pe)Ie=z.FileIndex[Pe],Ie.content&&(Fe=Ie.content.length,!(Fe<4096)&&(Ie.start=De,Ve(Fe+511>>9)));for(Ve(ee[6]+7>>3);ie.l&511;)ie.write_shift(-4,le.ENDOFCHAIN);for(De=se=0,Pe=0;Pe<z.FileIndex.length;++Pe)Ie=z.FileIndex[Pe],Ie.content&&(Fe=Ie.content.length,!(!Fe||Fe>=4096)&&(Ie.start=De,Ve(Fe+63>>6)));for(;ie.l&511;)ie.write_shift(-4,le.ENDOFCHAIN);for(se=0;se<ee[4]<<2;++se){var ut=z.FullPaths[se];if(!ut||ut.length===0){for(Pe=0;Pe<17;++Pe)ie.write_shift(4,0);for(Pe=0;Pe<3;++Pe)ie.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)ie.write_shift(4,0);continue}Ie=z.FileIndex[se],se===0&&(Ie.start=Ie.size?Ie.start-1:q);var mt=se===0&&K.root||Ie.name;if(Fe=2*(mt.length+1),ie.write_shift(64,mt,"utf16le"),ie.write_shift(2,Fe),ie.write_shift(1,Ie.type),ie.write_shift(1,Ie.color),ie.write_shift(-4,Ie.L),ie.write_shift(-4,Ie.R),ie.write_shift(-4,Ie.C),Ie.clsid)ie.write_shift(16,Ie.clsid,"hex");else for(Pe=0;Pe<4;++Pe)ie.write_shift(4,0);ie.write_shift(4,Ie.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,Ie.start),ie.write_shift(4,Ie.size),ie.write_shift(4,0)}for(se=1;se<z.FileIndex.length;++se)if(Ie=z.FileIndex[se],Ie.size>=4096)if(ie.l=Ie.start+1<<9,Sr&&Buffer.isBuffer(Ie.content))Ie.content.copy(ie,ie.l,0,Ie.size),ie.l+=Ie.size+511&-512;else{for(Pe=0;Pe<Ie.size;++Pe)ie.write_shift(1,Ie.content[Pe]);for(;Pe&511;++Pe)ie.write_shift(1,0)}for(se=1;se<z.FileIndex.length;++se)if(Ie=z.FileIndex[se],Ie.size>0&&Ie.size<4096)if(Sr&&Buffer.isBuffer(Ie.content))Ie.content.copy(ie,ie.l,0,Ie.size),ie.l+=Ie.size+63&-64;else{for(Pe=0;Pe<Ie.size;++Pe)ie.write_shift(1,Ie.content[Pe]);for(;Pe&63;++Pe)ie.write_shift(1,0)}if(Sr)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function D(z,te){var K=z.FullPaths.map(function(Pe){return Pe.toUpperCase()}),ee=K.map(function(Pe){var Fe=Pe.split("/");return Fe[Fe.length-(Pe.slice(-1)=="/"?2:1)]}),ie=!1;te.charCodeAt(0)===47?(ie=!0,te=K[0].slice(0,-1)+te):ie=te.indexOf("/")!==-1;var se=te.toUpperCase(),De=ie===!0?K.indexOf(se):ee.indexOf(se);if(De!==-1)return z.FileIndex[De];var Ve=!se.match(Tx);for(se=se.replace(cm,""),Ve&&(se=se.replace(Tx,"!")),De=0;De<K.length;++De)if((Ve?K[De].replace(Tx,"!"):K[De]).replace(cm,"")==se||(Ve?ee[De].replace(Tx,"!"):ee[De]).replace(cm,"")==se)return z.FileIndex[De];return null}var O=64,q=-2,I="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:I,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(z,te,K){u();var ee=W(z,K);c.writeFileSync(te,ee)}function ue(z){for(var te=new Array(z.length),K=0;K<z.length;++K)te[K]=String.fromCharCode(z[K]);return te.join("")}function ge(z,te){var K=W(z,te);switch(te&&te.type||"buffer"){case"file":return u(),c.writeFileSync(te.filename,K),K;case"binary":return typeof K=="string"?K:ue(K);case"base64":return Ym(typeof K=="string"?K:ue(K));case"buffer":if(Sr)return Buffer.isBuffer(K)?K:ic(K);case"array":return typeof K=="string"?eo(K):K}return K}var Ge;function A(z){try{var te=z.InflateRaw,K=new te;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)Ge=z;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function M(z,te){if(!Ge)return ir(z,te);var K=Ge.InflateRaw,ee=new K,ie=ee._processChunk(z.slice(z.l),ee._finishFlushFlag);return z.l+=ee.bytesRead,ie}function R(z){return Ge?Ge.deflateRawSync(z):Rt(z)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(z){var te=(z<<1|z<<11)&139536|(z<<5|z<<15)&558144;return(te>>16|te>>8|te)&255}for(var pe=typeof Uint8Array<"u",Te=pe?new Uint8Array(256):[],He=0;He<256;++He)Te[He]=he(He);function Qe(z,te){var K=Te[z&255];return te<=8?K>>>8-te:(K=K<<8|Te[z>>8&255],te<=16?K>>>16-te:(K=K<<8|Te[z>>16&255],K>>>24-te))}function et(z,te){var K=te&7,ee=te>>>3;return(z[ee]|(K<=6?0:z[ee+1]<<8))>>>K&3}function me(z,te){var K=te&7,ee=te>>>3;return(z[ee]|(K<=5?0:z[ee+1]<<8))>>>K&7}function ce(z,te){var K=te&7,ee=te>>>3;return(z[ee]|(K<=4?0:z[ee+1]<<8))>>>K&15}function Z(z,te){var K=te&7,ee=te>>>3;return(z[ee]|(K<=3?0:z[ee+1]<<8))>>>K&31}function je(z,te){var K=te&7,ee=te>>>3;return(z[ee]|(K<=1?0:z[ee+1]<<8))>>>K&127}function Ce(z,te,K){var ee=te&7,ie=te>>>3,se=(1<<K)-1,De=z[ie]>>>ee;return K<8-ee||(De|=z[ie+1]<<8-ee,K<16-ee)||(De|=z[ie+2]<<16-ee,K<24-ee)||(De|=z[ie+3]<<24-ee),De&se}function Oe(z,te,K){var ee=te&7,ie=te>>>3;return ee<=5?z[ie]|=(K&7)<<ee:(z[ie]|=K<<ee&255,z[ie+1]=(K&7)>>8-ee),te+3}function Xe(z,te,K){var ee=te&7,ie=te>>>3;return K=(K&1)<<ee,z[ie]|=K,te+1}function st(z,te,K){var ee=te&7,ie=te>>>3;return K<<=ee,z[ie]|=K&255,K>>>=8,z[ie+1]=K,te+8}function ht(z,te,K){var ee=te&7,ie=te>>>3;return K<<=ee,z[ie]|=K&255,K>>>=8,z[ie+1]=K&255,z[ie+2]=K>>>8,te+16}function Ct(z,te){var K=z.length,ee=2*K>te?2*K:te+5,ie=0;if(K>=te)return z;if(Sr){var se=YE(ee);if(z.copy)z.copy(se);else for(;ie<z.length;++ie)se[ie]=z[ie];return se}else if(pe){var De=new Uint8Array(ee);if(De.set)De.set(z);else for(;ie<K;++ie)De[ie]=z[ie];return De}return z.length=ee,z}function Ue(z){for(var te=new Array(z),K=0;K<z;++K)te[K]=0;return te}function it(z,te,K){var ee=1,ie=0,se=0,De=0,Ve=0,Pe=z.length,Fe=pe?new Uint16Array(32):Ue(32);for(se=0;se<32;++se)Fe[se]=0;for(se=Pe;se<K;++se)z[se]=0;Pe=z.length;var Ie=pe?new Uint16Array(Pe):Ue(Pe);for(se=0;se<Pe;++se)Fe[ie=z[se]]++,ee<ie&&(ee=ie),Ie[se]=0;for(Fe[0]=0,se=1;se<=ee;++se)Fe[se+16]=Ve=Ve+Fe[se-1]<<1;for(se=0;se<Pe;++se)Ve=z[se],Ve!=0&&(Ie[se]=Fe[Ve+16]++);var ut=0;for(se=0;se<Pe;++se)if(ut=z[se],ut!=0)for(Ve=Qe(Ie[se],ee)>>ee-ut,De=(1<<ee+4-ut)-1;De>=0;--De)te[Ve|De<<ut]=ut&15|se<<4;return ee}var bt=pe?new Uint16Array(512):Ue(512),St=pe?new Uint16Array(32):Ue(32);if(!pe){for(var Pt=0;Pt<512;++Pt)bt[Pt]=0;for(Pt=0;Pt<32;++Pt)St[Pt]=0}(function(){for(var z=[],te=0;te<32;te++)z.push(5);it(z,St,32);var K=[];for(te=0;te<=143;te++)K.push(8);for(;te<=255;te++)K.push(9);for(;te<=279;te++)K.push(7);for(;te<=287;te++)K.push(8);it(K,bt,288)})();var Dt=function(){for(var te=pe?new Uint8Array(32768):[],K=0,ee=0;K<fe.length-1;++K)for(;ee<fe[K+1];++ee)te[ee]=K;for(;ee<32768;++ee)te[ee]=29;var ie=pe?new Uint8Array(259):[];for(K=0,ee=0;K<Q.length-1;++K)for(;ee<Q[K+1];++ee)ie[ee]=K;function se(Ve,Pe){for(var Fe=0;Fe<Ve.length;){var Ie=Math.min(65535,Ve.length-Fe),ut=Fe+Ie==Ve.length;for(Pe.write_shift(1,+ut),Pe.write_shift(2,Ie),Pe.write_shift(2,~Ie&65535);Ie-- >0;)Pe[Pe.l++]=Ve[Fe++]}return Pe.l}function De(Ve,Pe){for(var Fe=0,Ie=0,ut=pe?new Uint16Array(32768):[];Ie<Ve.length;){var mt=Math.min(65535,Ve.length-Ie);if(mt<10){for(Fe=Oe(Pe,Fe,+(Ie+mt==Ve.length)),Fe&7&&(Fe+=8-(Fe&7)),Pe.l=Fe/8|0,Pe.write_shift(2,mt),Pe.write_shift(2,~mt&65535);mt-- >0;)Pe[Pe.l++]=Ve[Ie++];Fe=Pe.l*8;continue}Fe=Oe(Pe,Fe,+(Ie+mt==Ve.length)+2);for(var Tt=0;mt-- >0;){var dt=Ve[Ie];Tt=(Tt<<5^dt)&32767;var Nt=-1,Wt=0;if((Nt=ut[Tt])&&(Nt|=Ie&-32768,Nt>Ie&&(Nt-=32768),Nt<Ie))for(;Ve[Nt+Wt]==Ve[Ie+Wt]&&Wt<250;)++Wt;if(Wt>2){dt=ie[Wt],dt<=22?Fe=st(Pe,Fe,Te[dt+1]>>1)-1:(st(Pe,Fe,3),Fe+=5,st(Pe,Fe,Te[dt-23]>>5),Fe+=3);var Cr=dt<8?0:dt-4>>2;Cr>0&&(ht(Pe,Fe,Wt-Q[dt]),Fe+=Cr),dt=te[Ie-Nt],Fe=st(Pe,Fe,Te[dt]>>3),Fe-=3;var zr=dt<4?0:dt-2>>1;zr>0&&(ht(Pe,Fe,Ie-Nt-fe[dt]),Fe+=zr);for(var Pn=0;Pn<Wt;++Pn)ut[Tt]=Ie&32767,Tt=(Tt<<5^Ve[Ie])&32767,++Ie;mt-=Wt-1}else dt<=143?dt=dt+48:Fe=Xe(Pe,Fe,1),Fe=st(Pe,Fe,Te[dt]),ut[Tt]=Ie&32767,++Ie}Fe=st(Pe,Fe,0)-1}return Pe.l=(Fe+7)/8|0,Pe.l}return function(Pe,Fe){return Pe.length<8?se(Pe,Fe):De(Pe,Fe)}}();function Rt(z){var te=Ke(50+Math.floor(z.length*1.1)),K=Dt(z,te);return te.slice(0,K)}var vt=pe?new Uint16Array(32768):Ue(32768),$r=pe?new Uint16Array(32768):Ue(32768),er=pe?new Uint16Array(128):Ue(128),mn=1,ur=1;function vr(z,te){var K=Z(z,te)+257;te+=5;var ee=Z(z,te)+1;te+=5;var ie=ce(z,te)+4;te+=4;for(var se=0,De=pe?new Uint8Array(19):Ue(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,Fe=pe?new Uint8Array(8):Ue(8),Ie=pe?new Uint8Array(8):Ue(8),ut=De.length,mt=0;mt<ie;++mt)De[B[mt]]=se=me(z,te),Pe<se&&(Pe=se),Fe[se]++,te+=3;var Tt=0;for(Fe[0]=0,mt=1;mt<=Pe;++mt)Ie[mt]=Tt=Tt+Fe[mt-1]<<1;for(mt=0;mt<ut;++mt)(Tt=De[mt])!=0&&(Ve[mt]=Ie[Tt]++);var dt=0;for(mt=0;mt<ut;++mt)if(dt=De[mt],dt!=0){Tt=Te[Ve[mt]]>>8-dt;for(var Nt=(1<<7-dt)-1;Nt>=0;--Nt)er[Tt|Nt<<dt]=dt&7|mt<<3}var Wt=[];for(Pe=1;Wt.length<K+ee;)switch(Tt=er[je(z,te)],te+=Tt&7,Tt>>>=3){case 16:for(se=3+et(z,te),te+=2,Tt=Wt[Wt.length-1];se-- >0;)Wt.push(Tt);break;case 17:for(se=3+me(z,te),te+=3;se-- >0;)Wt.push(0);break;case 18:for(se=11+je(z,te),te+=7;se-- >0;)Wt.push(0);break;default:Wt.push(Tt),Pe<Tt&&(Pe=Tt);break}var Cr=Wt.slice(0,K),zr=Wt.slice(K);for(mt=K;mt<286;++mt)Cr[mt]=0;for(mt=ee;mt<30;++mt)zr[mt]=0;return mn=it(Cr,vt,286),ur=it(zr,$r,30),te}function Wn(z,te){if(z[0]==3&&!(z[1]&3))return[Oh(te),2];for(var K=0,ee=0,ie=YE(te||1<<18),se=0,De=ie.length>>>0,Ve=0,Pe=0;!(ee&1);){if(ee=me(z,K),K+=3,ee>>>1)ee>>1==1?(Ve=9,Pe=5):(K=vr(z,K),Ve=mn,Pe=ur);else{K&7&&(K+=8-(K&7));var Fe=z[K>>>3]|z[(K>>>3)+1]<<8;if(K+=32,Fe>0)for(!te&&De<se+Fe&&(ie=Ct(ie,se+Fe),De=ie.length);Fe-- >0;)ie[se++]=z[K>>>3],K+=8;continue}for(;;){!te&&De<se+32767&&(ie=Ct(ie,se+32767),De=ie.length);var Ie=Ce(z,K,Ve),ut=ee>>>1==1?bt[Ie]:vt[Ie];if(K+=ut&15,ut>>>=4,!(ut>>>8&255))ie[se++]=ut;else{if(ut==256)break;ut-=257;var mt=ut<8?0:ut-4>>2;mt>5&&(mt=0);var Tt=se+Q[ut];mt>0&&(Tt+=Ce(z,K,mt),K+=mt),Ie=Ce(z,K,Pe),ut=ee>>>1==1?St[Ie]:$r[Ie],K+=ut&15,ut>>>=4;var dt=ut<4?0:ut-2>>1,Nt=fe[ut];for(dt>0&&(Nt+=Ce(z,K,dt),K+=dt),!te&&De<Tt&&(ie=Ct(ie,Tt+100),De=ie.length);se<Tt;)ie[se]=ie[se-Nt],++se}}}return te?[ie,K+7>>>3]:[ie.slice(0,se),K+7>>>3]}function ir(z,te){var K=z.slice(z.l||0),ee=Wn(K,te);return z.l+=ee[1],ee[0]}function Wi(z,te){if(z)typeof console<"u"&&console.error(te);else throw new Error(te)}function Br(z,te){var K=z;Wa(K,0);var ee=[],ie=[],se={FileIndex:ee,FullPaths:ie};j(se,{root:te.root});for(var De=K.length-4;(K[De]!=80||K[De+1]!=75||K[De+2]!=5||K[De+3]!=6)&&De>=0;)--De;K.l=De+4,K.l+=4;var Ve=K.read_shift(2);K.l+=6;var Pe=K.read_shift(4);for(K.l=Pe,De=0;De<Ve;++De){K.l+=20;var Fe=K.read_shift(4),Ie=K.read_shift(4),ut=K.read_shift(2),mt=K.read_shift(2),Tt=K.read_shift(2);K.l+=8;var dt=K.read_shift(4),Nt=o(K.slice(K.l+ut,K.l+ut+mt));K.l+=ut+mt+Tt;var Wt=K.l;K.l=dt+4,Zn(K,Fe,Ie,se,Nt),K.l=Wt}return se}function Zn(z,te,K,ee,ie){z.l+=2;var se=z.read_shift(2),De=z.read_shift(2),Ve=s(z);if(se&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=z.read_shift(4),Fe=z.read_shift(4),Ie=z.read_shift(4),ut=z.read_shift(2),mt=z.read_shift(2),Tt="",dt=0;dt<ut;++dt)Tt+=String.fromCharCode(z[z.l++]);if(mt){var Nt=o(z.slice(z.l,z.l+mt));(Nt[21589]||{}).mt&&(Ve=Nt[21589].mt),((ie||{})[21589]||{}).mt&&(Ve=ie[21589].mt)}z.l+=mt;var Wt=z.slice(z.l,z.l+Fe);switch(De){case 8:Wt=M(z,Ie);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+De)}var Cr=!1;se&8&&(Pe=z.read_shift(4),Pe==134695760&&(Pe=z.read_shift(4),Cr=!0),Fe=z.read_shift(4),Ie=z.read_shift(4)),Fe!=te&&Wi(Cr,"Bad compressed size: "+te+" != "+Fe),Ie!=K&&Wi(Cr,"Bad uncompressed size: "+K+" != "+Ie),Je(ee,Tt,Wt,{unsafe:!0,mt:Ve})}function La(z,te){var K=te||{},ee=[],ie=[],se=Ke(1),De=K.compression?8:0,Ve=0,Pe=0,Fe=0,Ie=0,ut=0,mt=z.FullPaths[0],Tt=mt,dt=z.FileIndex[0],Nt=[],Wt=0;for(Pe=1;Pe<z.FullPaths.length;++Pe)if(Tt=z.FullPaths[Pe].slice(mt.length),dt=z.FileIndex[Pe],!(!dt.size||!dt.content||Tt=="Sh33tJ5")){var Cr=Ie,zr=Ke(Tt.length);for(Fe=0;Fe<Tt.length;++Fe)zr.write_shift(1,Tt.charCodeAt(Fe)&127);zr=zr.slice(0,zr.l),Nt[ut]=mte.buf(dt.content,0);var Pn=dt.content;De==8&&(Pn=R(Pn)),se=Ke(30),se.write_shift(4,67324752),se.write_shift(2,20),se.write_shift(2,Ve),se.write_shift(2,De),dt.mt?a(se,dt.mt):se.write_shift(4,0),se.write_shift(-4,Nt[ut]),se.write_shift(4,Pn.length),se.write_shift(4,dt.content.length),se.write_shift(2,zr.length),se.write_shift(2,0),Ie+=se.length,ee.push(se),Ie+=zr.length,ee.push(zr),Ie+=Pn.length,ee.push(Pn),se=Ke(46),se.write_shift(4,33639248),se.write_shift(2,0),se.write_shift(2,20),se.write_shift(2,Ve),se.write_shift(2,De),se.write_shift(4,0),se.write_shift(-4,Nt[ut]),se.write_shift(4,Pn.length),se.write_shift(4,dt.content.length),se.write_shift(2,zr.length),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(4,0),se.write_shift(4,Cr),Wt+=se.l,ie.push(se),Wt+=zr.length,ie.push(zr),++ut}return se=Ke(22),se.write_shift(4,101010256),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,ut),se.write_shift(2,ut),se.write_shift(4,Wt),se.write_shift(4,Ie),se.write_shift(2,0),bi([bi(ee),bi(ie),se])}var Tr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ht(z,te){if(z.ctype)return z.ctype;var K=z.name||"",ee=K.match(/\.([^\.]+)$/);return ee&&Tr[ee[1]]||te&&(ee=(K=te).match(/[\.\\]([^\.\\])+$/),ee&&Tr[ee[1]])?Tr[ee[1]]:"application/octet-stream"}function ve(z){for(var te=Ym(z),K=[],ee=0;ee<te.length;ee+=76)K.push(te.slice(ee,ee+76));return K.join(`\r
`)+`\r
`}function de(z){var te=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Fe){var Ie=Fe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ie.length==1?"0"+Ie:Ie)});te=te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),te.charAt(0)==`
`&&(te="=0D"+te.slice(1)),te=te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],ee=te.split(`\r
`),ie=0;ie<ee.length;++ie){var se=ee[ie];if(se.length==0){K.push("");continue}for(var De=0;De<se.length;){var Ve=76,Pe=se.slice(De,De+Ve);Pe.charAt(Ve-1)=="="?Ve--:Pe.charAt(Ve-2)=="="?Ve-=2:Pe.charAt(Ve-3)=="="&&(Ve-=3),Pe=se.slice(De,De+Ve),De+=Ve,De<se.length&&(Pe+="="),K.push(Pe)}}return K.join(`\r
`)}function Ae(z){for(var te=[],K=0;K<z.length;++K){for(var ee=z[K];K<=z.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+z[++K];te.push(ee)}for(var ie=0;ie<te.length;++ie)te[ie]=te[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(se){return String.fromCharCode(parseInt(se.slice(1),16))});return eo(te.join(`\r
`))}function qe(z,te,K){for(var ee="",ie="",se="",De,Ve=0;Ve<10;++Ve){var Pe=te[Ve];if(!Pe||Pe.match(/^\s*$/))break;var Fe=Pe.match(/^(.*?):\s*([^\s].*)$/);if(Fe)switch(Fe[1].toLowerCase()){case"content-location":ee=Fe[2].trim();break;case"content-type":se=Fe[2].trim();break;case"content-transfer-encoding":ie=Fe[2].trim();break}}switch(++Ve,ie.toLowerCase()){case"base64":De=eo(Jl(te.slice(Ve).join("")));break;case"quoted-printable":De=Ae(te.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var Ie=Je(z,ee.slice(K.length),De,{unsafe:!0});se&&(Ie.ctype=se)}function pt(z,te){if(ue(z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=te&&te.root||"",ee=(Sr&&Buffer.isBuffer(z)?z.toString("binary"):ue(z)).split(`\r
`),ie=0,se="";for(ie=0;ie<ee.length;++ie)if(se=ee[ie],!!/^Content-Location:/i.test(se)&&(se=se.slice(se.indexOf("file")),K||(K=se.slice(0,se.lastIndexOf("/")+1)),se.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),se.slice(0,K.length)!=K););var De=(ee[1]||"").match(/boundary="(.*?)"/);if(!De)throw new Error("MAD cannot find boundary");var Ve="--"+(De[1]||""),Pe=[],Fe=[],Ie={FileIndex:Pe,FullPaths:Fe};j(Ie);var ut,mt=0;for(ie=0;ie<ee.length;++ie){var Tt=ee[ie];Tt!==Ve&&Tt!==Ve+"--"||(mt++&&qe(Ie,ee.slice(ut,ie),K),ut=ie)}return Ie}function Be(z,te){var K=te||{},ee=K.boundary||"SheetJS";ee="------="+ee;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],se=z.FullPaths[0],De=se,Ve=z.FileIndex[0],Pe=1;Pe<z.FullPaths.length;++Pe)if(De=z.FullPaths[Pe].slice(se.length),Ve=z.FileIndex[Pe],!(!Ve.size||!Ve.content||De=="Sh33tJ5")){De=De.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Wt){return"_x"+Wt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Wt){return"_u"+Wt.charCodeAt(0).toString(16)+"_"});for(var Fe=Ve.content,Ie=Sr&&Buffer.isBuffer(Fe)?Fe.toString("binary"):ue(Fe),ut=0,mt=Math.min(1024,Ie.length),Tt=0,dt=0;dt<=mt;++dt)(Tt=Ie.charCodeAt(dt))>=32&&Tt<128&&++ut;var Nt=ut>=mt*4/5;ie.push(ee),ie.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+De),ie.push("Content-Transfer-Encoding: "+(Nt?"quoted-printable":"base64")),ie.push("Content-Type: "+Ht(Ve,De)),ie.push(""),ie.push(Nt?de(Ie):ve(Ie))}return ie.push(ee+`--\r
`),ie.join(`\r
`)}function ke(z){var te={};return j(te,z),te}function Je(z,te,K,ee){var ie=ee&&ee.unsafe;ie||j(z);var se=!ie&&qr.find(z,te);if(!se){var De=z.FullPaths[0];te.slice(0,De.length)==De?De=te:(De.slice(-1)!="/"&&(De+="/"),De=(De+te).replace("//","/")),se={name:i(te),type:2},z.FileIndex.push(se),z.FullPaths.push(De),ie||qr.utils.cfb_gc(z)}return se.content=K,se.size=K?K.length:0,ee&&(ee.CLSID&&(se.clsid=ee.CLSID),ee.mt&&(se.mt=ee.mt),ee.ct&&(se.ct=ee.ct)),se}function Ze(z,te){j(z);var K=qr.find(z,te);if(K){for(var ee=0;ee<z.FileIndex.length;++ee)if(z.FileIndex[ee]==K)return z.FileIndex.splice(ee,1),z.FullPaths.splice(ee,1),!0}return!1}function yt(z,te,K){j(z);var ee=qr.find(z,te);if(ee){for(var ie=0;ie<z.FileIndex.length;++ie)if(z.FileIndex[ie]==ee)return z.FileIndex[ie].name=i(K),z.FullPaths[ie]=K,!0}return!1}function At(z){F(z,!0)}return e.find=D,e.read=P,e.parse=h,e.write=ge,e.writeFile=re,e.utils={cfb_new:ke,cfb_add:Je,cfb_del:Ze,cfb_mov:yt,cfb_gc:At,ReadShift:hm,CheckField:UR,prep_blob:Wa,bconcat:bi,use_zlib:A,_deflateRaw:Rt,_inflateRaw:ir,consts:le},e}();function gte(t){return typeof t=="string"?Fy(t):Array.isArray(t)?Hee(t):t}function Dg(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Fy(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?$m(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([gte(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Lg(e)),o.write(e),o.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function Ai(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function tj(t,e){for(var r=[],n=Ai(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Q_(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function zy(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function xte(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var _2=new Date(1899,11,30,0,0,0);function Ea(t,e){var r=t.getTime(),n=_2.getTime()+(t.getTimezoneOffset()-_2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var NR=new Date,vte=_2.getTime()+(NR.getTimezoneOffset()-_2.getTimezoneOffset())*6e4,rj=NR.getTimezoneOffset();function TR(t){var e=new Date;return e.setTime(t*24*60*60*1e3+vte),e.getTimezoneOffset()!==rj&&e.setTime(e.getTime()+(e.getTimezoneOffset()-rj)*6e4),e}var nj=new Date("2017-02-19T19:06:09.000Z"),CR=isNaN(nj.getFullYear())?new Date("2/19/17"):nj,yte=CR.getFullYear()==2017;function ia(t,e){var r=new Date(t);if(yte)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(CR.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Uy(t,e){if(Sr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function ja(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ja(t[r]));return e}function wn(t,e){for(var r="";r.length<e;)r+=t;return r}function Bl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var bte=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xm(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&bte.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function rr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Sr?n=ic(r):n=qee(r),qr.utils.cfb_add(t,e,n)}qr.utils.cfb_add(t,e,r)}else t.file(e,r)}function J_(){return qr.utils.cfb_new()}var Vn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,wte={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Z_=Q_(wte),eN=/[&<>'"]/g,Ste=/[\u0000-\u0008\u000b-\u001f]/g;function Mr(t){var e=t+"";return e.replace(eN,function(r){return Z_[r]}).replace(Ste,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ij(t){return Mr(t).replace(/ /g,"_x0020_")}var AR=/[\u0000-\u001f]/g;function _te(t){var e=t+"";return e.replace(eN,function(r){return Z_[r]}).replace(/\n/g,"<br/>").replace(AR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Nte(t){var e=t+"";return e.replace(eN,function(r){return Z_[r]}).replace(AR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Tte(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Cte(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qw(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function aj(t){var e=Oh(2*t.length),r,n,i=1,a=0,s=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function sj(t){return ic(t,"binary").toString("utf8")}var Ax="foo bar bazâð£",um=Sr&&(sj(Ax)==Qw(Ax)&&sj||aj(Ax)==Qw(Ax)&&aj)||Qw,$m=Sr?function(t){return ic(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Ate=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),ER=/(^\s|\s$|\n)/;function wi(t,e){return"<"+t+(e.match(ER)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Km(t){return Ai(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function gt(t,e,r){return"<"+t+(r!=null?Km(r):"")+(e!=null?(e.match(ER)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function k4(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function Ete(t,e){switch(typeof t){case"string":var r=gt("vt:lpwstr",Mr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return gt((t|0)==t?"vt:i4":"vt:r8",Mr(String(t)));case"boolean":return gt("vt:bool",t?"true":"false")}if(t instanceof Date)return gt("vt:filetime",k4(t));throw new Error("Unable to serialize "+t)}var si={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},D0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function jte(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function kte(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[r+o]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var oj=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},lj=Sr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:ic(e)})):oj(t)}:oj,cj=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Ip(t,i)));return n.join("").replace(cm,"")},tN=Sr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(cm,""):cj(t,e,r)}:cj,uj=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},jR=Sr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):uj(t,e,r)}:uj,hj=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Uf(t,i)));return n.join("")},Pg=Sr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):hj(e,r,n)}:hj,kR=function(t,e){var r=$a(t,e);return r>0?Pg(t,e+4,e+4+r-1):""},OR=kR,LR=function(t,e){var r=$a(t,e);return r>0?Pg(t,e+4,e+4+r-1):""},DR=LR,PR=function(t,e){var r=2*$a(t,e);return r>0?Pg(t,e+4,e+4+r-1):""},RR=PR,MR=function(e,r){var n=$a(e,r);return n>0?tN(e,r+4,r+4+n):""},FR=MR,IR=function(t,e){var r=$a(t,e);return r>0?Pg(t,e+4,e+4+r):""},BR=IR,zR=function(t,e){return jte(t,e)},N2=zR,rN=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Sr&&(OR=function(e,r){if(!Buffer.isBuffer(e))return kR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},DR=function(e,r){if(!Buffer.isBuffer(e))return LR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},RR=function(e,r){if(!Buffer.isBuffer(e))return PR(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},FR=function(e,r){if(!Buffer.isBuffer(e))return MR(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},BR=function(e,r){if(!Buffer.isBuffer(e))return IR(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},N2=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):zR(e,r)},rN=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Uf=function(t,e){return t[e]},Ip=function(t,e){return t[e+1]*256+t[e]},Ote=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},$a=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Ku=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Lte=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function hm(t,e){var r="",n,i,a=[],s,o,c,u;switch(e){case"dbcs":if(u=this.l,Sr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(Ip(this,u)),u+=2;t*=2;break;case"utf8":r=Pg(this,this.l,this.l+t);break;case"utf16le":t*=2,r=tN(this,this.l,this.l+t);break;case"wstr":return hm.call(this,t,"dbcs");case"lpstr-ansi":r=OR(this,this.l),t=4+$a(this,this.l);break;case"lpstr-cp":r=DR(this,this.l),t=4+$a(this,this.l);break;case"lpwstr":r=RR(this,this.l),t=4+2*$a(this,this.l);break;case"lpp4":t=4+$a(this,this.l),r=FR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+$a(this,this.l),r=BR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=Uf(this,this.l+t++))!==0;)a.push(Nx(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=Ip(this,this.l+t))!==0;)a.push(Nx(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Uf(this,u),this.l=u+1,o=hm.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Nx(Ip(this,u))),u+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Uf(this,u),this.l=u+1,o=hm.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Nx(Uf(this,u))),u+=1}r=a.join("");break;default:switch(t){case 1:return n=Uf(this,this.l),this.l++,n;case 2:return n=(e==="i"?Ote:Ip)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Ku:Lte)(this,this.l),this.l+=4,n):(i=$a(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=N2(this,this.l):i=N2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=jR(this,this.l,t);break}}return this.l+=t,r}var Dte=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},Pte=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},Rte=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function Mte(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)Rte(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Dte(this,e,this.l);break;case 8:if(n=8,r==="f"){kte(this,e,this.l);break}case 16:break;case-4:n=4,Pte(this,e,this.l);break}return this.l+=n,this}function UR(t,e){var r=jR(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Wa(t,e){t.l=e,t.read_shift=hm,t.chk=UR,t.write_shift=Mte}function Jo(t,e){t.l+=e}function Ke(t){var e=Oh(t);return Wa(e,0),e}function Ta(){var t=[],e=Sr?256:2048,r=function(u){var h=Ke(u);return Wa(h,0),h},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},s=function(){return i(),bi(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function ot(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=joe[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&rN(r)&&t.push(r)}}function fm(t,e,r){var n=ja(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fj(t,e,r){var n=ja(t);return n.s=fm(n.s,e.s,r),n.e=fm(n.e,e.s,r),n}function dm(t,e){if(t.cRel&&t.c<0)for(t=ja(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ja(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Fr(t);return!t.cRel&&t.cRel!=null&&(r=Bte(r)),!t.rRel&&t.rRel!=null&&(r=Fte(r)),r}function Jw(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+qi(t.s.c)+":"+(t.e.cRel?"":"$")+qi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ti(t.s.r)+":"+(t.e.rRel?"":"$")+Ti(t.e.r):dm(t.s,e.biff)+":"+dm(t.e,e.biff)}function nN(t){return parseInt(Ite(t),10)-1}function Ti(t){return""+(t+1)}function Fte(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ite(t){return t.replace(/\$(\d+)$/,"$1")}function iN(t){for(var e=zte(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function qi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Bte(t){return t.replace(/^([A-Z])/,"$$$1")}function zte(t){return t.replace(/^\$([A-Z])/,"$1")}function Ute(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function li(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Fr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function os(t){var e=t.indexOf(":");return e==-1?{s:li(t),e:li(t)}:{s:li(t.slice(0,e)),e:li(t.slice(e+1))}}function qn(t,e){return typeof e>"u"||typeof e=="number"?qn(t.s,t.e):(typeof t!="string"&&(t=Fr(t)),typeof e!="string"&&(e=Fr(e)),t==e?t:t+":"+e)}function an(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function dj(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=wu(t.z,r?Ea(e):e)}catch{}try{return t.w=wu((t.XF||{}).numFmtId||(r?14:0),r?Ea(e):e)}catch{return""+e}}function Zl(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Rg[t.v]||t.v:e==null?dj(t,t.v):dj(t,e))}function Wh(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function HR(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?li(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=an(a["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),s==-1&&(u.e.r=s=h.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var p={v:e[f][d]},x=s+f,m=o+d;if(u.s.r>x&&(u.s.r=x),u.s.c>m&&(u.s.c=m),u.e.r<x&&(u.e.r=x),u.e.c<m&&(u.e.c=m),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))p=e[f][d];else if(Array.isArray(p.v)&&(p.f=e[f][d][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||_n[14],n.cellDates?(p.t="d",p.w=wu(p.z,Ea(p.v))):(p.t="n",p.v=Ea(p.v),p.w=wu(p.z,p.v))):p.t="s";if(i)a[x]||(a[x]=[]),a[x][m]&&a[x][m].z&&(p.z=a[x][m].z),a[x][m]=p;else{var y=Fr({c:m,r:x});a[y]&&a[y].z&&(p.z=a[y].z),a[y]=p}}}return u.s.c<1e7&&(a["!ref"]=qn(u)),a}function P0(t,e){return HR(null,t,e)}function Hte(t){return t.read_shift(4,"i")}function oo(t,e){return e||(e=Ke(4)),e.write_shift(4,t),e}function Vi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function ci(t,e){var r=!1;return e==null&&(r=!0,e=Ke(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function qte(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Vte(t,e){return e||(e=Ke(4)),e.write_shift(2,0),e.write_shift(2,0),e}function aN(t,e){var r=t.l,n=t.read_shift(1),i=Vi(t),a=[],s={t:i,h:i};if(n&1){for(var o=t.read_shift(4),c=0;c!=o;++c)a.push(qte(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function Wte(t,e){var r=!1;return e==null&&(r=!0,e=Ke(15+4*t.t.length)),e.write_shift(1,0),ci(t.t,e),r?e.slice(0,e.l):e}var Gte=aN;function Yte(t,e){var r=!1;return e==null&&(r=!0,e=Ke(23+4*t.t.length)),e.write_shift(1,1),ci(t.t,e),e.write_shift(4,1),Vte({},e),r?e.slice(0,e.l):e}function Ds(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Gh(t,e){return e==null&&(e=Ke(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Yh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Xh(t,e){return e==null&&(e=Ke(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var Xte=Vi,qR=ci;function sN(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function T2(t,e){var r=!1;return e==null&&(r=!0,e=Ke(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var $te=Vi,O4=sN,oN=T2;function VR(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?N2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ku(e,0)>>2;return r?i/100:i}function WR(t,e){e==null&&(e=Ke(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function GR(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function Kte(t,e){return e||(e=Ke(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var $h=GR,R0=Kte;function M0(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Lh(t,e){return(e||Ke(8)).write_shift(8,t,"f")}function Qte(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=sre[i];u&&(e.rgb=Nj(u));break;case 2:e.rgb=Nj([s,o,c]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function C2(t,e){if(e||(e=Ke(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function Jte(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function Zte(t,e){e||(e=Ke(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var YR=2,Ha=3,Ex=11,A2=19,jx=64,ere=65,tre=71,rre=4108,nre=4126,xi=80,pj={1:{n:"CodePage",t:YR},2:{n:"Category",t:xi},3:{n:"PresentationFormat",t:xi},4:{n:"ByteCount",t:Ha},5:{n:"LineCount",t:Ha},6:{n:"ParagraphCount",t:Ha},7:{n:"SlideCount",t:Ha},8:{n:"NoteCount",t:Ha},9:{n:"HiddenCount",t:Ha},10:{n:"MultimediaClipCount",t:Ha},11:{n:"ScaleCrop",t:Ex},12:{n:"HeadingPairs",t:rre},13:{n:"TitlesOfParts",t:nre},14:{n:"Manager",t:xi},15:{n:"Company",t:xi},16:{n:"LinksUpToDate",t:Ex},17:{n:"CharacterCount",t:Ha},19:{n:"SharedDoc",t:Ex},22:{n:"HyperlinksChanged",t:Ex},23:{n:"AppVersion",t:Ha,p:"version"},24:{n:"DigSig",t:ere},26:{n:"ContentType",t:xi},27:{n:"ContentStatus",t:xi},28:{n:"Language",t:xi},29:{n:"Version",t:xi},255:{},2147483648:{n:"Locale",t:A2},2147483651:{n:"Behavior",t:A2},1919054434:{}},mj={1:{n:"CodePage",t:YR},2:{n:"Title",t:xi},3:{n:"Subject",t:xi},4:{n:"Author",t:xi},5:{n:"Keywords",t:xi},6:{n:"Comments",t:xi},7:{n:"Template",t:xi},8:{n:"LastAuthor",t:xi},9:{n:"RevNumber",t:xi},10:{n:"EditTime",t:jx},11:{n:"LastPrinted",t:jx},12:{n:"CreatedDate",t:jx},13:{n:"ModifiedDate",t:jx},14:{n:"PageCount",t:Ha},15:{n:"WordCount",t:Ha},16:{n:"CharCount",t:Ha},17:{n:"Thumbnail",t:tre},18:{n:"Application",t:xi},19:{n:"DocSecurity",t:Ha},255:{},2147483648:{n:"Locale",t:A2},2147483651:{n:"Behavior",t:A2},1919054434:{}};function ire(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var are=ire([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sre=ja(are),Rg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ore={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},kx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function XR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function $R(t,e){var r=xte(ore),n=[],i;n[n.length]=Vn,n[n.length]=gt("Types",null,{xmlns:si.CT,"xmlns:xsd":si.xsd,"xmlns:xsi":si.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return gt("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){t[c]&&t[c].length>0&&(i=t[c][0],n[n.length]=gt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:kx[c][e.bookType]||kx[c].xlsx}))},s=function(c){(t[c]||[]).forEach(function(u){n[n.length]=gt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:kx[c][e.bookType]||kx[c].xlsx})})},o=function(c){(t[c]||[]).forEach(function(u){n[n.length]=gt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var br={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function KR(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Nd(t){var e=[Vn,gt("Relationships",null,{xmlns:si.RELS})];return Ai(t["!id"]).forEach(function(r){e[e.length]=gt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Dr(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[br.HLINK,br.XPATH,br.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function lre(t){var e=[Vn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function gj(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function cre(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function ure(t){var e=[Vn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(gj(t[r][0],t[r][1])),e.push(cre("",t[r][0]));return e.push(gj("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function QR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+v2.version+"</meta:generator></office:meta></office:document-meta>"}var bh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Zw(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Mr(e),n[n.length]=r?gt(t,e,r):wi(t,e))}function JR(t,e){var r=e||{},n=[Vn,gt("cp:coreProperties",null,{"xmlns:cp":si.CORE_PROPS,"xmlns:dc":si.dc,"xmlns:dcterms":si.dcterms,"xmlns:dcmitype":si.dcmitype,"xmlns:xsi":si.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Zw("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:k4(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&Zw("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:k4(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=bh.length;++a){var s=bh[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Zw(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Td=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ZR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function eM(t){var e=[],r=gt;return t||(t={}),t.Application="SheetJS",e[e.length]=Vn,e[e.length]=gt("Properties",null,{xmlns:si.EXT_PROPS,"xmlns:vt":si.vt}),Td.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Mr(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Mr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function tM(t){var e=[Vn,gt("Properties",null,{xmlns:si.CUST_PROPS,"xmlns:vt":si.vt})];if(!t)return e.join("");var r=1;return Ai(t).forEach(function(i){++r,e[e.length]=gt("property",Ete(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Mr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var xj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hre(t,e){var r=[];return Ai(xj).map(function(n){for(var i=0;i<bh.length;++i)if(bh[i][1]==n)return bh[i];for(i=0;i<Td.length;++i)if(Td[i][1]==n)return Td[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(wi(xj[n[1]]||n[1],i))}}),gt("DocumentProperties",r.join(""),{xmlns:Xa.o})}function fre(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&Ai(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<bh.length;++s)if(a==bh[s][1])return;for(s=0;s<Td.length;++s)if(a==Td[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=t[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(gt(ij(a),o,{"dt:dt":c}))}}),e&&Ai(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(gt(ij(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Xa.o+'">'+i.join("")+"</"+n+">"}function dre(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=Ke(8);return s.write_shift(4,n),s.write_shift(4,i),s}function vj(t,e){var r=Ke(4),n=Ke(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ke(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=dre(e);break;case 31:case 80:for(n=Ke(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return bi([r,n])}var rM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pre(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function yj(t,e,r){var n=Ke(8),i=[],a=[],s=8,o=0,c=Ke(8),u=Ke(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),s+=8+c.length,!e){u=Ke(8),u.write_shift(4,0),i.unshift(u);var h=[Ke(4)];for(h[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(c=Ke(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=bi(h),a.unshift(c),s+=8+c.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(rM.indexOf(t[o][0])>-1||ZR.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],p=0;if(e){p=+e[t[o][0]];var x=r[p];if(x.p=="version"&&typeof d=="string"){var m=d.split(".");d=(+m[0]<<16)+(+m[1]||0)}c=vj(x.t,d)}else{var y=pre(d);y==-1&&(y=31,d=String(d)),c=vj(y,d)}a.push(c),u=Ke(8),u.write_shift(4,e?p:2+o),i.push(u),s+=8+c.length}var v=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,v),v+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),bi([n].concat(i).concat(a))}function bj(t,e,r,n,i,a){var s=Ke(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,qr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var c=yj(t,r,n);if(o.push(c),i){var u=yj(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),o.push(u)}return bi(o)}function mre(t,e){e||(e=Ke(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function gre(t,e){return t.read_shift(e)===1}function ea(t,e){return e||(e=Ke(2)),e.write_shift(2,+!!t),e}function nM(t){return t.read_shift(2,"u")}function ys(t,e){return e||(e=Ke(2)),e.write_shift(2,t),e}function iM(t,e,r){return r||(r=Ke(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function aM(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function xre(t){var e=t.t||"",r=Ke(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ke(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return bi(i)}function vre(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function yre(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):vre(t,n,r)}function bre(t,e,r){if(r.biff>5)return yre(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function sM(t,e,r){return r||(r=Ke(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function wj(t,e){e||(e=Ke(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function wre(t){var e=Ke(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)n=n.slice(1),wj(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),a&8&&wj(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Dh(t,e,r,n){return n||(n=Ke(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Sre(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function _re(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function oM(t,e){return e||(e=Ke(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function lN(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ke(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Nre(t,e){var r=!e||e.biff==8,n=Ke(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Tre(t,e){var r=!e||e.biff>=8?2:1,n=Ke(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Cre(t,e){var r=Ke(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=xre(t[i]);var a=bi([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function Are(){var t=Ke(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Ere(t){var e=Ke(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function jre(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=Ke(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function kre(t,e,r,n){var i=Ke(10);return Dh(t,e,n,i),i.write_shift(4,r),i}function Ore(t,e,r,n,i){var a=!i||i.biff==8,s=Ke(8+ +a+(1+a)*r.length);return Dh(t,e,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function Lre(t,e,r,n){var i=r&&r.biff==5;n||(n=Ke(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function Dre(t,e){var r=e.biff==8||!e.biff?4:2,n=Ke(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Sj(t,e,r,n){var i=r&&r.biff==5;n||(n=Ke(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function Pre(t){var e=Ke(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Rre(t,e,r,n,i,a){var s=Ke(8);return Dh(t,e,n,s),iM(r,a,s),s}function Mre(t,e,r,n){var i=Ke(14);return Dh(t,e,n,i),Lh(r,i),i}function Fre(t,e,r){if(r.biff<8)return Ire(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(Sre(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function Ire(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=aM(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Bre(t){var e=Ke(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)oM(t[r],e);return e}function zre(t){var e=Ke(24),r=li(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return bi([e,wre(t[1])])}function Ure(t){var e=t[1].Tooltip,r=Ke(10+2*(e.length+1));r.write_shift(2,2048);var n=li(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function Hre(t){return t||(t=Ke(4)),t.write_shift(2,1),t.write_shift(2,1),t}function qre(t,e,r){if(!r.cellStyles)return Jo(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Vre(t,e){var r=Ke(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Wre(t){for(var e=Ke(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function Gre(t,e,r){var n=Ke(15);return Fg(n,t,e),n.write_shift(8,r,"f"),n}function Yre(t,e,r){var n=Ke(9);return Fg(n,t,e),n.write_shift(2,r),n}var Xre=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Q_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],h=Oh(1);switch(c.type){case"base64":h=eo(Jl(o));break;case"binary":h=eo(o);break;case"buffer":case"array":h=o;break}Wa(h,0);var f=h.read_shift(1),d=!!(f&136),p=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,d=!0;break;case 49:p=!0,d=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,y=521;f==2&&(m=h.read_shift(2)),h.l+=3,f!=2&&(m=h.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(y=h.read_shift(2));var v=h.read_shift(2),b=c.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(b=t[h[h.l]]),h.l+=1,h.l+=2),x&&(h.l+=36);for(var S=[],T={},E=Math.min(h.length,f==2?521:y-10-(p?264:0)),P=x?32:11;h.l<E&&h[h.l]!=13;)switch(T={},T.name=y2.utils.decode(b,h.slice(h.l,h.l+P)).replace(/[\u0000\r\n].*$/g,""),h.l+=P,T.type=String.fromCharCode(h.read_shift(1)),f!=2&&!x&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),f==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&S.push(T),f!=2&&(h.l+=x?13:14),T.type){case"B":(!p||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=y-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=y;var j=0,L=0;for(u[0]=[],L=0;L!=S.length;++L)u[0][L]=S[L].name;for(;m-- >0;){if(h[h.l]===42){h.l+=v;continue}for(++h.l,u[++j]=[],L=0,L=0;L!=S.length;++L){var F=h.slice(h.l,h.l+S[L].len);h.l+=S[L].len,Wa(F,0);var W=y2.utils.decode(b,F);switch(S[L].type){case"C":W.trim().length&&(u[j][L]=W.replace(/\s+$/,""));break;case"D":W.length===8?u[j][L]=new Date(+W.slice(0,4),+W.slice(4,6)-1,+W.slice(6,8)):u[j][L]=W;break;case"F":u[j][L]=parseFloat(W.trim());break;case"+":case"I":u[j][L]=x?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(W.trim().toUpperCase()){case"Y":case"T":u[j][L]=!0;break;case"N":case"F":u[j][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+W+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][L]="##MEMO##"+(x?parseInt(W.trim(),10):F.read_shift(4));break;case"N":W=W.replace(/\u0000/g,"").trim(),W&&W!="."&&(u[j][L]=+W||0);break;case"@":u[j][L]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":u[j][L]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":u[j][L]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][L]=-F.read_shift(-8,"f");break;case"B":if(p&&S[L].len==8){u[j][L]=F.read_shift(8,"f");break}case"G":case"P":F.l+=S[L].len;break;case"0":if(S[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[L].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=S,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=P0(r(o,u),u);return h["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,h}function i(o,c){try{return Wh(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&Gm(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Ta(),f=L2(o,{header:1,raw:!0,cellDates:!0}),d=f[0],p=f.slice(1),x=o["!cols"]||[],m=0,y=0,v=0,b=1;for(m=0;m<d.length;++m){if(((x[m]||{}).DBF||{}).name){d[m]=x[m].DBF.name,++v;continue}if(d[m]!=null){if(++v,typeof d[m]=="number"&&(d[m]=d[m].toString(10)),typeof d[m]!="string")throw new Error("DBF Invalid column name "+d[m]+" |"+typeof d[m]+"|");if(d.indexOf(d[m])!==m){for(y=0;y<1024;++y)if(d.indexOf(d[m]+"_"+y)==-1){d[m]+="_"+y;break}}}}var S=an(o["!ref"]),T=[],E=[],P=[];for(m=0;m<=S.e.c-S.s.c;++m){var j="",L="",F=0,W=[];for(y=0;y<p.length;++y)p[y][m]!=null&&W.push(p[y][m]);if(W.length==0||d[m]==null){T[m]="?";continue}for(y=0;y<W.length;++y){switch(typeof W[y]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=W[y]instanceof Date?"D":"C";break;default:L="C"}F=Math.max(F,String(W[y]).length),j=j&&j!=L?"C":L}F>250&&(F=250),L=((x[m]||{}).DBF||{}).type,L=="C"&&x[m].DBF.len>F&&(F=x[m].DBF.len),j=="B"&&L=="N"&&(j="N",P[m]=x[m].DBF.dec,F=x[m].DBF.len),E[m]=j=="C"||L=="N"?F:a[j]||0,b+=E[m],T[m]=j}var D=h.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*v),D.write_shift(2,b),m=0;m<4;++m)D.write_shift(4,0);for(D.write_shift(4,0|(+e[cR]||3)<<8),m=0,y=0;m<d.length;++m)if(d[m]!=null){var O=h.next(32),q=(d[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,q,"sbcs"),O.write_shift(1,T[m]=="?"?"C":T[m],"sbcs"),O.write_shift(4,y),O.write_shift(1,E[m]||a[T[m]]||0),O.write_shift(1,P[m]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),y+=E[m]||a[T[m]]||0}var I=h.next(264);for(I.write_shift(4,13),m=0;m<65;++m)I.write_shift(4,0);for(m=0;m<p.length;++m){var ae=h.next(b);for(ae.write_shift(1,0),y=0;y<d.length;++y)if(d[y]!=null)switch(T[y]){case"L":ae.write_shift(1,p[m][y]==null?63:p[m][y]?84:70);break;case"B":ae.write_shift(8,p[m][y]||0,"f");break;case"N":var X="0";for(typeof p[m][y]=="number"&&(X=p[m][y].toFixed(P[y]||0)),v=0;v<E[y]-X.length;++v)ae.write_shift(1,32);ae.write_shift(1,X,"sbcs");break;case"D":p[m][y]?(ae.write_shift(4,("0000"+p[m][y].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(p[m][y].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+p[m][y].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var le=String(p[m][y]!=null?p[m][y]:"").slice(0,E[y]);for(ae.write_shift(1,le,"sbcs"),v=0;v<E[y]-le.length;++v)ae.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),$re=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ai(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,p){var x=t[p];return typeof x=="number"?GE(x):x},n=function(d,p,x){var m=p.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return m==59?d:GE(m)};t["|"]=254;function i(d,p){switch(p.type){case"base64":return a(Jl(d),p);case"binary":return a(d,p);case"buffer":return a(Sr&&Buffer.isBuffer(d)?d.toString("binary"):Lg(d),p);case"array":return a(Uy(d),p)}throw new Error("Unrecognized type "+p.type)}function a(d,p){var x=d.split(/[\n\r]+/),m=-1,y=-1,v=0,b=0,S=[],T=[],E=null,P={},j=[],L=[],F=[],W=0,D;for(+p.codepage>=0&&Gm(+p.codepage);v!==x.length;++v){W=0;var O=x[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),q=O.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),I=q[0],ae;if(O.length>0)switch(I){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&T.push(O.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,le=!1,re=!1,ue=!1,ge=-1,Ge=-1;for(b=1;b<q.length;++b)switch(q[b].charAt(0)){case"A":break;case"X":y=parseInt(q[b].slice(1))-1,le=!0;break;case"Y":for(m=parseInt(q[b].slice(1))-1,le||(y=0),D=S.length;D<=m;++D)S[D]=[];break;case"K":ae=q[b].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(Bl(ae))?isNaN(Xm(ae).getDate())||(ae=ia(ae)):(ae=Bl(ae),E!==null&&wR(E)&&(ae=TR(ae))),X=!0;break;case"E":ue=!0;var A=Yne(q[b].slice(1),{r:m,c:y});S[m][y]=[S[m][y],A];break;case"S":re=!0,S[m][y]=[S[m][y],"S5S"];break;case"G":break;case"R":ge=parseInt(q[b].slice(1))-1;break;case"C":Ge=parseInt(q[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}if(X&&(S[m][y]&&S[m][y].length==2?S[m][y][0]=ae:S[m][y]=ae,E=null),re){if(ue)throw new Error("SYLK shared formula cannot have own formula");var M=ge>-1&&S[ge][Ge];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");S[m][y][1]=Xne(M[1],{r:m-ge,c:y-Ge})}break;case"F":var R=0;for(b=1;b<q.length;++b)switch(q[b].charAt(0)){case"X":y=parseInt(q[b].slice(1))-1,++R;break;case"Y":for(m=parseInt(q[b].slice(1))-1,D=S.length;D<=m;++D)S[D]=[];break;case"M":W=parseInt(q[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=T[parseInt(q[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=q[b].slice(1).split(" "),D=parseInt(F[0],10);D<=parseInt(F[1],10);++D)W=parseInt(F[2],10),L[D-1]=W===0?{hidden:!0}:{wch:W},cN(L[D-1]);break;case"C":y=parseInt(q[b].slice(1))-1,L[y]||(L[y]={});break;case"R":m=parseInt(q[b].slice(1))-1,j[m]||(j[m]={}),W>0?(j[m].hpt=W,j[m].hpx=fM(W)):W===0&&(j[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}R<1&&(E=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}}return j.length>0&&(P["!rows"]=j),L.length>0&&(P["!cols"]=L),p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),[S,P]}function s(d,p){var x=i(d,p),m=x[0],y=x[1],v=P0(m,p);return Ai(y).forEach(function(b){v[b]=y[b]}),v}function o(d,p){return Wh(s(d,p),p)}function c(d,p,x,m){var y="C;Y"+(x+1)+";X"+(m+1)+";K";switch(d.t){case"n":y+=d.v||0,d.f&&!d.F&&(y+=";E"+hN(d.f,{r:x,c:m}));break;case"b":y+=d.v?"TRUE":"FALSE";break;case"e":y+=d.w||d.v;break;case"d":y+='"'+(d.w||d.v)+'"';break;case"s":y+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(d,p){p.forEach(function(x,m){var y="F;W"+(m+1)+" "+(m+1)+" ";x.hidden?y+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=E2(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=j2(x.wpx)),typeof x.wch=="number"&&(y+=Math.round(x.wch))),y.charAt(y.length-1)!=" "&&d.push(y)})}function h(d,p){p.forEach(function(x,m){var y="F;";x.hidden?y+="M0;":x.hpt?y+="M"+20*x.hpt+";":x.hpx&&(y+="M"+20*k2(x.hpx)+";"),y.length>2&&d.push(y+"R"+(m+1))})}function f(d,p){var x=["ID;PWXL;N;E"],m=[],y=an(d["!ref"]),v,b=Array.isArray(d),S=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),d["!cols"]&&u(x,d["!cols"]),d["!rows"]&&h(x,d["!rows"]),x.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var T=y.s.r;T<=y.e.r;++T)for(var E=y.s.c;E<=y.e.c;++E){var P=Fr({r:T,c:E});v=b?(d[T]||[])[E]:d[P],!(!v||v.v==null&&(!v.f||v.F))&&m.push(c(v,d,T,E))}return x.join(S)+S+m.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),Kre=function(){function t(a,s){switch(s.type){case"base64":return e(Jl(a),s);case"binary":return e(a,s);case"buffer":return e(Sr&&Buffer.isBuffer(a)?a.toString("binary"):Lg(a),s);case"array":return e(Uy(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),c=-1,u=-1,h=0,f=[];h!==o.length;++h){if(o[h].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var d=o[h].trim().split(","),p=d[0],x=d[1];++h;for(var m=o[h]||"";(m.match(/["]/g)||[]).length&1&&h<o.length-1;)m+=`
`+o[++h];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(Bl(x))?isNaN(Xm(x).getDate())?f[c][u]=x:f[c][u]=ia(x):f[c][u]=Bl(x),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(a,s){return P0(t(a,s),s)}function n(a,s){return Wh(r(a,s),s)}var i=function(){var a=function(c,u,h,f,d){c.push(u),c.push(h+","+f),c.push('"'+d.replace(/"/g,'""')+'"')},s=function(c,u,h,f){c.push(u+","+h),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],h=an(c["!ref"]),f,d=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,h.e.r-h.s.r+1,""),a(u,"TUPLES",0,h.e.c-h.s.c+1,""),a(u,"DATA",0,0,"");for(var p=h.s.r;p<=h.e.r;++p){s(u,-1,0,"BOT");for(var x=h.s.c;x<=h.e.c;++x){var m=Fr({r:p,c:x});if(f=d?(c[p]||[])[x]:c[m],!f){s(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,y,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=wu(f.z||_n[14],Ea(ia(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var v=`\r
`,b=u.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),lM=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var p=f.split(`
`),x=-1,m=-1,y=0,v=[];y!==p.length;++y){var b=p[y].trim().split(":");if(b[0]==="cell"){var S=li(b[1]);if(v.length<=S.r)for(x=v.length;x<=S.r;++x)v[x]||(v[x]=[]);switch(x=S.r,m=S.c,b[2]){case"t":v[x][m]=t(b[3]);break;case"v":v[x][m]=+b[3];break;case"vtf":var T=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[x][m]=!!+b[4];break;default:v[x][m]=+b[4];break}b[2]=="vtf"&&(v[x][m]=[v[x][m],T])}}}return d&&d.sheetRows&&(v=v.slice(0,d.sheetRows)),v}function n(f,d){return P0(r(f,d),d)}function i(f,d){return Wh(n(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],p=[],x,m="",y=os(f["!ref"]),v=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var S=y.s.c;S<=y.e.c;++S)if(m=Fr({r:b,c:S}),x=v?(f[b]||[])[S]:f[m],!(!x||x.v==null||x.t==="z")){switch(p=["cell",m,"t"],x.t){case"s":case"str":p.push(e(x.v));break;case"n":x.f?(p[2]="vtf",p[3]="n",p[4]=x.v,p[5]=e(x.f)):(p[2]="v",p[3]=x.v);break;case"b":p[2]="vt"+(x.f?"f":"c"),p[3]="nl",p[4]=x.v?"1":"0",p[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var T=Ea(ia(x.v));p[2]="vtc",p[3]="nd",p[4]=""+T,p[5]=x.w||wu(x.z||_n[14],T);break;case"e":continue}d.push(p.join(":"))}return d.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function h(f){return[a,s,o,s,u(f),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:h}}(),Qre=function(){function t(h,f,d,p,x){x.raw?f[d][p]=h:h===""||(h==="TRUE"?f[d][p]=!0:h==="FALSE"?f[d][p]=!1:isNaN(Bl(h))?isNaN(Xm(h).getDate())?f[d][p]=h:f[d][p]=ia(h):f[d][p]=Bl(h))}function e(h,f){var d=f||{},p=[];if(!h||h.length===0)return p;for(var x=h.split(/[\r\n]/),m=x.length-1;m>=0&&x[m].length===0;)--m;for(var y=10,v=0,b=0;b<=m;++b)v=x[b].indexOf(" "),v==-1?v=x[b].length:v++,y=Math.max(y,v);for(b=0;b<=m;++b){p[b]=[];var S=0;for(t(x[b].slice(0,y).trim(),p,b,S,d),S=1;S<=(x[b].length-y)/10+1;++S)t(x[b].slice(y+(S-1)*10,y+S*10).trim(),p,b,S,d)}return d.sheetRows&&(p=p.slice(0,d.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(h){for(var f={},d=!1,p=0,x=0;p<h.length;++p)(x=h.charCodeAt(p))==34?d=!d:!d&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p]);if(!x.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p])}return x.sort(function(m,y){return m[0]-y[0]||n[m[1]]-n[y[1]]}),r[x.pop()[1]]||44}function a(h,f){var d=f||{},p="",x=d.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(p=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(p=h.charAt(4),h=h.slice(6)):p=i(h.slice(0,1024)):d&&d.FS?p=d.FS:p=i(h.slice(0,1024));var y=0,v=0,b=0,S=0,T=0,E=p.charCodeAt(0),P=!1,j=0,L=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var F=d.dateNF!=null?dte(d.dateNF):null;function W(){var D=h.slice(S,T),O={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)O.t="z";else if(d.raw)O.t="s",O.v=D;else if(D.trim().length===0)O.t="s",O.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(O.t="s",O.v=D.slice(2,-1).replace(/""/g,'"')):$ne(D)?(O.t="n",O.f=D.slice(1)):(O.t="s",O.v=D);else if(D=="TRUE")O.t="b",O.v=!0;else if(D=="FALSE")O.t="b",O.v=!1;else if(!isNaN(b=Bl(D)))O.t="n",d.cellText!==!1&&(O.w=D),O.v=b;else if(!isNaN(Xm(D).getDate())||F&&D.match(F)){O.z=d.dateNF||_n[14];var q=0;F&&D.match(F)&&(D=pte(D,d.dateNF,D.match(F)||[]),q=1),d.cellDates?(O.t="d",O.v=ia(D,q)):(O.t="n",O.v=Ea(ia(D,q))),d.cellText!==!1&&(O.w=wu(O.z,O.v instanceof Date?Ea(O.v):O.v)),d.cellNF||delete O.z}else O.t="s",O.v=D;if(O.t=="z"||(d.dense?(x[y]||(x[y]=[]),x[y][v]=O):x[Fr({c:v,r:y})]=O),S=T+1,L=h.charCodeAt(S),m.e.c<v&&(m.e.c=v),m.e.r<y&&(m.e.r=y),j==E)++v;else if(v=0,++y,d.sheetRows&&d.sheetRows<=y)return!0}e:for(;T<h.length;++T)switch(j=h.charCodeAt(T)){case 34:L===34&&(P=!P);break;case E:case 10:case 13:if(!P&&W())break e;break}return T-S>0&&W(),x["!ref"]=qn(m),x}function s(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,f):P0(e(h,f),f)}function o(h,f){var d="",p=f.type=="string"?[0,0,0,0]:cle(h,f);switch(f.type){case"base64":d=Jl(h);break;case"binary":d=h;break;case"buffer":f.codepage==65001?d=h.toString("utf8"):f.codepage&&typeof y2<"u"||(d=Sr&&Buffer.isBuffer(h)?h.toString("binary"):Lg(h));break;case"array":d=Uy(h);break;case"string":d=h;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?d=um(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=um(d):f.type=="binary"&&typeof y2<"u",d.slice(0,19)=="socialcalc:version:"?lM.to_sheet(f.type=="string"?d:um(d),f):s(d,f)}function c(h,f){return Wh(o(h,f),f)}function u(h){for(var f=[],d=an(h["!ref"]),p,x=Array.isArray(h),m=d.s.r;m<=d.e.r;++m){for(var y=[],v=d.s.c;v<=d.e.c;++v){var b=Fr({r:m,c:v});if(p=x?(h[m]||[])[v]:h[b],!p||p.v==null){y.push("          ");continue}for(var S=(p.w||(Zl(p),p.w)||"").slice(0,10);S.length<10;)S+=" ";y.push(S+(v===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),_j=function(){function t(A,M,R){if(A){Wa(A,A.l||0);for(var B=R.Enum||ge;A.l<A.length;){var Q=A.read_shift(2),fe=B[Q]||B[65535],he=A.read_shift(2),pe=A.l+he,Te=fe.f&&fe.f(A,he,R);if(A.l=pe,M(Te,fe,Q))return}}}function e(A,M){switch(M.type){case"base64":return r(eo(Jl(A)),M);case"binary":return r(eo(A),M);case"buffer":case"array":return r(A,M)}throw"Unsupported type "+M.type}function r(A,M){if(!A)return A;var R=M||{},B=R.dense?[]:{},Q="Sheet1",fe="",he=0,pe={},Te=[],He=[],Qe={s:{r:0,c:0},e:{r:0,c:0}},et=R.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)R.Enum=ge,t(A,function(je,Ce,Oe){switch(Oe){case 0:R.vers=je,je>=4096&&(R.qpro=!0);break;case 6:Qe=je;break;case 204:je&&(fe=je);break;case 222:fe=je;break;case 15:case 51:R.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:Oe==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=R.dateNF||_n[14],R.cellDates&&(je[1].t="d",je[1].v=TR(je[1].v))),R.qpro&&je[3]>he&&(B["!ref"]=qn(Qe),pe[Q]=B,Te.push(Q),B=R.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},he=je[3],Q=fe||"Sheet"+(he+1),fe="");var Xe=R.dense?(B[je[0].r]||[])[je[0].c]:B[Fr(je[0])];if(Xe){Xe.t=je[1].t,Xe.v=je[1].v,je[1].z!=null&&(Xe.z=je[1].z),je[1].f!=null&&(Xe.f=je[1].f);break}R.dense?(B[je[0].r]||(B[je[0].r]=[]),B[je[0].r][je[0].c]=je[1]):B[Fr(je[0])]=je[1];break}},R);else if(A[2]==26||A[2]==14)R.Enum=Ge,A[2]==14&&(R.qpro=!0,A.l=0),t(A,function(je,Ce,Oe){switch(Oe){case 204:Q=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>he&&(B["!ref"]=qn(Qe),pe[Q]=B,Te.push(Q),B=R.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},he=je[3],Q="Sheet"+(he+1)),et>0&&je[0].r>=et)break;R.dense?(B[je[0].r]||(B[je[0].r]=[]),B[je[0].r][je[0].c]=je[1]):B[Fr(je[0])]=je[1],Qe.e.c<je[0].c&&(Qe.e.c=je[0].c),Qe.e.r<je[0].r&&(Qe.e.r=je[0].r);break;case 27:je[14e3]&&(He[je[14e3][0]]=je[14e3][1]);break;case 1537:He[je[0]]=je[1],je[0]==he&&(Q=je[1]);break}},R);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(B["!ref"]=qn(Qe),pe[fe||Q]=B,Te.push(fe||Q),!He.length)return{SheetNames:Te,Sheets:pe};for(var me={},ce=[],Z=0;Z<He.length;++Z)pe[Te[Z]]?(ce.push(He[Z]||Te[Z]),me[He[Z]]=pe[He[Z]]||pe[Te[Z]]):(ce.push(He[Z]),me[He[Z]]={"!ref":"A1"});return{SheetNames:ce,Sheets:me}}function n(A,M){var R=M||{};if(+R.codepage>=0&&Gm(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var B=Ta(),Q=an(A["!ref"]),fe=Array.isArray(A),he=[];xt(B,0,a(1030)),xt(B,6,c(Q));for(var pe=Math.min(Q.e.r,8191),Te=Q.s.r;Te<=pe;++Te)for(var He=Ti(Te),Qe=Q.s.c;Qe<=Q.e.c;++Qe){Te===Q.s.r&&(he[Qe]=qi(Qe));var et=he[Qe]+He,me=fe?(A[Te]||[])[Qe]:A[et];if(!(!me||me.t=="z"))if(me.t=="n")(me.v|0)==me.v&&me.v>=-32768&&me.v<=32767?xt(B,13,p(Te,Qe,me.v)):xt(B,14,m(Te,Qe,me.v));else{var ce=Zl(me);xt(B,15,f(Te,Qe,ce.slice(0,239)))}}return xt(B,1),B.end()}function i(A,M){var R=M||{};if(+R.codepage>=0&&Gm(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var B=Ta();xt(B,0,s(A));for(var Q=0,fe=0;Q<A.SheetNames.length;++Q)(A.Sheets[A.SheetNames[Q]]||{})["!ref"]&&xt(B,27,ue(A.SheetNames[Q],fe++));var he=0;for(Q=0;Q<A.SheetNames.length;++Q){var pe=A.Sheets[A.SheetNames[Q]];if(!(!pe||!pe["!ref"])){for(var Te=an(pe["!ref"]),He=Array.isArray(pe),Qe=[],et=Math.min(Te.e.r,8191),me=Te.s.r;me<=et;++me)for(var ce=Ti(me),Z=Te.s.c;Z<=Te.e.c;++Z){me===Te.s.r&&(Qe[Z]=qi(Z));var je=Qe[Z]+ce,Ce=He?(pe[me]||[])[Z]:pe[je];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")xt(B,23,W(me,Z,he,Ce.v));else{var Oe=Zl(Ce);xt(B,22,j(me,Z,he,Oe.slice(0,239)))}}++he}}return xt(B,1),B.end()}function a(A){var M=Ke(2);return M.write_shift(2,A),M}function s(A){var M=Ke(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var R=0,B=0,Q=0,fe=0;fe<A.SheetNames.length;++fe){var he=A.SheetNames[fe],pe=A.Sheets[he];if(!(!pe||!pe["!ref"])){++Q;var Te=os(pe["!ref"]);R<Te.e.r&&(R=Te.e.r),B<Te.e.c&&(B=Te.e.c)}}return R>8191&&(R=8191),M.write_shift(2,R),M.write_shift(1,Q),M.write_shift(1,B),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function o(A,M,R){var B={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&R.qpro?(B.s.c=A.read_shift(1),A.l++,B.s.r=A.read_shift(2),B.e.c=A.read_shift(1),A.l++,B.e.r=A.read_shift(2),B):(B.s.c=A.read_shift(2),B.s.r=A.read_shift(2),M==12&&R.qpro&&(A.l+=2),B.e.c=A.read_shift(2),B.e.r=A.read_shift(2),M==12&&R.qpro&&(A.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function c(A){var M=Ke(8);return M.write_shift(2,A.s.c),M.write_shift(2,A.s.r),M.write_shift(2,A.e.c),M.write_shift(2,A.e.r),M}function u(A,M,R){var B=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(B[0].c=A.read_shift(1),B[3]=A.read_shift(1),B[0].r=A.read_shift(2),A.l+=2):(B[2]=A.read_shift(1),B[0].c=A.read_shift(2),B[0].r=A.read_shift(2)),B}function h(A,M,R){var B=A.l+M,Q=u(A,M,R);if(Q[1].t="s",R.vers==20768){A.l++;var fe=A.read_shift(1);return Q[1].v=A.read_shift(fe,"utf8"),Q}return R.qpro&&A.l++,Q[1].v=A.read_shift(B-A.l,"cstr"),Q}function f(A,M,R){var B=Ke(7+R.length);B.write_shift(1,255),B.write_shift(2,M),B.write_shift(2,A),B.write_shift(1,39);for(var Q=0;Q<B.length;++Q){var fe=R.charCodeAt(Q);B.write_shift(1,fe>=128?95:fe)}return B.write_shift(1,0),B}function d(A,M,R){var B=u(A,M,R);return B[1].v=A.read_shift(2,"i"),B}function p(A,M,R){var B=Ke(7);return B.write_shift(1,255),B.write_shift(2,M),B.write_shift(2,A),B.write_shift(2,R,"i"),B}function x(A,M,R){var B=u(A,M,R);return B[1].v=A.read_shift(8,"f"),B}function m(A,M,R){var B=Ke(13);return B.write_shift(1,255),B.write_shift(2,M),B.write_shift(2,A),B.write_shift(8,R,"f"),B}function y(A,M,R){var B=A.l+M,Q=u(A,M,R);if(Q[1].v=A.read_shift(8,"f"),R.qpro)A.l=B;else{var fe=A.read_shift(2);T(A.slice(A.l,A.l+fe),Q),A.l+=fe}return Q}function v(A,M,R){var B=M&32768;return M&=-32769,M=(B?A:0)+(M>=8192?M-16384:M),(B?"":"$")+(R?qi(M):Ti(M))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(A,M){Wa(A,0);for(var R=[],B=0,Q="",fe="",he="",pe="";A.l<A.length;){var Te=A[A.l++];switch(Te){case 0:R.push(A.read_shift(8,"f"));break;case 1:fe=v(M[0].c,A.read_shift(2),!0),Q=v(M[0].r,A.read_shift(2),!1),R.push(fe+Q);break;case 2:{var He=v(M[0].c,A.read_shift(2),!0),Qe=v(M[0].r,A.read_shift(2),!1);fe=v(M[0].c,A.read_shift(2),!0),Q=v(M[0].r,A.read_shift(2),!1),R.push(He+Qe+":"+fe+Q)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(A.read_shift(2));break;case 6:{for(var et="";Te=A[A.l++];)et+=String.fromCharCode(Te);R.push('"'+et.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:pe=R.pop(),he=R.pop(),R.push(["AND","OR"][Te-20]+"("+he+","+pe+")");break;default:if(Te<32&&S[Te])pe=R.pop(),he=R.pop(),R.push(he+S[Te]+pe);else if(b[Te]){if(B=b[Te][1],B==69&&(B=A[A.l++]),B>R.length){console.error("WK1 bad formula parse 0x"+Te.toString(16)+":|"+R.join("|")+"|");return}var me=R.slice(-B);R.length-=B,R.push(b[Te][0]+"("+me.join(",")+")")}else return Te<=7?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=24?console.error("WK1 unsupported op "+Te.toString(16)):Te<=30?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=115?console.error("WK1 unsupported function opcode "+Te.toString(16)):console.error("WK1 unrecognized opcode "+Te.toString(16))}}R.length==1?M[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function E(A){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=A.read_shift(2),M[3]=A[A.l++],M[0].c=A[A.l++],M}function P(A,M){var R=E(A);return R[1].t="s",R[1].v=A.read_shift(M-4,"cstr"),R}function j(A,M,R,B){var Q=Ke(6+B.length);Q.write_shift(2,A),Q.write_shift(1,R),Q.write_shift(1,M),Q.write_shift(1,39);for(var fe=0;fe<B.length;++fe){var he=B.charCodeAt(fe);Q.write_shift(1,he>=128?95:he)}return Q.write_shift(1,0),Q}function L(A,M){var R=E(A);R[1].v=A.read_shift(2);var B=R[1].v>>1;if(R[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return R[1].v=B,R}function F(A,M){var R=E(A),B=A.read_shift(4),Q=A.read_shift(4),fe=A.read_shift(2);if(fe==65535)return B===0&&Q===3221225472?(R[1].t="e",R[1].v=15):B===0&&Q===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var he=fe&32768;return fe=(fe&32767)-16446,R[1].v=(1-he*2)*(Q*Math.pow(2,fe+32)+B*Math.pow(2,fe)),R}function W(A,M,R,B){var Q=Ke(14);if(Q.write_shift(2,A),Q.write_shift(1,R),Q.write_shift(1,M),B==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var fe=0,he=0,pe=0,Te=0;return B<0&&(fe=1,B=-B),he=Math.log2(B)|0,B/=Math.pow(2,he-31),Te=B>>>0,Te&2147483648||(B/=2,++he,Te=B>>>0),B-=Te,Te|=2147483648,Te>>>=0,B*=Math.pow(2,32),pe=B>>>0,Q.write_shift(4,pe),Q.write_shift(4,Te),he+=16383+(fe?32768:0),Q.write_shift(2,he),Q}function D(A,M){var R=F(A);return A.l+=M-14,R}function O(A,M){var R=E(A),B=A.read_shift(4);return R[1].v=B>>6,R}function q(A,M){var R=E(A),B=A.read_shift(8,"f");return R[1].v=B,R}function I(A,M){var R=q(A);return A.l+=M-10,R}function ae(A,M){return A[A.l+M-1]==0?A.read_shift(M,"cstr"):""}function X(A,M){var R=A[A.l++];R>M-1&&(R=M-1);for(var B="";B.length<R;)B+=String.fromCharCode(A[A.l++]);return B}function le(A,M,R){if(!(!R.qpro||M<21)){var B=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var Q=A.read_shift(M-21,"cstr");return[B,Q]}}function re(A,M){for(var R={},B=A.l+M;A.l<B;){var Q=A.read_shift(2);if(Q==14e3){for(R[Q]=[0,""],R[Q][0]=A.read_shift(2);A[A.l];)R[Q][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return R}function ue(A,M){var R=Ke(5+A.length);R.write_shift(2,14e3),R.write_shift(2,M);for(var B=0;B<A.length;++B){var Q=A.charCodeAt(B);R[R.l++]=Q>127?95:Q}return R[R.l++]=0,R}var ge={0:{n:"BOF",f:nM},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},Ge={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:I},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),Jre=/^\s|\s$|[\t\n\r]/;function cM(t,e){if(!e.bookSST)return"";var r=[Vn];r[r.length]=gt("sst",null,{xmlns:D0[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Jre)&&(a+=' xml:space="preserve"'),a+=">"+Mr(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Zre(t){return[t.read_shift(4),t.read_shift(4)]}function ene(t,e){return e||(e=Ke(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var tne=Wte;function rne(t){var e=Ta();ot(e,159,ene(t));for(var r=0;r<t.length;++r)ot(e,19,tne(t[r]));return ot(e,160),e.end()}function nne(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function uM(t){var e=0,r,n=nne(t),i=n.length+1,a,s,o,c,u;for(r=Oh(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=e&16384?1:0,c=e<<1&32767,u=o|c,e=u^s;return e^52811}var ine=function(){function t(i,a){switch(a.type){case"base64":return e(Jl(i),a);case"binary":return e(i,a);case"buffer":return e(Sr&&Buffer.isBuffer(i)?i.toString("binary"):Lg(i),a);case"array":return e(Uy(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,p=0,x,m=-1;x=d.exec(h);){switch(x[0]){case"\\cell":var y=h.slice(p,d.lastIndex-x[0].length);if(y[0]==" "&&(y=y.slice(1)),++m,y.length){var v={v:y,t:"s"};Array.isArray(o)?o[f][m]=v:o[Fr({r:f,c:m})]=v}break}p=d.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=qn(u),o}function r(i,a){return Wh(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=an(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var f=Fr({r:u,c:h});o=c?(i[u]||[])[h]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Zl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Nj(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var ane=6,zl=ane;function E2(t){return Math.floor((t+Math.round(128/zl)/256)*zl)}function j2(t){return Math.floor((t-5)/zl*100+.5)/100}function L4(t){return Math.round((t*zl+5)/zl*256)/256}function cN(t){t.width?(t.wpx=E2(t.width),t.wch=j2(t.wpx),t.MDW=zl):t.wpx?(t.wch=j2(t.wpx),t.width=L4(t.wch),t.MDW=zl):typeof t.wch=="number"&&(t.width=L4(t.wch),t.wpx=E2(t.width),t.MDW=zl),t.customWidth&&delete t.customWidth}var sne=96,hM=sne;function k2(t){return t*96/hM}function fM(t){return t*hM/96}function one(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=gt("numFmt",null,{numFmtId:n,formatCode:Mr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=gt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function lne(t){var e=[];return e[e.length]=gt("cellXfs",null),t.forEach(function(r){e[e.length]=gt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=gt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function dM(t,e){var r=[Vn,gt("styleSheet",null,{xmlns:D0[0],"xmlns:vt":si.vt})],n;return t.SSF&&(n=one(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=lne(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function cne(t,e){var r=t.read_shift(2),n=Vi(t);return[r,n]}function une(t,e,r){r||(r=Ke(6+4*e.length)),r.write_shift(2,t),ci(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function hne(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=Jte(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=Qte(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Vi(t),n}function fne(t,e){e||(e=Ke(25+4*32)),e.write_shift(2,t.sz*20),Zte(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),C2(t.color,e);var n=0;return n=2,e.write_shift(1,n),ci(t.name,e),e.length>e.l?e.slice(0,e.l):e}var dne=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],e5,pne=Jo;function Tj(t,e){e||(e=Ke(4*3+8*7+16*1)),e5||(e5=Q_(dne));var r=e5[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(C2({auto:1},e),C2({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function mne(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function pM(t,e,r){r||(r=Ke(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Op(t,e){return e||(e=Ke(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var gne=Jo;function xne(t,e){return e||(e=Ke(51)),e.write_shift(1,0),Op(null,e),Op(null,e),Op(null,e),Op(null,e),Op(null,e),e.length>e.l?e.slice(0,e.l):e}function vne(t,e){return e||(e=Ke(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),T2(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function yne(t,e,r){var n=Ke(2052);return n.write_shift(4,t),T2(e,n),T2(r,n),n.length>n.l?n.slice(0,n.l):n}function bne(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ot(t,615,oo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ot(t,44,une(i,e[i]))}),ot(t,616))}}function wne(t){var e=1;ot(t,611,oo(e)),ot(t,43,fne({sz:12,color:{theme:1},name:"Calibri",family:2})),ot(t,612)}function Sne(t){var e=2;ot(t,603,oo(e)),ot(t,45,Tj({patternType:"none"})),ot(t,45,Tj({patternType:"gray125"})),ot(t,604)}function _ne(t){var e=1;ot(t,613,oo(e)),ot(t,46,xne()),ot(t,614)}function Nne(t){var e=1;ot(t,626,oo(e)),ot(t,47,pM({numFmtId:0},65535)),ot(t,627)}function Tne(t,e){ot(t,617,oo(e.length)),e.forEach(function(r){ot(t,47,pM(r,0))}),ot(t,618)}function Cne(t){var e=1;ot(t,619,oo(e)),ot(t,48,vne({xfId:0,name:"Normal"})),ot(t,620)}function Ane(t){var e=0;ot(t,505,oo(e)),ot(t,506)}function Ene(t){var e=0;ot(t,508,yne(e,"TableStyleMedium9","PivotStyleMedium4")),ot(t,509)}function jne(t,e){var r=Ta();return ot(r,278),bne(r,t.SSF),wne(r),Sne(r),_ne(r),Nne(r),Tne(r,e.cellXfs),Cne(r),Ane(r),Ene(r),ot(r,279),r.end()}function mM(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Vn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function kne(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Vi(t)}}function One(t){var e=Ke(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),ci(t.name,e),e.slice(0,e.l)}function Lne(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Dne(t){var e=Ke(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Pne(t,e){var r=Ke(8+2*e.length);return r.write_shift(4,t),ci(e,r),r.slice(0,r.l)}function Rne(t){return t.l+=4,t.read_shift(4)!=0}function Mne(t,e){var r=Ke(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Fne(){var t=Ta();return ot(t,332),ot(t,334,oo(1)),ot(t,335,One({name:"XLDAPR",version:12e4,flags:3496657072})),ot(t,336),ot(t,339,Pne(1,"XLDAPR")),ot(t,52),ot(t,35,oo(514)),ot(t,4096,oo(0)),ot(t,4097,ys(1)),ot(t,36),ot(t,53),ot(t,340),ot(t,337,Mne(1)),ot(t,51,Dne([[1,0]])),ot(t,338),ot(t,333),t.end()}function gM(){var t=[Vn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Ine(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Fr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var id=1024;function xM(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[gt("xml",null,{"xmlns:v":Xa.v,"xmlns:o":Xa.o,"xmlns:x":Xa.x,"xmlns:mv":Xa.mv}).replace(/\/>/,">"),gt("o:shapelayout",gt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),gt("v:shapetype",[gt("v:stroke",null,{joinstyle:"miter"}),gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];id<t*1e3;)id+=1e3;return e.forEach(function(a){var s=li(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=gt("v:fill",c,o),h={on:"t",obscured:"t"};++id,i=i.concat(["<v:shape"+Km({id:"_x0000_s"+id,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,gt("v:shadow",null,h),gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",wi("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),wi("x:AutoFill","False"),wi("x:Row",String(s.r)),wi("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function vM(t){var e=[Vn,gt("comments",null,{xmlns:D0[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Mr(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(Mr(c.a))),a.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(wi("t",Mr(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(wi("t",Mr(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Bne(t,e,r){var n=[Vn,gt("ThreadedComments",null,{xmlns:si.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(gt("threadedComment",wi("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function zne(t){var e=[Vn,gt("personList",null,{xmlns:si.TCMNT,"xmlns:x":D0[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(gt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Une(t){var e={};e.iauthor=t.read_shift(4);var r=$h(t);return e.rfx=r.s,e.ref=Fr(r.s),t.l+=16,e}function Hne(t,e){return e==null&&(e=Ke(36)),e.write_shift(4,t[1].iauthor),R0(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var qne=Vi;function Vne(t){return ci(t.slice(0,54))}function Wne(t){var e=Ta(),r=[];return ot(e,628),ot(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ot(e,632,Vne(i.a)))})}),ot(e,631),ot(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:li(n[0]),e:li(n[0])};ot(e,635,Hne([a,i])),i.t&&i.t.length>0&&ot(e,637,Yte(i)),ot(e,636),delete i.iauthor})}),ot(e,634),ot(e,629),e.end()}function Gne(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&qr.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var yM=["xlsb","xlsm","xlam","biff8","xla"],Yne=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return o?h+=e.c:--h,c?u+=e.r:--u,i+(o?"":"$")+qi(h)+(c?"":"$")+Ti(u)}return function(i,a){return e=a,i.replace(t,r)}}(),uN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hN=function(){return function(e,r){return e.replace(uN,function(n,i,a,s,o,c){var u=iN(s)-(a?0:r.c),h=nN(c)-(o?0:r.r),f=h==0?"":o?h+1:"["+h+"]",d=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+d})}}();function Xne(t,e){return t.replace(uN,function(r,n,i,a,s,o){return n+(i=="$"?i+a:qi(iN(a)+e.c))+(s=="$"?s+o:Ti(nN(o)+e.r))})}function $ne(t){return t.length!=1}function In(t){t.l+=1}function Su(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function bM(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return wM(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=Su(t),o=Su(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function wM(t){var e=Su(t),r=Su(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Kne(t,e,r){if(r.biff<8)return wM(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=Su(t),s=Su(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function SM(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Qne(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Su(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Qne(t){var e=Su(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Jne(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Zne(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return eie(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function eie(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function tie(t,e,r){var n=(t[t.l++]&96)>>5,i=bM(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function rie(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=bM(t,a,r);return[n,i,s]}function nie(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function iie(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function aie(t,e,r){var n=(t[t.l++]&96)>>5,i=Kne(t,e-1,r);return[n,i]}function sie(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Cj(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function oie(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function lie(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function cie(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function uie(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function hie(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function _M(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function fie(t){return t.read_shift(2),_M(t)}function die(t){return t.read_shift(2),_M(t)}function pie(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=SM(t,0,r);return[n,i]}function mie(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Zne(t,0,r);return[n,i]}function gie(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=SM(t,0,r);return[n,i,a]}function xie(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[xae[i],CM[i],n]}function vie(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:yie(t);return[i,(a[0]===0?CM:gae)[a[1]]]}function yie(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function bie(t,e,r){t.l+=r&&r.biff==2?3:4}function wie(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Sie(t){return t.l++,Rg[t.read_shift(1)]}function _ie(t){return t.l++,t.read_shift(2)}function Nie(t){return t.l++,t.read_shift(1)!==0}function Tie(t){return t.l++,M0(t)}function Cie(t,e,r){return t.l++,aM(t,e-1,r)}function Aie(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=gre(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Rg[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=M0(t);break;case 2:r[1]=bre(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Eie(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?$h:_re)(t));return i}function jie(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=Aie(t,r.biff);return s}function kie(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function Oie(t,e,r){if(r.biff==5)return Lie(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function Lie(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Die(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Pie(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Rie(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Mie(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var Fie=Jo,Iie=Jo,Bie=Jo;function Mg(t,e,r){return t.l+=2,[Jne(t)]}function fN(t){return t.l+=6,[]}var zie=Mg,Uie=fN,Hie=fN,qie=Mg;function NM(t){return t.l+=2,[nM(t),t.read_shift(2)&1]}var Vie=Mg,Wie=NM,Gie=fN,Yie=Mg,Xie=Mg,$ie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Kie(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=$ie[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function Qie(t){return t.l+=2,[t.read_shift(4)]}function Jie(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Zie(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function eae(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function tae(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function rae(t){return t.l+=4,[0,0]}var Aj={1:{n:"PtgExp",f:wie},2:{n:"PtgTbl",f:Bie},3:{n:"PtgAdd",f:In},4:{n:"PtgSub",f:In},5:{n:"PtgMul",f:In},6:{n:"PtgDiv",f:In},7:{n:"PtgPower",f:In},8:{n:"PtgConcat",f:In},9:{n:"PtgLt",f:In},10:{n:"PtgLe",f:In},11:{n:"PtgEq",f:In},12:{n:"PtgGe",f:In},13:{n:"PtgGt",f:In},14:{n:"PtgNe",f:In},15:{n:"PtgIsect",f:In},16:{n:"PtgUnion",f:In},17:{n:"PtgRange",f:In},18:{n:"PtgUplus",f:In},19:{n:"PtgUminus",f:In},20:{n:"PtgPercent",f:In},21:{n:"PtgParen",f:In},22:{n:"PtgMissArg",f:In},23:{n:"PtgStr",f:Cie},26:{n:"PtgSheet",f:Jie},27:{n:"PtgEndSheet",f:Zie},28:{n:"PtgErr",f:Sie},29:{n:"PtgBool",f:Nie},30:{n:"PtgInt",f:_ie},31:{n:"PtgNum",f:Tie},32:{n:"PtgArray",f:sie},33:{n:"PtgFunc",f:xie},34:{n:"PtgFuncVar",f:vie},35:{n:"PtgName",f:kie},36:{n:"PtgRef",f:pie},37:{n:"PtgArea",f:tie},38:{n:"PtgMemArea",f:Die},39:{n:"PtgMemErr",f:Fie},40:{n:"PtgMemNoMem",f:Iie},41:{n:"PtgMemFunc",f:Pie},42:{n:"PtgRefErr",f:Rie},43:{n:"PtgAreaErr",f:nie},44:{n:"PtgRefN",f:mie},45:{n:"PtgAreaN",f:aie},46:{n:"PtgMemAreaN",f:eae},47:{n:"PtgMemNoMemN",f:tae},57:{n:"PtgNameX",f:Oie},58:{n:"PtgRef3d",f:gie},59:{n:"PtgArea3d",f:rie},60:{n:"PtgRefErr3d",f:Mie},61:{n:"PtgAreaErr3d",f:iie},255:{}},nae={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iae={1:{n:"PtgElfLel",f:NM},2:{n:"PtgElfRw",f:Yie},3:{n:"PtgElfCol",f:zie},6:{n:"PtgElfRwV",f:Xie},7:{n:"PtgElfColV",f:qie},10:{n:"PtgElfRadical",f:Vie},11:{n:"PtgElfRadicalS",f:Gie},13:{n:"PtgElfColS",f:Uie},15:{n:"PtgElfColSV",f:Hie},16:{n:"PtgElfRadicalLel",f:Wie},25:{n:"PtgList",f:Kie},29:{n:"PtgSxName",f:Qie},255:{}},aae={0:{n:"PtgAttrNoop",f:rae},1:{n:"PtgAttrSemi",f:hie},2:{n:"PtgAttrIf",f:cie},4:{n:"PtgAttrChoose",f:oie},8:{n:"PtgAttrGoto",f:lie},16:{n:"PtgAttrSum",f:bie},32:{n:"PtgAttrBaxcel",f:Cj},33:{n:"PtgAttrBaxcel",f:Cj},64:{n:"PtgAttrSpace",f:fie},65:{n:"PtgAttrSpaceSemi",f:die},128:{n:"PtgAttrIfError",f:uie},255:{}};function sae(t,e,r,n){if(n.biff<8)return Jo(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=jie(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Eie(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(Jo(t,e)),a}function oae(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=Aj[a]||Aj[nae[a]],(a===24||a===25)&&(i=(a===24?iae:aae)[t[t.l+1]]),!i||!i.f?Jo(t,e):s.push([i.n,i.f(t,e,r)]);return s}function lae(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var cae={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function uae(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function TM(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ej(t,e,r){var n=TM(t,e,r);return n=="#REF"?n:uae(n,r)}function u0(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,h,f=0,d=0,p,x="";if(!t[0]||!t[0][0])return"";for(var m=-1,y="",v=0,b=t[0].length;v<b;++v){var S=t[0][v];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),m>=0){switch(t[0][m][1][0]){case 0:y=wn(" ",t[0][m][1][1]);break;case 1:y=wn("\r",t[0][m][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}u=u+y,m=-1}o.push(u+cae[S[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=fm(S[1][1],s,i),o.push(dm(h,a));break;case"PtgRefN":h=r?fm(S[1][1],r,i):S[1][1],o.push(dm(h,a));break;case"PtgRef3d":f=S[1][1],h=fm(S[1][2],s,i),x=Ej(n,f,i),o.push(x+"!"+dm(h,a));break;case"PtgFunc":case"PtgFuncVar":var T=S[1][0],E=S[1][1];T||(T=0),T&=127;var P=T==0?[]:o.slice(-T);o.length-=T,E==="User"&&(E=P.shift()),o.push(E+"("+P.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":p=fj(S[1][1],r?{s:r}:s,i),o.push(Jw(p,i));break;case"PtgArea":p=fj(S[1][1],s,i),o.push(Jw(p,i));break;case"PtgArea3d":f=S[1][1],p=S[1][2],x=Ej(n,f,i),o.push(x+"!"+Jw(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=S[1][2];var j=(n.names||[])[d-1]||(n[0]||[])[d],L=j?j.Name:"SH33TJSNAME"+String(d);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var F=S[1][1];d=S[1][2];var W;if(i.biff<=5)F<0&&(F=-F),n[F]&&(W=n[F][d]);else{var D="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][d]&&n[F][d].itab>0&&(D=n.SheetNames[n[F][d].itab-1]+"!"):D=n.SheetNames[d-1]+"!"),n[F]&&n[F][d])D+=n[F][d].Name;else if(n[0]&&n[0][d])D+=n[0][d].Name;else{var O=(TM(n,F,i)||"").split(";;");O[d-1]?D=O[d-1]:D+="SH33TJSERRX"}o.push(D);break}W||(W={Name:"SH33TJSERRY"}),o.push(W.Name);break;case"PtgParen":var q="(",I=")";if(m>=0){switch(y="",t[0][m][1][0]){case 2:q=wn(" ",t[0][m][1][1])+q;break;case 3:q=wn("\r",t[0][m][1][1])+q;break;case 4:I=wn(" ",t[0][m][1][1])+I;break;case 5:I=wn("\r",t[0][m][1][1])+I;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}m=-1}o.push(q+o.pop()+I);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:S[1][1],r:S[1][0]};var ae={c:r.c,r:r.r};if(n.sharedf[Fr(h)]){var X=n.sharedf[Fr(h)];o.push(u0(X,s,ae,n,i))}else{var le=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){o.push(u0(u[1],s,ae,n,i)),le=!0;break}le||o.push(S[1])}break;case"PtgArray":o.push("{"+lae(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&re.indexOf(t[0][v][0])==-1){S=t[0][m];var ue=!0;switch(S[1][0]){case 4:ue=!1;case 0:y=wn(" ",S[1][1]);break;case 5:ue=!1;case 1:y=wn("\r",S[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((ue?y:"")+o.pop()+(ue?"":y)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function hae(t){if(t==null){var e=Ke(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Lh(t);return Lh(0)}function fae(t,e,r,n,i){var a=Dh(e,r,i),s=hae(t.v),o=Ke(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=Ke(t.bf.length),h=0;h<t.bf.length;++h)u[h]=t.bf[h];var f=bi([a,s,o,u]);return f}function Hy(t,e,r){var n=t.read_shift(4),i=oae(t,n,r),a=t.read_shift(4),s=a>0?sae(t,a,i,r):null;return[i,s]}var dae=Hy,qy=Hy,pae=Hy,mae=Hy,gae={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},CM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},xae={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vae(t){var e="of:="+t.replace(uN,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function yae(t){return t.replace(/\./,"!")}var pm=typeof Map<"u";function dN(t,e,r){var n=0,i=t.length;if(r){if(pm?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=pm?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(pm?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function Vy(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(zl=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=j2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=L4(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function AM(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Eu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){SR(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function bae(t,e,r){if(t&&t["!ref"]){var n=an(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function wae(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+qn(t[r])+'"/>';return e+"</mergeCells>"}function Sae(t,e,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,s.codeName=$m(Mr(c))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+gt("outlinePr",null,u)}!a&&!o||(i[i.length]=gt("sheetPr",o,s))}var _ae=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nae=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Tae(t){var e={sheet:1};return _ae.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),Nae.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=uM(t.password).toString(16).toUpperCase()),gt("sheetProtection",null,e)}function Cae(t){return AM(t),gt("pageMargins",null,t)}function Aae(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=gt("col",null,Vy(i,n)));return r[r.length]="</cols>",r.join("")}function Eae(t,e,r,n){var i=typeof t.ref=="string"?t.ref:qn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=os(i);s.s.r==s.e.r&&(s.e.r=os(e["!ref"]).e.r,i=qn(s));for(var o=0;o<a.length;++o){var c=a[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),gt("autoFilter",null,{ref:i})}function jae(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),gt("sheetViews",gt("sheetView",null,i),{})}function kae(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Rg[t.v];break;case"d":n&&n.cellDates?i=ia(t.v,-1).toISOString():(t=ja(t),t.t="n",i=""+(t.v=Ea(ia(t.v)))),typeof t.z>"u"&&(t.z=_n[14]);break;default:i=t.v;break}var o=wi("v",Mr(i)),c={r:e},u=Eu(n.cellXfs,t,n);switch(u!==0&&(c.s=u),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=wi("v",""+dN(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=gt("f",Mr(t.f),h)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),gt("c",o,c)}function Oae(t,e,r,n){var i=[],a=[],s=an(t["!ref"]),o="",c,u="",h=[],f=0,d=0,p=t["!rows"],x=Array.isArray(t),m={r:u},y,v=-1;for(d=s.s.c;d<=s.e.c;++d)h[d]=qi(d);for(f=s.s.r;f<=s.e.r;++f){for(a=[],u=Ti(f),d=s.s.c;d<=s.e.c;++d){c=h[d]+u;var b=x?(t[f]||[])[d]:t[c];b!==void 0&&(o=kae(b,c,t,e))!=null&&a.push(o)}(a.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(y=p[f],y.hidden&&(m.hidden=1),v=-1,y.hpx?v=k2(y.hpx):y.hpt&&(v=y.hpt),v>-1&&(m.ht=v,m.customHeight=1),y.level&&(m.outlineLevel=y.level)),i[i.length]=gt("row",a.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},y=p[f],y.hidden&&(m.hidden=1),v=-1,y.hpx?v=k2(y.hpx):y.hpt&&(v=y.hpt),v>-1&&(m.ht=v,m.customHeight=1),y.level&&(m.outlineLevel=y.level),i[i.length]=gt("row","",m));return i.join("")}function EM(t,e,r,n){var i=[Vn,gt("worksheet",null,{xmlns:D0[0],"xmlns:r":si.r})],a=r.SheetNames[t],s=0,o="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",h=an(u);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=qn(h)}n||(n={}),c["!comments"]=[];var f=[];Sae(c,r,t,e,i),i[i.length]=gt("dimension",null,{ref:u}),i[i.length]=jae(c,e,t,r),e.sheetFormat&&(i[i.length]=gt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=Aae(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Oae(c,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=Tae(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=Eae(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=wae(c["!merges"]));var d=-1,p,x=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(x=Dr(n,-1,Mr(m[1].Target).replace(/#.*$/,""),br.HLINK),p["r:id"]="rId"+x),(d=m[1].Target.indexOf("#"))>-1&&(p.location=Mr(m[1].Target.slice(d+1))),m[1].Tooltip&&(p.tooltip=Mr(m[1].Tooltip)),i[i.length]=gt("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Cae(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=wi("ignoredErrors",gt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=Dr(n,-1,"../drawings/drawing"+(t+1)+".xml",br.DRAW),i[i.length]=gt("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Dr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",br.VML),i[i.length]=gt("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Lae(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function Dae(t,e,r){var n=Ke(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=k2(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var f=-1,d=-1,p=h<<10;p<h+1<<10;++p){u.c=p;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Fr(u)];x&&(f<0&&(f=p),d=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var m=n.l;return n.l=c,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function Pae(t,e,r,n){var i=Dae(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ot(t,0,i)}var Rae=$h,Mae=R0;function Fae(){}function Iae(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=Xte(t),r}function Bae(t,e,r){r==null&&(r=Ke(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return C2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),qR(t,r),r.slice(0,r.l)}function zae(t){var e=Ds(t);return[e]}function Uae(t,e,r){return r==null&&(r=Ke(8)),Gh(e,r)}function Hae(t){var e=Yh(t);return[e]}function qae(t,e,r){return r==null&&(r=Ke(4)),Xh(e,r)}function Vae(t){var e=Ds(t),r=t.read_shift(1);return[e,r,"b"]}function Wae(t,e,r){return r==null&&(r=Ke(9)),Gh(e,r),r.write_shift(1,t.v?1:0),r}function Gae(t){var e=Yh(t),r=t.read_shift(1);return[e,r,"b"]}function Yae(t,e,r){return r==null&&(r=Ke(5)),Xh(e,r),r.write_shift(1,t.v?1:0),r}function Xae(t){var e=Ds(t),r=t.read_shift(1);return[e,r,"e"]}function $ae(t,e,r){return r==null&&(r=Ke(9)),Gh(e,r),r.write_shift(1,t.v),r}function Kae(t){var e=Yh(t),r=t.read_shift(1);return[e,r,"e"]}function Qae(t,e,r){return r==null&&(r=Ke(8)),Xh(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Jae(t){var e=Ds(t),r=t.read_shift(4);return[e,r,"s"]}function Zae(t,e,r){return r==null&&(r=Ke(12)),Gh(e,r),r.write_shift(4,e.v),r}function ese(t){var e=Yh(t),r=t.read_shift(4);return[e,r,"s"]}function tse(t,e,r){return r==null&&(r=Ke(8)),Xh(e,r),r.write_shift(4,e.v),r}function rse(t){var e=Ds(t),r=M0(t);return[e,r,"n"]}function nse(t,e,r){return r==null&&(r=Ke(16)),Gh(e,r),Lh(t.v,r),r}function ise(t){var e=Yh(t),r=M0(t);return[e,r,"n"]}function ase(t,e,r){return r==null&&(r=Ke(12)),Xh(e,r),Lh(t.v,r),r}function sse(t){var e=Ds(t),r=VR(t);return[e,r,"n"]}function ose(t,e,r){return r==null&&(r=Ke(12)),Gh(e,r),WR(t.v,r),r}function lse(t){var e=Yh(t),r=VR(t);return[e,r,"n"]}function cse(t,e,r){return r==null&&(r=Ke(8)),Xh(e,r),WR(t.v,r),r}function use(t){var e=Ds(t),r=aN(t);return[e,r,"is"]}function hse(t){var e=Ds(t),r=Vi(t);return[e,r,"str"]}function fse(t,e,r){return r==null&&(r=Ke(12+4*t.v.length)),Gh(e,r),ci(t.v,r),r.length>r.l?r.slice(0,r.l):r}function dse(t){var e=Yh(t),r=Vi(t);return[e,r,"str"]}function pse(t,e,r){return r==null&&(r=Ke(8+4*t.v.length)),Xh(e,r),ci(t.v,r),r.length>r.l?r.slice(0,r.l):r}function mse(t,e,r){var n=t.l+e,i=Ds(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var o=qy(t,n-t.l,r);s[3]=u0(o,null,i,r.supbooks,r)}else t.l=n;return s}function gse(t,e,r){var n=t.l+e,i=Ds(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var o=qy(t,n-t.l,r);s[3]=u0(o,null,i,r.supbooks,r)}else t.l=n;return s}function xse(t,e,r){var n=t.l+e,i=Ds(t);i.r=r["!row"];var a=M0(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var o=qy(t,n-t.l,r);s[3]=u0(o,null,i,r.supbooks,r)}else t.l=n;return s}function vse(t,e,r){var n=t.l+e,i=Ds(t);i.r=r["!row"];var a=Vi(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var o=qy(t,n-t.l,r);s[3]=u0(o,null,i,r.supbooks,r)}else t.l=n;return s}var yse=$h,bse=R0;function wse(t,e){return e==null&&(e=Ke(4)),e.write_shift(4,t),e}function Sse(t,e){var r=t.l+e,n=$h(t),i=sN(t),a=Vi(t),s=Vi(t),o=Vi(t);t.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function _se(t,e){var r=Ke(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));R0({s:li(t[0]),e:li(t[0])},r),oN("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return ci(i||"",r),ci(t[1].Tooltip||"",r),ci("",r),r.slice(0,r.l)}function Nse(){}function Tse(t,e,r){var n=t.l+e,i=GR(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=dae(t,n-t.l,r);s[1]=o}else t.l=n;return s}function Cse(t,e,r){var n=t.l+e,i=$h(t),a=[i];if(r.cellFormula){var s=mae(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}function Ase(t,e,r){r==null&&(r=Ke(18));var n=Vy(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var jM=["left","right","top","bottom","header","footer"];function Ese(t){var e={};return jM.forEach(function(r){e[r]=M0(t)}),e}function jse(t,e){return e==null&&(e=Ke(6*8)),AM(t),jM.forEach(function(r){Lh(t[r],e)}),e}function kse(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Ose(t,e,r){r==null&&(r=Ke(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Lse(t){var e=Ke(24);return e.write_shift(4,4),e.write_shift(4,1),R0(t,e),e}function Dse(t,e){return e==null&&(e=Ke(16*4+2)),e.write_shift(2,t.password?uM(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Pse(){}function Rse(){}function Mse(t,e,r,n,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=ja(e),e.z=e.z||_n[14],e.v=Ea(ia(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var c={r,c:n};switch(c.s=Eu(i.cellXfs,e,i),e.l&&a["!links"].push([Fr(c),e.l]),e.c&&a["!comments"].push([Fr(c),e.c]),e.t){case"s":case"str":return i.bookSST?(o=dN(i.Strings,e.v,i.revStrings),c.t="s",c.v=o,s?ot(t,18,tse(e,c)):ot(t,7,Zae(e,c))):(c.t="str",s?ot(t,17,pse(e,c)):ot(t,6,fse(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?ot(t,13,cse(e,c)):ot(t,2,ose(e,c)):s?ot(t,16,ase(e,c)):ot(t,5,nse(e,c)),!0;case"b":return c.t="b",s?ot(t,15,Yae(e,c)):ot(t,4,Wae(e,c)),!0;case"e":return c.t="e",s?ot(t,14,Qae(e,c)):ot(t,3,$ae(e,c)),!0}return s?ot(t,12,qae(e,c)):ot(t,1,Uae(e,c)),!0}function Fse(t,e,r,n){var i=an(e["!ref"]||"A1"),a,s="",o=[];ot(t,145);var c=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=u;++h){s=Ti(h),Pae(t,e,i,h);var f=!1;if(h<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){h===i.s.r&&(o[d]=qi(d)),a=o[d]+s;var p=c?(e[h]||[])[d]:e[a];if(!p){f=!1;continue}f=Mse(t,p,h,d,n,e,f)}}ot(t,146)}function Ise(t,e){!e||!e["!merges"]||(ot(t,177,wse(e["!merges"].length)),e["!merges"].forEach(function(r){ot(t,176,bse(r))}),ot(t,178))}function Bse(t,e){!e||!e["!cols"]||(ot(t,390),e["!cols"].forEach(function(r,n){r&&ot(t,60,Ase(n,r))}),ot(t,391))}function zse(t,e){!e||!e["!ref"]||(ot(t,648),ot(t,649,Lse(an(e["!ref"]))),ot(t,650))}function Use(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Dr(r,-1,n[1].Target.replace(/#.*$/,""),br.HLINK);ot(t,494,_se(n,i))}}),delete e["!links"]}function Hse(t,e,r,n){if(e["!comments"].length>0){var i=Dr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",br.VML);ot(t,551,oN("rId"+i)),e["!legacy"]=i}}function qse(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:qn(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=os(a);o.s.r==o.e.r&&(o.e.r=os(e["!ref"]).e.r,a=qn(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ot(t,161,R0(an(a))),ot(t,162)}}function Vse(t,e,r){ot(t,133),ot(t,137,Ose(e,r)),ot(t,138),ot(t,134)}function Wse(t,e){e["!protect"]&&ot(t,535,Dse(e["!protect"]))}function Gse(t,e,r,n){var i=Ta(),a=r.SheetNames[t],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var c=an(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ot(i,129),(r.vbaraw||s["!outline"])&&ot(i,147,Bae(o,s["!outline"])),ot(i,148,Mae(c)),Vse(i,s,r.Workbook),Bse(i,s),Fse(i,s,t,e),Wse(i,s),qse(i,s,r,t),Ise(i,s),Use(i,s,n),s["!margins"]&&ot(i,476,jse(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&zse(i,s),Hse(i,s,t,n),ot(i,130),i.end()}function Yse(t,e){t.l+=10;var r=Vi(t);return{name:r}}var Xse=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $se(t){return!t.Workbook||!t.Workbook.WBProps?"false":Cte(t.Workbook.WBProps.date1904)?"true":"false"}var Kse="][*?/\\".split("");function kM(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Kse.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Qse(t,e,r){t.forEach(function(n,i){kM(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Jse(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Qse(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)bae(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function OM(t){var e=[Vn];e[e.length]=gt("workbook",null,{xmlns:D0[0],"xmlns:r":si.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Xse.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=gt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Mr(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=gt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=gt("definedName",Mr(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Zse(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=O4(t),r.name=Vi(t),r}function eoe(t,e){return e||(e=Ke(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),oN(t.strRelID,e),ci(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function toe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Vi(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function roe(t,e){e||(e=Ke(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),qR(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function noe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=$te(t),s=pae(t,0,r),o=sN(t);t.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function ioe(t,e){ot(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ot(t,156,eoe(i))}ot(t,144)}function aoe(t,e){e||(e=Ke(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return ci("SheetJS",e),ci(v2.version,e),ci(v2.version,e),ci("7262",e),e.length>e.l?e.slice(0,e.l):e}function soe(t,e){e||(e=Ke(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function ooe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(ot(t,135),ot(t,158,soe(i)),ot(t,136))}}function loe(t,e){var r=Ta();return ot(r,131),ot(r,128,aoe()),ot(r,153,roe(t.Workbook&&t.Workbook.WBProps||null)),ooe(r,t),ioe(r,t),ot(r,132),r.end()}function coe(t,e,r){return(e.slice(-4)===".bin"?loe:OM)(t)}function uoe(t,e,r,n,i){return(e.slice(-4)===".bin"?Gse:EM)(t,r,n,i)}function hoe(t,e,r){return(e.slice(-4)===".bin"?jne:dM)(t,r)}function foe(t,e,r){return(e.slice(-4)===".bin"?rne:cM)(t,r)}function doe(t,e,r){return(e.slice(-4)===".bin"?Wne:vM)(t)}function poe(t){return(t.slice(-4)===".bin"?Fne:gM)()}function moe(t,e){var r=[];return t.Props&&r.push(hre(t.Props,e)),t.Custprops&&r.push(fre(t.Props,t.Custprops)),r.join("")}function goe(){return""}function xoe(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(gt("NumberFormat",null,{"ss:Format":Mr(_n[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(gt("Style",a.join(""),s))}),gt("Styles",r.join(""))}function LM(t){return gt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+hN(t.Ref,{r:0,c:0})})}function voe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(LM(i)))}return gt("Names",r.join(""))}function yoe(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(LM(o)))}return a.join("")}function boe(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(gt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(gt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(gt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(gt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(wi("ProtectContents","True")),t["!protect"].objects&&i.push(wi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(wi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(wi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(wi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":gt("WorksheetOptions",i.join(""),{xmlns:Xa.x})}function woe(t){return t.map(function(e){var r=Tte(e.t||""),n=gt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return gt("Comment",n,{"ss:Author":e.a})}).join("")}function Soe(t,e,r,n,i,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Mr(hN(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var c=li(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Mr(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Mr(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=s.c||u[h].s.r!=s.r||(u[h].e.c>u[h].s.c&&(o["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(o["ss:MergeDown"]=u[h].e.r-u[h].s.r));var f="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=Rg[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||_n[14]);break;case"s":f="String",d=Nte(t.v||"");break}var p=Eu(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var x=t.v!=null?d:"",m=t.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(t.c||[]).length>0&&(m+=woe(t.c)),gt("Cell",m,o)}function _oe(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=fM(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Noe(t,e,r,n){if(!t["!ref"])return"";var i=an(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,v){cN(y);var b=!!y.width,S=Vy(v,y),T={"ss:Index":v+1};b&&(T["ss:Width"]=E2(S.width)),y.hidden&&(T["ss:Hidden"]="1"),o.push(gt("Column",null,T))});for(var c=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var h=[_oe(u,(t["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>u)&&!(a[s].e.c<f)&&!(a[s].e.r<u)){(a[s].s.c!=f||a[s].s.r!=u)&&(d=!0);break}if(!d){var p={r:u,c:f},x=Fr(p),m=c?(t[u]||[])[f]:t[x];h.push(Soe(m,x,t,e,r,n,p))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function Toe(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],s=a?yoe(a,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?Noe(a,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(boe(a,e,t,r)),n.join("")}function Coe(t,e){e||(e={}),t.SSF||(t.SSF=ja(_n)),t.SSF&&(By(),Iy(t.SSF),e.revssf=zy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Eu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(moe(t,e)),r.push(goe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(gt("Worksheet",Toe(n,e,t),{"ss:Name":Mr(t.SheetNames[n])}));return r[2]=xoe(t,e),r[3]=voe(t),Vn+gt("Workbook",r.join(""),{xmlns:Xa.ss,"xmlns:o":Xa.o,"xmlns:x":Xa.x,"xmlns:ss":Xa.ss,"xmlns:dt":Xa.dt,"xmlns:html":Xa.html})}var t5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Aoe(t,e){var r=[],n=[],i=[],a=0,s,o=tj(pj,"n"),c=tj(mj,"n");if(t.Props)for(s=Ai(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=Ai(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],t.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)rM.indexOf(i[a][0])>-1||ZR.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&qr.utils.cfb_add(e,"/SummaryInformation",bj(n,t5.SI,c,mj)),(r.length||u.length)&&qr.utils.cfb_add(e,"/DocumentSummaryInformation",bj(r,t5.DSI,o,pj,u.length?u:null,t5.UDI))}function Eoe(t,e){var r=e||{},n=qr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return qr.utils.cfb_add(n,i,DM(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Aoe(t,n),r.biff==8&&t.vbaraw&&Gne(n,qr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var joe={0:{f:Lae},1:{f:zae},2:{f:sse},3:{f:Xae},4:{f:Vae},5:{f:rse},6:{f:hse},7:{f:Jae},8:{f:vse},9:{f:xse},10:{f:mse},11:{f:gse},12:{f:Hae},13:{f:lse},14:{f:Kae},15:{f:Gae},16:{f:ise},17:{f:dse},18:{f:ese},19:{f:aN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:noe},40:{},42:{},43:{f:hne},44:{f:cne},45:{f:pne},46:{f:gne},47:{f:mne},48:{},49:{f:Hte},50:{},51:{f:Lne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qre},62:{f:use},63:{f:Ine},64:{f:Pse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Jo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:kse},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Iae},148:{f:Rae,p:16},151:{f:Nse},152:{},153:{f:toe},154:{},155:{},156:{f:Zse},157:{},158:{},159:{T:1,f:Zre},160:{T:-1},161:{T:1,f:$h},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yse},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:kne},336:{T:-1},337:{f:Rne,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:O4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Fre},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Tse},427:{f:Cse},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ese},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Fae},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Sse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:O4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:qne},633:{T:1},634:{T:-1},635:{T:1,f:Une},636:{T:-1},637:{f:Gte},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Yse},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Rse},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function xt(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&rN(r)&&t.push(r)}}function koe(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return xt(t,e,r,i);var a=e;if(!isNaN(a)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var h=t.next(4);for(h.write_shift(2,a),h.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u;c<i;){for(h=t.next(4),h.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;h.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u}}}function Fg(t,e,r){return t||(t=Ke(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Ooe(t,e,r,n){var i=Ke(9);return Fg(i,t,e),iM(r,n||"b",i),i}function Loe(t,e,r){var n=Ke(8+2*r.length);return Fg(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Doe(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ea(ia(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?xt(t,2,Yre(r,n,i)):xt(t,3,Gre(r,n,i));return;case"b":case"e":xt(t,5,Ooe(r,n,e.v,e.t));return;case"s":case"str":xt(t,4,Loe(r,n,(e.v||"").slice(0,255)));return}xt(t,1,Fg(null,r,n))}function Poe(t,e,r,n){var i=Array.isArray(e),a=an(e["!ref"]||"A1"),s,o="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=qn(a)}for(var u=a.s.r;u<=a.e.r;++u){o=Ti(u);for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(c[h]=qi(h)),s=c[h]+o;var f=i?(e[u]||[])[h]:e[s];f&&Doe(t,f,u,h)}}}function Roe(t,e){for(var r=e||{},n=Ta(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return xt(n,r.biff==4?1033:r.biff==3?521:9,lN(t,16,r)),Poe(n,t.Sheets[t.SheetNames[i]],i,r),xt(n,10),n.end()}function Moe(t,e,r){xt(t,49,jre({sz:12,name:"Arial"},r))}function Foe(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&xt(t,1054,Lre(i,e[i],r))})}function Ioe(t,e){var r=Ke(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),xt(t,2151,r),r=Ke(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),oM(an(e["!ref"]||"A1"),r),r.write_shift(4,4),xt(t,2152,r)}function Boe(t,e){for(var r=0;r<16;++r)xt(t,224,Sj({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){xt(t,224,Sj(n,0,e))})}function zoe(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];xt(t,440,zre(n)),n[1].Tooltip&&xt(t,2048,Ure(n))}delete e["!links"]}function Uoe(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&xt(t,125,Vre(Vy(i,n),i))})}}function Hoe(t,e,r,n,i){var a=16+Eu(i.cellXfs,e,i);if(e.v==null&&!e.bf){xt(t,513,Dh(r,n,a));return}if(e.bf)xt(t,6,fae(e,r,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Ea(ia(e.v)):e.v;xt(t,515,Mre(r,n,s,a));break;case"b":case"e":xt(t,517,Rre(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=dN(i.Strings,e.v,i.revStrings);xt(t,253,kre(r,n,o,a))}else xt(t,516,Ore(r,n,(e.v||"").slice(0,255),a,i));break;default:xt(t,513,Dh(r,n,a))}}function qoe(t,e,r){var n=Ta(),i=r.SheetNames[t],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},c=Array.isArray(a),u=e.biff==8,h,f="",d=[],p=an(a["!ref"]||"A1"),x=u?65536:16384;if(p.e.c>255||p.e.r>=x){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,x-1)}xt(n,2057,lN(r,16,e)),xt(n,13,ys(1)),xt(n,12,ys(100)),xt(n,15,ea(!0)),xt(n,17,ea(!1)),xt(n,16,Lh(.001)),xt(n,95,ea(!0)),xt(n,42,ea(!1)),xt(n,43,ea(!1)),xt(n,130,ys(1)),xt(n,128,Pre()),xt(n,131,ea(!1)),xt(n,132,ea(!1)),u&&Uoe(n,a["!cols"]),xt(n,512,Dre(p,e)),u&&(a["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=Ti(m);for(var y=p.s.c;y<=p.e.c;++y){m===p.s.r&&(d[y]=qi(y)),h=d[y]+f;var v=c?(a[m]||[])[y]:a[h];v&&(Hoe(n,v,m,y,e),u&&v.l&&a["!links"].push([h,v.l]))}}var b=o.CodeName||o.name||i;return u&&xt(n,574,Ere((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&xt(n,229,Bre(a["!merges"])),u&&zoe(n,a),xt(n,442,sM(b)),u&&Ioe(n,a),xt(n,10),n.end()}function Voe(t,e,r){var n=Ta(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,c=r.biff==5;if(xt(n,2057,lN(t,5,r)),r.bookType=="xla"&&xt(n,135),xt(n,225,o?ys(1200):null),xt(n,193,mre(2)),c&&xt(n,191),c&&xt(n,192),xt(n,226),xt(n,92,Nre("SheetJS",r)),xt(n,66,ys(o?1200:1252)),o&&xt(n,353,ys(0)),o&&xt(n,448),xt(n,317,Wre(t.SheetNames.length)),o&&t.vbaraw&&xt(n,211),o&&t.vbaraw){var u=s.CodeName||"ThisWorkbook";xt(n,442,sM(u))}xt(n,156,ys(17)),xt(n,25,ea(!1)),xt(n,18,ea(!1)),xt(n,19,ys(0)),o&&xt(n,431,ea(!1)),o&&xt(n,444,ys(0)),xt(n,61,Are()),xt(n,64,ea(!1)),xt(n,141,ys(0)),xt(n,34,ea($se(t)=="true")),xt(n,14,ea(!0)),o&&xt(n,439,ea(!1)),xt(n,218,ys(0)),Moe(n,t,r),Foe(n,t.SSF,r),Boe(n,r),o&&xt(n,352,ea(!1));var h=n.end(),f=Ta();o&&xt(f,140,Hre()),o&&r.Strings&&koe(f,252,Cre(r.Strings)),xt(f,10);var d=f.end(),p=Ta(),x=0,m=0;for(m=0;m<t.SheetNames.length;++m)x+=(o?12:11)+(o?2:1)*t.SheetNames[m].length;var y=h.length+x+d.length;for(m=0;m<t.SheetNames.length;++m){var v=a[m]||{};xt(p,133,Tre({pos:y,hs:v.Hidden||0,dt:0,name:t.SheetNames[m]},r)),y+=e[m].length}var b=p.end();if(x!=b.length)throw new Error("BS8 "+x+" != "+b.length);var S=[];return h.length&&S.push(h),b.length&&S.push(b),d.length&&S.push(d),bi(S)}function Woe(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=ja(_n)),t&&t.SSF&&(By(),Iy(t.SSF),r.revssf=zy(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,pN(r),r.cellXfs=[],Eu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=qoe(i,r,t);return n.unshift(Voe(t,n,r)),bi(n)}function DM(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=os(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return Woe(t,e);case 4:case 3:case 2:return Roe(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function Goe(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var h=Fr({r,c:s}),f=n.dense?(t[r]||[])[s]:t[h],d=f&&f.v!=null&&(f.h||_te(f.w||(Zl(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),p.id=(n.id||"sjs")+"-"+h,a.push(gt("td",d,p))}}var x="<tr>";return x+a.join("")+"</tr>"}var Yoe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Xoe="</body></html>";function $oe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function PM(t,e){var r=e||{},n=r.header!=null?r.header:Yoe,i=r.footer!=null?r.footer:Xoe,a=[n],s=os(t["!ref"]);r.dense=Array.isArray(t),a.push($oe(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(Goe(t,s,o,r));return a.push("</table>"+i),a.join("")}function RM(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?li(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var h=os(t["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),i==-1&&(u.e.r=i=h.e.r+1)}var f=[],d=0,p=t["!rows"]||(t["!rows"]=[]),x=0,m=0,y=0,v=0,b=0,S=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&m<c;++x){var T=o[x];if(jj(T)){if(n.display)continue;p[m]={hidden:!0}}var E=T.children;for(y=v=0;y<E.length;++y){var P=E[y];if(!(n.display&&jj(P))){var j=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):Ate(P.innerHTML),L=P.getAttribute("data-z")||P.getAttribute("z");for(d=0;d<f.length;++d){var F=f[d];F.s.c==v+a&&F.s.r<m+i&&m+i<=F.e.r&&(v=F.e.c+1-a,d=-1)}S=+P.getAttribute("colspan")||1,((b=+P.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:m+i,c:v+a},e:{r:m+i+(b||1)-1,c:v+a+(S||1)-1}});var W={t:"s",v:j},D=P.getAttribute("data-t")||P.getAttribute("t")||"";j!=null&&(j.length==0?W.t=D||"z":n.raw||j.trim().length==0||D=="s"||(j==="TRUE"?W={t:"b",v:!0}:j==="FALSE"?W={t:"b",v:!1}:isNaN(Bl(j))?isNaN(Xm(j).getDate())||(W={t:"d",v:ia(j)},n.cellDates||(W={t:"n",v:Ea(W.v)}),W.z=n.dateNF||_n[14]):W={t:"n",v:Bl(j)})),W.z===void 0&&L!=null&&(W.z=L);var O="",q=P.getElementsByTagName("A");if(q&&q.length)for(var I=0;I<q.length&&!(q[I].hasAttribute("href")&&(O=q[I].getAttribute("href"),O.charAt(0)!="#"));++I);O&&O.charAt(0)!="#"&&(W.l={Target:O}),n.dense?(t[m+i]||(t[m+i]=[]),t[m+i][v+a]=W):t[Fr({c:v+a,r:m+i})]=W,u.e.c<v+a&&(u.e.c=v+a),v+=S}}++m}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+i),t["!ref"]=qn(u),m>=c&&(t["!fullref"]=qn((u.e.r=o.length-x+m-1+i,u))),t}function MM(t,e){var r=e||{},n=r.dense?[]:{};return RM(n,t,e)}function Koe(t,e){return Wh(MM(t,e),e)}function jj(t){var e="",r=Qoe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Qoe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Joe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Km({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Vn+e}}(),kj=function(){var t=function(a){return Mr(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var c=[];c.push('      <table:table table:name="'+Mr(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,h=0,f=os(a["!ref"]||"A1"),d=a["!merges"]||[],p=0,x=Array.isArray(a);if(a["!cols"])for(h=0;h<=f.e.c;++h)c.push("        <table:table-column"+(a["!cols"][h]?' table:style-name="co'+a["!cols"][h].ods+'"':"")+`></table:table-column>
`);var m="",y=a["!rows"]||[];for(u=0;u<f.s.r;++u)m=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),h=0;h<f.s.c;++h)c.push(e);for(;h<=f.e.c;++h){var v=!1,b={},S="";for(p=0;p!=d.length;++p)if(!(d[p].s.c>h)&&!(d[p].s.r>u)&&!(d[p].e.c<h)&&!(d[p].e.r<u)){(d[p].s.c!=h||d[p].s.r!=u)&&(v=!0),b["table:number-columns-spanned"]=d[p].e.c-d[p].s.c+1,b["table:number-rows-spanned"]=d[p].e.r-d[p].s.r+1;break}if(v){c.push(r);continue}var T=Fr({r:u,c:h}),E=x?(a[u]||[])[h]:a[T];if(E&&E.f&&(b["table:formula"]=Mr(vae(E.f)),E.F&&E.F.slice(0,T.length)==T)){var P=os(E.F);b["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,b["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!E){c.push(e);continue}switch(E.t){case"b":S=E.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=E.v?"true":"false";break;case"n":S=E.w||String(E.v||0),b["office:value-type"]="float",b["office:value"]=E.v||0;break;case"s":case"str":S=E.v==null?"":E.v,b["office:value-type"]="string";break;case"d":S=E.w||ia(E.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=ia(E.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(e);continue}var j=t(S);if(E.l&&E.l.Target){var L=E.l.Target;L=L.charAt(0)=="#"?"#"+yae(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),j=gt("text:a",j,{"xlink:href":L.replace(/&/g,"&amp;")})}c.push("          "+gt("table:table-cell",gt("text:p",j,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var f=u["!cols"][h];if(f.width==null&&f.wpx==null&&f.wch==null)continue;cN(f),f.ods=o;var d=u["!cols"][h].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),a.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=c;var f=u["!rows"][h].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var c=[Vn],u=Km({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Km({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+h+`>
`),c.push(QR().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function FM(t,e){if(e.bookType=="fods")return kj(t,e);var r=J_(),n="",i=[],a=[];return n="mimetype",rr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",rr(r,n,kj(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",rr(r,n,Joe(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",rr(r,n,Vn+QR()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",rr(r,n,ure(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",rr(r,n,lre(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function O2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Zoe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):eo($m(t))}function ele(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function _u(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function tle(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function Qm(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Or(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Cd(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Yn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Qm(t,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];t[r[0]++]>=128;);o=t.slice(c,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Qm(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function mi(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Or(n*8+i.type)),i.type==2&&e.push(Or(i.data.length)),e.push(i.data))})}),_u(e)}function Vs(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Qm(t,n),a=Yn(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:Cd(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=Yn(o.data),u=Cd(c[3][0].data);s.messages.push({meta:c,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=Cd(a[3][0].data)>>>0>0),r.push(s)}return r}function jf(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Or(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Or(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Or(s.data.length)}],n[2].push({data:mi(s.meta),type:2})});var a=mi(n);e.push(Or(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),_u(e)}function rle(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Qm(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,a==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[_u(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var h=_u(i);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Ws(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(rle(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return _u(e)}function kf(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Or(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return _u(e)}function r5(t,e){var r=new Uint8Array(32),n=O2(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,tle(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function n5(t,e){var r=new Uint8Array(32),n=O2(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Ac(t){var e=Yn(t);return Qm(e[1][0].data)}function nle(t,e,r){var n,i,a,s;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&Cd(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=O2(t[7][0].data),h=0,f=[],d=O2(t[4][0].data),p=0,x=[],m=0;m<e.length;++m){if(e[m]==null){u.setUint16(m*2,65535,!0),d.setUint16(m*2,65535);continue}u.setUint16(m*2,h,!0),d.setUint16(m*2,p,!0);var y,v;switch(typeof e[m]){case"string":y=r5({t:"s",v:e[m]},r),v=n5({t:"s",v:e[m]},r);break;case"number":y=r5({t:"n",v:e[m]},r),v=n5({t:"n",v:e[m]},r);break;case"boolean":y=r5({t:"b",v:e[m]},r),v=n5({t:"b",v:e[m]},r);break;default:throw new Error("Unsupported value "+e[m])}f.push(y),h+=y.length,x.push(v),p+=v.length,++c}for(t[2][0].data=Or(c);m<t[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),d.setUint16(m*2,65535,!0);return t[6][0].data=_u(f),t[3][0].data=_u(x),c}function ile(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=os(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(qn(n)));var a=L2(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(M){return M.forEach(function(R){typeof R=="string"&&s.push(R)})});var o={},c=[],u=qr.read(e.numbers,{type:"base64"});u.FileIndex.map(function(M,R){return[M,u.FullPaths[R]]}).forEach(function(M){var R=M[0],B=M[1];if(R.type==2&&R.name.match(/\.iwa/)){var Q=R.content,fe=Ws(Q),he=Vs(fe);he.forEach(function(pe){c.push(pe.id),o[pe.id]={deps:[],location:B,type:Cd(pe.messages[0].meta[1][0].data)}})}}),c.sort(function(M,R){return M-R});var h=c.filter(function(M){return M>1}).map(function(M){return[M,Or(M)]});u.FileIndex.map(function(M,R){return[M,u.FullPaths[R]]}).forEach(function(M){var R=M[0];if(M[1],!!R.name.match(/\.iwa/)){var B=Vs(Ws(R.content));B.forEach(function(Q){Q.messages.forEach(function(fe){h.forEach(function(he){Q.messages.some(function(pe){return Cd(pe.meta[1][0].data)!=11006&&ele(pe.data,he[1])})&&o[he[0]].deps.push(Q.id)})})})}});for(var f=qr.find(u,o[1].location),d=Vs(Ws(f.content)),p,x=0;x<d.length;++x){var m=d[x];m.id==1&&(p=m)}var y=Ac(Yn(p.messages[0].data)[1][0].data);for(f=qr.find(u,o[y].location),d=Vs(Ws(f.content)),x=0;x<d.length;++x)m=d[x],m.id==y&&(p=m);for(y=Ac(Yn(p.messages[0].data)[2][0].data),f=qr.find(u,o[y].location),d=Vs(Ws(f.content)),x=0;x<d.length;++x)m=d[x],m.id==y&&(p=m);for(y=Ac(Yn(p.messages[0].data)[2][0].data),f=qr.find(u,o[y].location),d=Vs(Ws(f.content)),x=0;x<d.length;++x)m=d[x],m.id==y&&(p=m);var v=Yn(p.messages[0].data);{v[6][0].data=Or(n.e.r+1),v[7][0].data=Or(n.e.c+1);var b=Ac(v[46][0].data),S=qr.find(u,o[b].location),T=Vs(Ws(S.content));{for(var E=0;E<T.length&&T[E].id!=b;++E);if(T[E].id!=b)throw"Bad ColumnRowUIDMapArchive";var P=Yn(T[E].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var j=0;j<=n.e.c;++j){var L=[];L[1]=L[2]=[{type:0,data:Or(j+420690)}],P[1].push({type:2,data:mi(L)}),P[2].push({type:0,data:Or(j)}),P[3].push({type:0,data:Or(j)})}P[4]=[],P[5]=[],P[6]=[];for(var F=0;F<=n.e.r;++F)L=[],L[1]=L[2]=[{type:0,data:Or(F+726270)}],P[4].push({type:2,data:mi(L)}),P[5].push({type:0,data:Or(F)}),P[6].push({type:0,data:Or(F)});T[E].messages[0].data=mi(P)}S.content=kf(jf(T)),S.size=S.content.length,delete v[46];var W=Yn(v[4][0].data);{W[7][0].data=Or(n.e.r+1);var D=Yn(W[1][0].data),O=Ac(D[2][0].data);S=qr.find(u,o[O].location),T=Vs(Ws(S.content));{if(T[0].id!=O)throw"Bad HeaderStorageBucket";var q=Yn(T[0].messages[0].data);for(F=0;F<a.length;++F){var I=Yn(q[2][0].data);I[1][0].data=Or(F),I[4][0].data=Or(a[F].length),q[2][F]={type:q[2][0].type,data:mi(I)}}T[0].messages[0].data=mi(q)}S.content=kf(jf(T)),S.size=S.content.length;var ae=Ac(W[2][0].data);S=qr.find(u,o[ae].location),T=Vs(Ws(S.content));{if(T[0].id!=ae)throw"Bad HeaderStorageBucket";for(q=Yn(T[0].messages[0].data),j=0;j<=n.e.c;++j)I=Yn(q[2][0].data),I[1][0].data=Or(j),I[4][0].data=Or(n.e.r+1),q[2][j]={type:q[2][0].type,data:mi(I)};T[0].messages[0].data=mi(q)}S.content=kf(jf(T)),S.size=S.content.length;var X=Ac(W[4][0].data);(function(){for(var M=qr.find(u,o[X].location),R=Vs(Ws(M.content)),B,Q=0;Q<R.length;++Q){var fe=R[Q];fe.id==X&&(B=fe)}var he=Yn(B.messages[0].data);{he[3]=[];var pe=[];s.forEach(function(Qe,et){pe[1]=[{type:0,data:Or(et)}],pe[2]=[{type:0,data:Or(1)}],pe[3]=[{type:2,data:Zoe(Qe)}],he[3].push({type:2,data:mi(pe)})})}B.messages[0].data=mi(he);var Te=jf(R),He=kf(Te);M.content=He,M.size=M.content.length})();var le=Yn(W[3][0].data);{var re=le[1][0];delete le[2];var ue=Yn(re.data);{var ge=Ac(ue[2][0].data);(function(){for(var M=qr.find(u,o[ge].location),R=Vs(Ws(M.content)),B,Q=0;Q<R.length;++Q){var fe=R[Q];fe.id==ge&&(B=fe)}var he=Yn(B.messages[0].data);{delete he[6],delete le[7];var pe=new Uint8Array(he[5][0].data);he[5]=[];for(var Te=0,He=0;He<=n.e.r;++He){var Qe=Yn(pe);Te+=nle(Qe,a[He],s),Qe[1][0].data=Or(He),he[5].push({data:mi(Qe),type:2})}he[1]=[{type:0,data:Or(n.e.c+1)}],he[2]=[{type:0,data:Or(n.e.r+1)}],he[3]=[{type:0,data:Or(Te)}],he[4]=[{type:0,data:Or(n.e.r+1)}]}B.messages[0].data=mi(he);var et=jf(R),me=kf(et);M.content=me,M.size=M.content.length})()}re.data=mi(ue)}W[3][0].data=mi(le)}v[4][0].data=mi(W)}p.messages[0].data=mi(v);var Ge=jf(d),A=kf(Ge);return f.content=A,f.size=f.content.length,u}function ale(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function pN(t){ale([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function sle(t,e){return e.bookType=="ods"?FM(t,e):e.bookType=="numbers"?ile(t,e):e.bookType=="xlsb"?ole(t,e):lle(t,e)}function ole(t,e){id=1024,t&&!t.SSF&&(t.SSF=ja(_n)),t&&t.SSF&&(By(),Iy(t.SSF),e.revssf=zy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,pm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=yM.indexOf(e.bookType)>-1,i=XR();pN(e=e||{});var a=J_(),s="",o=0;if(e.cellXfs=[],Eu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",rr(a,s,JR(t.Props,e)),i.coreprops.push(s),Dr(e.rels,2,s,br.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,rr(a,s,eM(t.Props)),i.extprops.push(s),Dr(e.rels,3,s,br.EXT_PROPS),t.Custprops!==t.Props&&Ai(t.Custprops||{}).length>0&&(s="docProps/custom.xml",rr(a,s,tM(t.Custprops)),i.custprops.push(s),Dr(e.rels,4,s,br.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,rr(a,s,uoe(o-1,s,e,t,h)),i.sheets.push(s),Dr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,br.WS[0])}if(f){var p=f["!comments"],x=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+r,rr(a,m,doe(p,m)),i.comments.push(m),Dr(h,-1,"../comments"+o+"."+r,br.CMNT),x=!0),f["!legacy"]&&x&&rr(a,"xl/drawings/vmlDrawing"+o+".vml",xM(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&rr(a,KR(s),Nd(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,rr(a,s,foe(e.Strings,s,e)),i.strs.push(s),Dr(e.wbrels,-1,"sharedStrings."+r,br.SST)),s="xl/workbook."+r,rr(a,s,coe(t,s)),i.workbooks.push(s),Dr(e.rels,1,s,br.WB),s="xl/theme/theme1.xml",rr(a,s,mM(t.Themes,e)),i.themes.push(s),Dr(e.wbrels,-1,"theme/theme1.xml",br.THEME),s="xl/styles."+r,rr(a,s,hoe(t,s,e)),i.styles.push(s),Dr(e.wbrels,-1,"styles."+r,br.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",rr(a,s,t.vbaraw),i.vba.push(s),Dr(e.wbrels,-1,"vbaProject.bin",br.VBA)),s="xl/metadata."+r,rr(a,s,poe(s)),i.metadata.push(s),Dr(e.wbrels,-1,"metadata."+r,br.XLMETA),rr(a,"[Content_Types].xml",$R(i,e)),rr(a,"_rels/.rels",Nd(e.rels)),rr(a,"xl/_rels/workbook."+r+".rels",Nd(e.wbrels)),delete e.revssf,delete e.ssf,a}function lle(t,e){id=1024,t&&!t.SSF&&(t.SSF=ja(_n)),t&&t.SSF&&(By(),Iy(t.SSF),e.revssf=zy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,pm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=yM.indexOf(e.bookType)>-1,i=XR();pN(e=e||{});var a=J_(),s="",o=0;if(e.cellXfs=[],Eu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",rr(a,s,JR(t.Props,e)),i.coreprops.push(s),Dr(e.rels,2,s,br.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,rr(a,s,eM(t.Props)),i.extprops.push(s),Dr(e.rels,3,s,br.EXT_PROPS),t.Custprops!==t.Props&&Ai(t.Custprops||{}).length>0&&(s="docProps/custom.xml",rr(a,s,tM(t.Custprops)),i.custprops.push(s),Dr(e.rels,4,s,br.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],p=(d||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,rr(a,s,EM(o-1,e,t,f)),i.sheets.push(s),Dr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,br.WS[0])}if(d){var x=d["!comments"],m=!1,y="";if(x&&x.length>0){var v=!1;x.forEach(function(b){b[1].forEach(function(S){S.T==!0&&(v=!0)})}),v&&(y="xl/threadedComments/threadedComment"+o+"."+r,rr(a,y,Bne(x,h,e)),i.threadedcomments.push(y),Dr(f,-1,"../threadedComments/threadedComment"+o+"."+r,br.TCMNT)),y="xl/comments"+o+"."+r,rr(a,y,vM(x)),i.comments.push(y),Dr(f,-1,"../comments"+o+"."+r,br.CMNT),m=!0}d["!legacy"]&&m&&rr(a,"xl/drawings/vmlDrawing"+o+".vml",xM(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&rr(a,KR(s),Nd(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,rr(a,s,cM(e.Strings,e)),i.strs.push(s),Dr(e.wbrels,-1,"sharedStrings."+r,br.SST)),s="xl/workbook."+r,rr(a,s,OM(t)),i.workbooks.push(s),Dr(e.rels,1,s,br.WB),s="xl/theme/theme1.xml",rr(a,s,mM(t.Themes,e)),i.themes.push(s),Dr(e.wbrels,-1,"theme/theme1.xml",br.THEME),s="xl/styles."+r,rr(a,s,dM(t,e)),i.styles.push(s),Dr(e.wbrels,-1,"styles."+r,br.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",rr(a,s,t.vbaraw),i.vba.push(s),Dr(e.wbrels,-1,"vbaProject.bin",br.VBA)),s="xl/metadata."+r,rr(a,s,gM()),i.metadata.push(s),Dr(e.wbrels,-1,"metadata."+r,br.XLMETA),h.length>1&&(s="xl/persons/person.xml",rr(a,s,zne(h)),i.people.push(s),Dr(e.wbrels,-1,"persons/person.xml",br.PEOPLE)),rr(a,"[Content_Types].xml",$R(i,e)),rr(a,"_rels/.rels",Nd(e.rels)),rr(a,"xl/_rels/workbook."+r+".rels",Nd(e.wbrels)),delete e.revssf,delete e.ssf,a}function cle(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Jl(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function IM(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Dg(e.file,qr.write(t,{type:Sr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return qr.write(t,e)}function ule(t,e){var r=ja(e||{}),n=sle(t,r);return hle(n,r)}function hle(t,e){var r={},n=Sr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?qr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Fy(i))}return e.password&&typeof encrypt_agile<"u"?IM(encrypt_agile(i,e.password),e):e.type==="file"?Dg(e.file,i):e.type=="string"?um(i):i}function fle(t,e){var r=e||{},n=Eoe(t,r);return IM(n,r)}function jo(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Ym($m(n));case"binary":return $m(n);case"string":return t;case"file":return Dg(e.file,n,"utf8");case"buffer":return Sr?ic(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):jo(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function dle(t,e){switch(e.type){case"base64":return Ym(t);case"binary":return t;case"string":return t;case"file":return Dg(e.file,t,"binary");case"buffer":return Sr?ic(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ox(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Ym(r):e.type=="string"?um(r):r;case"file":return Dg(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function BM(t,e){Uee(),Jse(t);var r=ja(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=BM(t,r);return r.type="array",Fy(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return jo(Coe(t,r),r);case"slk":case"sylk":return jo($re.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return jo(PM(t.Sheets[t.SheetNames[i]],r),r);case"txt":return dle(zM(t.Sheets[t.SheetNames[i]],r),r);case"csv":return jo(mN(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return jo(Kre.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Ox(Xre.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return jo(Qre.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return jo(ine.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return jo(lM.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return jo(FM(t,r),r);case"wk1":return Ox(_j.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Ox(_j.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ox(DM(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),fle(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ule(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function ple(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function mle(t,e,r){var n={};return n.type="file",n.file=e,ple(n),BM(t,n)}function gle(t,e,r,n,i,a,s,o){var c=Ti(r),u=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||t[r])for(var p=e.s.c;p<=e.e.c;++p){var x=s?t[r][p]:t[n[p]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;a[p]!=null&&(d[a[p]]=u);continue}var m=x.v;switch(x.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[p]!=null){if(m==null)if(x.t=="e"&&m===null)d[a[p]]=null;else if(u!==void 0)d[a[p]]=u;else if(h&&m===null)d[a[p]]=null;else continue;else d[a[p]]=h&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?m:Zl(x,m,o);m!=null&&(f=!1)}}return{row:d,isempty:f}}function L2(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":c=an(h);break;case"number":c=an(t["!ref"]),c.s.r=h;break;default:c=h}n>0&&(i=0);var f=Ti(c.s.r),d=[],p=[],x=0,m=0,y=Array.isArray(t),v=c.s.r,b=0,S={};y&&!t[v]&&(t[v]=[]);var T=u.skipHidden&&t["!cols"]||[],E=u.skipHidden&&t["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(T[b]||{}).hidden)switch(d[b]=qi(b),r=y?t[v][b]:t[d[b]+f],n){case 1:a[b]=b-c.s.c;break;case 2:a[b]=d[b];break;case 3:a[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Zl(r,null,u),m=S[s]||0,!m)S[s]=1;else{do o=s+"_"+m++;while(S[o]);S[s]=m,S[o]=1}a[b]=o}for(v=c.s.r+i;v<=c.e.r;++v)if(!(E[v]||{}).hidden){var P=gle(t,c,v,d,n,a,y,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[x++]=P.row)}return p.length=x,p}var Oj=/"/g;function xle(t,e,r,n,i,a,s,o){for(var c=!0,u=[],h="",f=Ti(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var p=o.dense?(t[r]||[])[d]:t[n[d]+f];if(p==null)h="";else if(p.v!=null){c=!1,h=""+(o.rawNumbers&&p.t=="n"?p.v:Zl(p,null,o));for(var x=0,m=0;x!==h.length;++x)if((m=h.charCodeAt(x))===i||m===a||m===34||o.forceQuotes){h='"'+h.replace(Oj,'""')+'"';break}h=="ID"&&(h='"ID"')}else p.f!=null&&!p.F?(c=!1,h="="+p.f,h.indexOf(",")>=0&&(h='"'+h.replace(Oj,'""')+'"')):h="";u.push(h)}return o.blankrows===!1&&c?null:u.join(s)}function mN(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=an(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),h="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],p=n.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(d[x]||{}).hidden||(f[x]=qi(x));for(var m=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(h=xle(t,i,y,f,s,c,a,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((m++?o:"")+h)));return delete n.dense,r.join("")}function zM(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=mN(t,e);return r}function vle(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=an(t["!ref"]),a="",s=[],o,c=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=qi(o);for(var h=i.s.r;h<=i.e.r;++h)for(a=Ti(h),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,r=u?(t[h]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function UM(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?li(n.origin):n.origin;s=c.r,o=c.c}var u,h={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=an(a["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),s==-1&&(s=f.e.r+1,h.e.r=s+e.length-1+i)}else s==-1&&(s=0,h.e.r=e.length-1+i);var d=n.header||[],p=0;e.forEach(function(m,y){Ai(m).forEach(function(v){(p=d.indexOf(v))==-1&&(d[p=d.length]=v);var b=m[v],S="z",T="",E=Fr({c:o+p,r:s+y+i});u=Jm(a,E),b&&typeof b=="object"&&!(b instanceof Date)?a[E]=b:(typeof b=="number"?S="n":typeof b=="boolean"?S="b":typeof b=="string"?S="s":b instanceof Date?(S="d",n.cellDates||(S="n",b=Ea(b)),T=n.dateNF||_n[14]):b===null&&n.nullError&&(S="e",b=0),u?(u.t=S,u.v=b,delete u.w,delete u.R,T&&(u.z=T)):a[E]=u={t:S,v:b},T&&(u.z=T))})}),h.e.c=Math.max(h.e.c,o+d.length-1);var x=Ti(s);if(i)for(p=0;p<d.length;++p)a[qi(p+o)+x]={t:"s",v:d[p]};return a["!ref"]=qn(h),a}function yle(t,e){return UM(null,t,e)}function Jm(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=li(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Jm(t,Fr(e)):Jm(t,Fr({r:e,c:r||0}))}function ble(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function wle(){return{SheetNames:[],Sheets:{}}}function Sle(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(kM(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function _le(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=ble(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Nle(t,e){return t.z=e,t}function HM(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Tle(t,e,r){return HM(t,"#"+e,r)}function Cle(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Ale(t,e,r,n){for(var i=typeof e!="string"?e:an(e),a=typeof e=="string"?e:qn(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=Jm(t,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return t}var i5={encode_col:qi,encode_row:Ti,encode_cell:Fr,encode_range:qn,decode_col:iN,decode_row:nN,split_cell:Ute,decode_cell:li,decode_range:os,format_cell:Zl,sheet_add_aoa:HR,sheet_add_json:UM,sheet_add_dom:RM,aoa_to_sheet:P0,json_to_sheet:yle,table_to_sheet:MM,table_to_book:Koe,sheet_to_csv:mN,sheet_to_txt:zM,sheet_to_json:L2,sheet_to_html:PM,sheet_to_formulae:vle,sheet_to_row_object_array:L2,sheet_get_cell:Jm,book_new:wle,book_append_sheet:Sle,book_set_sheet_visibility:_le,cell_set_number_format:Nle,cell_set_hyperlink:HM,cell_set_internal_link:Tle,cell_add_comment:Cle,sheet_set_array_formula:Ale,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ele=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(""),[i,a]=C.useState(!1),[s,o]=C.useState(null),c=async()=>{console.log("🔍 Admin: Loading purchases from MongoDB..."),a(!0);try{const v=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(console.log("🔐 Admin - Token available:",!!v),!v)throw new Error("No authentication token found. Please login again.");const b=await fetch(`${window.location.protocol}//${window.location.hostname}:5000/api/purchases/admin/all`,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(!b.ok)throw new Error(`HTTP ${b.status}: ${b.statusText}`);const S=await b.json();if(console.log("📊 Admin: MongoDB purchases response:",S),S.success&&S.data){const T=S.data.map(E=>{var P,j,L,F,W;return{id:E._id,orderId:E._id,userId:((P=E.userId)==null?void 0:P._id)||E.userId,userEmail:((j=E.userId)==null?void 0:j.email)||"Unknown",userName:(L=E.userId)!=null&&L.firstName&&((F=E.userId)!=null&&F.lastName)?`${E.userId.firstName} ${E.userId.lastName}`:((W=E.userId)==null?void 0:W.email)||"Unknown",totalAmount:E.totalAmount,amount:E.totalAmount,status:E.status,createdAt:E.createdAt,items:E.items||[],paymentMethod:E.paymentMethod,shippingAddress:E.shippingAddress}});console.log(`📊 Admin: Loaded ${T.length} purchases from MongoDB`),e(T)}else console.warn("⚠️ No purchase data in response:",S),e([])}catch(v){console.error("❌ Failed to load purchases from MongoDB:",v),console.log("🔄 Falling back to localStorage..."),u()}finally{a(!1),n(new Date().toLocaleTimeString())}},u=()=>{console.log("🔍 Admin: Loading purchases from localStorage (fallback)...");const v=["all_purchases","purchases","user_purchases","purchase_history","completed_purchases","cart_purchases","purchase_data","orders","transactions","payment_history","user_orders"];let b=[];v.forEach(T=>{const E=localStorage.getItem(T);if(E)try{const P=JSON.parse(E);Array.isArray(P)?b=[...b,...P]:P&&typeof P=="object"&&b.push(P)}catch(P){console.warn(`⚠️ Could not parse ${T}:`,P)}});const S=b.filter((T,E,P)=>E===P.findIndex(j=>j.id&&j.id===T.id||j.orderId&&j.orderId===T.orderId||E===P.indexOf(T)));e(S)},h=async(v,b)=>{o(v);try{const S=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!S)throw new Error("No authentication token found. Please login again.");const T=await fetch(`${window.location.protocol}//${window.location.hostname}:5000/api/purchases/${v}/status`,{method:"PUT",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify({status:b})});if(!T.ok)throw new Error(`HTTP ${T.status}: ${T.statusText}`);const E=await T.json();if(!E.success)throw new Error(E.message||"Failed to update status");e(P=>P.map(j=>j.id===v?{...j,status:b}:j))}catch(S){alert(S.message||"Failed to update status")}finally{o(null)}};C.useEffect(()=>{c()},[]),C.useEffect(()=>{const v=()=>{console.log("📡 localStorage changed, reloading purchases..."),c()};window.addEventListener("storage",v);const b=setInterval(c,5e3);return()=>{window.removeEventListener("storage",v),clearInterval(b)}},[]);const f=t.reduce((v,b)=>{const S=b.totalAmount||b.total||b.amount||0;return v+S},0),d=t.filter(v=>v.status==="completed"||v.status==="success"||v.status==="paid").length,p=t.length>0?f/t.length:0,x=t.filter(v=>{const b=new Date(v.createdAt||v.timestamp||Date.now()),S=new Date;return S.setDate(S.getDate()-7),b>=S}),m=v=>{switch(v){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"delivered":return"bg-green-100 text-green-800 border-green-300";case"completed":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"refunded":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=()=>{const v=t.slice(0,10).map(T=>({"Order ID":T.id||T.orderId,Customer:T.userName||T.userEmail||"Unknown",Amount:T.totalAmount||T.amount||0,Items:Array.isArray(T.items)&&T.items.length>0?T.items.map(E=>`${E.productName} x${E.quantity}${E.size?` (${E.size})`:""}`).join(", "):"-",Status:T.status||"pending",Date:T.createdAt?new Date(T.createdAt).toLocaleDateString():"Unknown"})),b=i5.json_to_sheet(v),S=i5.book_new();i5.book_append_sheet(S,b,"Purchases"),mle(S,"purchases.xlsx")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"📊 Purchase Analytics"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",r||"Never"]}),l.jsx("button",{onClick:c,disabled:i,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Loading..."]}):l.jsx(l.Fragment,{children:"🔄 Refresh"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-blue-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Total Orders"}),l.jsx("p",{className:"text-3xl font-bold",children:t.length})]}),l.jsx(aa,{className:"w-8 h-8 opacity-80"})]})}),l.jsx("div",{className:"bg-green-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Total Revenue"}),l.jsxs("p",{className:"text-3xl font-bold",children:["₹",f.toFixed(2)]})]}),l.jsx(KO,{className:"w-8 h-8 opacity-80"})]})}),l.jsx("div",{className:"bg-purple-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Completed"}),l.jsx("p",{className:"text-3xl font-bold",children:d})]}),l.jsx(r0,{className:"w-8 h-8 opacity-80"})]})}),l.jsx("div",{className:"bg-orange-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Avg Order"}),l.jsxs("p",{className:"text-3xl font-bold",children:["₹",p.toFixed(0)]})]}),l.jsx(Qa,{className:"w-8 h-8 opacity-80"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📈 Recent Activity (Last 7 Days)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Recent Orders"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.length})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Recent Revenue"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₹",x.reduce((v,b)=>v+(b.totalAmount||0),0).toFixed(2)]})]})]})]}),t.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🛒 Recent Purchases"}),l.jsx("button",{onClick:y,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"⬇️ Download as Excel"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice(0,10).map((v,b)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.id||v.orderId||`ORDER_${b+1}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.userName||v.userEmail||"Unknown"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",v.totalAmount||v.amount||0]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Array.isArray(v.items)&&v.items.length>0?v.items.map((S,T)=>l.jsxs("span",{children:[S.productName," x",S.quantity,S.size?` (${S.size})`:"",T<v.items.length-1?", ":""]},T)):l.jsx("span",{className:"text-gray-400",children:"-"})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsxs("select",{value:v.status||"pending",onChange:S=>h(v.id,S.target.value),disabled:s===v.id,className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border focus:outline-none ${m(v.status)}`,style:{minWidth:100},children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"processing",children:"Processing"}),l.jsx("option",{value:"shipped",children:"Shipped"}),l.jsx("option",{value:"delivered",children:"Delivered"}),l.jsx("option",{value:"cancelled",children:"Cancelled"}),l.jsx("option",{value:"refunded",children:"Refunded"}),l.jsx("option",{value:"completed",children:"Completed"})]}),s===v.id&&l.jsx("span",{className:"ml-2 text-xs text-gray-400 animate-pulse",children:"Updating..."})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.createdAt?new Date(v.createdAt).toLocaleDateString():"Unknown"})]},v.id||b))})]})})]}),t.length===0&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border",children:[l.jsx(aa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No purchases found!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Purchases will appear here once customers complete their orders."}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[l.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"💾 Database Notice"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Purchase data is now stored in MongoDB! This shows real purchase data from the database. If no purchases appear, it means no orders have been placed yet."})]})]})]})},jle=({onLogin:t})=>{const[e,r]=C.useState({email:"",password:""}),[n,i]=C.useState(!1),[a,s]=C.useState(!1),[o,c]=C.useState(""),u=async f=>{f.preventDefault(),s(!0),c("");try{await t(e.email,e.password)}catch(d){c(d.message||"Login failed")}finally{s(!1)}},h=(f,d)=>{r({email:f,password:d}),t(f,d)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Ch,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"🔒 Admin Login"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your admin credentials to continue"})]}),o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:o}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),l.jsx("input",{type:"email",value:e.email,onChange:f=>r({...e,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"admin@tshirtapp.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:n?"text":"password",value:e.password,onChange:f=>r({...e,password:f.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter admin password",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?l.jsx(e0,{className:"w-4 h-4"}):l.jsx(du,{className:"w-4 h-4"})})]})]}),l.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:a?"Logging in...":"Login to Admin Dashboard"})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Quick Login (Development Only)"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>h("admin@tshirtapp.com","admin123"),className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg text-sm font-medium",children:"🚀 Login as Admin (admin@tshirtapp.com / admin123)"}),l.jsx("button",{onClick:()=>h("user@test.com","user123"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg text-sm font-medium",children:"👤 Login as User (user@test.com / user123)"}),l.jsx("button",{onClick:()=>h("superadmin@tshirtapp.com","super123"),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-lg text-sm font-medium",children:"👑 Login as Super Admin (superadmin@tshirtapp.com / super123)"})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.location.href="/",className:"text-gray-500 hover:text-gray-700 text-sm",children:"← Back to Home"})})]})})},kle=()=>{const{user:t,login:e,logout:r}=hi(),[n,i]=C.useState("notifications");console.log("🔍 AdminPage - Current user:",t),console.log("🔍 AdminPage - User email:",t==null?void 0:t.email);const a=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="superadmin";console.log("🔍 AdminPage - Is admin?",a);const s=async(o,c)=>{console.log("🔐 Admin login attempt:",o);try{await e(o,c,!0),console.log("✅ Admin login successful")}catch(u){throw console.error("❌ Admin login failed:",u),u}};return t?a?l.jsxs("div",{className:"min-h-screen bg-gray-50 p-20",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"py-6 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"🛡️ Admin Dashboard"}),l.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome, ",l.jsx("strong",{children:t.name||t.email})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Role: ",l.jsx("span",{className:"font-medium text-green-600",children:t.role||"Admin"})]}),l.jsxs("button",{onClick:()=>{r(),window.location.href="/"},className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[l.jsx(Vv,{className:"w-4 h-4"}),"Logout"]})]})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>i("notifications"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${n==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(AS,{className:"w-4 h-4"}),"🔔 Notifications"]}),l.jsxs("button",{onClick:()=>i("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${n==="analytics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(KO,{className:"w-4 h-4"}),"📊 Analytics"]}),l.jsxs("button",{onClick:()=>i("products"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${n==="products"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(r0,{className:"w-4 h-4"}),"📦 Products"]})]})})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="notifications"&&l.jsx(Iee,{}),n==="analytics"&&l.jsx(Ele,{}),n==="products"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsx(Fee,{})})]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[l.jsx(Qa,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"⛔ Access Denied"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["You're logged in as: ",l.jsx("strong",{children:t.email})]}),l.jsx("p",{className:"text-gray-600 mb-6",children:"But you don't have admin permissions."}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>{r(),window.location.reload()},className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium",children:"🔓 Logout & Login as Admin"}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg",children:"← Back to Home"})]})]})}):l.jsx(jle,{onLogin:s})};var a5="focusScope.autoFocusOnMount",s5="focusScope.autoFocusOnUnmount",Lj={bubbles:!1,cancelable:!0},Ole="FocusScope",qM=C.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,c]=C.useState(null),u=lo(i),h=lo(a),f=C.useRef(null),d=Ci(e,m=>c(m)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let m=function(S){if(p.paused||!o)return;const T=S.target;o.contains(T)?f.current=T:Oc(f.current,{select:!0})},y=function(S){if(p.paused||!o)return;const T=S.relatedTarget;T!==null&&(o.contains(T)||Oc(f.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Oc(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[n,o,p.paused]),C.useEffect(()=>{if(o){Pj.add(p);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(a5,Lj);o.addEventListener(a5,u),o.dispatchEvent(v),v.defaultPrevented||(Lle(Fle(VM(o)),{select:!0}),document.activeElement===m&&Oc(o))}return()=>{o.removeEventListener(a5,u),setTimeout(()=>{const v=new CustomEvent(s5,Lj);o.addEventListener(s5,h),o.dispatchEvent(v),v.defaultPrevented||Oc(m??document.body,{select:!0}),o.removeEventListener(s5,h),Pj.remove(p)},0)}}},[o,u,h,p]);const x=C.useCallback(m=>{if(!r&&!n||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const b=m.currentTarget,[S,T]=Dle(b);S&&T?!m.shiftKey&&v===T?(m.preventDefault(),r&&Oc(S,{select:!0})):m.shiftKey&&v===S&&(m.preventDefault(),r&&Oc(T,{select:!0})):v===b&&m.preventDefault()}},[r,n,p.paused]);return l.jsx(Ir.div,{tabIndex:-1,...s,ref:d,onKeyDown:x})});qM.displayName=Ole;function Lle(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Oc(n,{select:e}),document.activeElement!==r)return}function Dle(t){const e=VM(t),r=Dj(e,t),n=Dj(e.reverse(),t);return[r,n]}function VM(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Dj(t,e){for(const r of t)if(!Ple(r,{upTo:e}))return r}function Ple(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rle(t){return t instanceof HTMLInputElement&&"select"in t}function Oc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Rle(t)&&e&&t.select()}}var Pj=Mle();function Mle(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Rj(t,e),t.unshift(e)},remove(e){var r;t=Rj(t,e),(r=t[0])==null||r.resume()}}}function Rj(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Fle(t){return t.filter(e=>e.tagName!=="A")}var o5=0;function Ile(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Mj()),document.body.insertAdjacentElement("beforeend",t[1]??Mj()),o5++,()=>{o5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),o5--}},[])}function Mj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hv="right-scroll-bar-position",fv="width-before-scroll-bar",Ble="with-scroll-bars-hidden",zle="--removed-body-scroll-bar-size";function l5(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ule(t,e){var r=C.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Hle=typeof window<"u"?C.useLayoutEffect:C.useEffect,Fj=new WeakMap;function qle(t,e){var r=Ule(null,function(n){return t.forEach(function(i){return l5(i,n)})});return Hle(function(){var n=Fj.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(o){a.has(o)||l5(o,null)}),a.forEach(function(o){i.has(o)||l5(o,s)})}Fj.set(r,t)},[t]),r}function Vle(t){return t}function Wle(t,e){e===void 0&&(e=Vle);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var c=function(){var h=s;s=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){s.push(h),u()},filter:function(h){return s=s.filter(h),r}}}};return i}function Gle(t){t===void 0&&(t={});var e=Wle(null);return e.options=Io({async:!0,ssr:!1},t),e}var WM=function(t){var e=t.sideCar,r=IP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,Io({},r))};WM.isSideCarExport=!0;function Yle(t,e){return t.useMedium(e),WM}var GM=Gle(),c5=function(){},Wy=C.forwardRef(function(t,e){var r=C.useRef(null),n=C.useState({onScrollCapture:c5,onWheelCapture:c5,onTouchMoveCapture:c5}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,d=t.sideCar,p=t.noRelative,x=t.noIsolation,m=t.inert,y=t.allowPinchZoom,v=t.as,b=v===void 0?"div":v,S=t.gapMode,T=IP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=d,P=qle([r,e]),j=Io(Io({},T),i);return C.createElement(C.Fragment,null,h&&C.createElement(E,{sideCar:GM,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:m,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:S}),s?C.cloneElement(C.Children.only(o),Io(Io({},j),{ref:P})):C.createElement(b,Io({},j,{className:c,ref:P}),o))});Wy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wy.classNames={fullWidth:fv,zeroRight:hv};var Xle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $le(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Xle();return e&&t.setAttribute("nonce",e),t}function Kle(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Qle(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Jle=function(){var t=0,e=null;return{add:function(r){t==0&&(e=$le())&&(Kle(e,r),Qle(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Zle=function(){var t=Jle();return function(e,r){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},YM=function(){var t=Zle(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},ece={left:0,top:0,right:0,gap:0},u5=function(t){return parseInt(t||"",10)||0},tce=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[u5(r),u5(n),u5(i)]},rce=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ece;var e=tce(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},nce=YM(),Ad="data-scroll-locked",ice=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ble,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ad,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hv,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(fv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(hv," .").concat(hv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fv," .").concat(fv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ad,`] {
    `).concat(zle,": ").concat(o,`px;
  }
`)},Ij=function(){var t=parseInt(document.body.getAttribute(Ad)||"0",10);return isFinite(t)?t:0},ace=function(){C.useEffect(function(){return document.body.setAttribute(Ad,(Ij()+1).toString()),function(){var t=Ij()-1;t<=0?document.body.removeAttribute(Ad):document.body.setAttribute(Ad,t.toString())}},[])},sce=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;ace();var a=C.useMemo(function(){return rce(i)},[i]);return C.createElement(nce,{styles:ice(a,!e,i,r?"":"!important")})},D4=!1;if(typeof window<"u")try{var Lx=Object.defineProperty({},"passive",{get:function(){return D4=!0,!0}});window.addEventListener("test",Lx,Lx),window.removeEventListener("test",Lx,Lx)}catch{D4=!1}var Of=D4?{passive:!1}:!1,oce=function(t){return t.tagName==="TEXTAREA"},XM=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!oce(t)&&r[e]==="visible")},lce=function(t){return XM(t,"overflowY")},cce=function(t){return XM(t,"overflowX")},Bj=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=$M(t,n);if(i){var a=KM(t,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uce=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},hce=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},$M=function(t,e){return t==="v"?lce(e):cce(e)},KM=function(t,e){return t==="v"?uce(e):hce(e)},fce=function(t,e){return t==="h"&&e==="rtl"?-1:1},dce=function(t,e,r,n,i){var a=fce(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,c=e.contains(o),u=!1,h=s>0,f=0,d=0;do{if(!o)break;var p=KM(t,o),x=p[0],m=p[1],y=p[2],v=m-y-a*x;(x||v)&&$M(t,o)&&(f+=v,d+=x);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(h&&Math.abs(f)<1||!h&&Math.abs(d)<1)&&(u=!0),u},Dx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zj=function(t){return[t.deltaX,t.deltaY]},Uj=function(t){return t&&"current"in t?t.current:t},pce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mce=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gce=0,Lf=[];function xce(t){var e=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),i=C.useState(gce++)[0],a=C.useState(YM)[0],s=C.useRef(t);C.useEffect(function(){s.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=GJ([t.lockRef.current],(t.shards||[]).map(Uj),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=C.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var v=Dx(m),b=r.current,S="deltaX"in m?m.deltaX:b[0]-v[0],T="deltaY"in m?m.deltaY:b[1]-v[1],E,P=m.target,j=Math.abs(S)>Math.abs(T)?"h":"v";if("touches"in m&&j==="h"&&P.type==="range")return!1;var L=Bj(j,P);if(!L)return!0;if(L?E=j:(E=j==="v"?"h":"v",L=Bj(j,P)),!L)return!1;if(!n.current&&"changedTouches"in m&&(S||T)&&(n.current=E),!E)return!0;var F=n.current||E;return dce(F,y,m,F==="h"?S:T)},[]),c=C.useCallback(function(m){var y=m;if(!(!Lf.length||Lf[Lf.length-1]!==a)){var v="deltaY"in y?zj(y):Dx(y),b=e.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&pce(E.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var S=(s.current.shards||[]).map(Uj).filter(Boolean).filter(function(E){return E.contains(y.target)}),T=S.length>0?o(y,S[0]):!s.current.noIsolation;T&&y.cancelable&&y.preventDefault()}}},[]),u=C.useCallback(function(m,y,v,b){var S={name:m,delta:y,target:v,should:b,shadowParent:vce(v)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(T){return T!==S})},1)},[]),h=C.useCallback(function(m){r.current=Dx(m),n.current=void 0},[]),f=C.useCallback(function(m){u(m.type,zj(m),m.target,o(m,t.lockRef.current))},[]),d=C.useCallback(function(m){u(m.type,Dx(m),m.target,o(m,t.lockRef.current))},[]);C.useEffect(function(){return Lf.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",c,Of),document.addEventListener("touchmove",c,Of),document.addEventListener("touchstart",h,Of),function(){Lf=Lf.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Of),document.removeEventListener("touchmove",c,Of),document.removeEventListener("touchstart",h,Of)}},[]);var p=t.removeScrollBar,x=t.inert;return C.createElement(C.Fragment,null,x?C.createElement(a,{styles:mce(i)}):null,p?C.createElement(sce,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vce(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yce=Yle(GM,xce);var QM=C.forwardRef(function(t,e){return C.createElement(Wy,Io({},t,{ref:e,sideCar:yce}))});QM.classNames=Wy.classNames;var bce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Df=new WeakMap,Px=new WeakMap,Rx={},h5=0,JM=function(t){return t&&(t.host||JM(t.parentNode))},wce=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=JM(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Sce=function(t,e,r,n){var i=wce(e,Array.isArray(t)?t:[t]);Rx[r]||(Rx[r]=new WeakMap);var a=Rx[r],s=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(d){if(o.has(d))h(d);else try{var p=d.getAttribute(n),x=p!==null&&p!=="false",m=(Df.get(d)||0)+1,y=(a.get(d)||0)+1;Df.set(d,m),a.set(d,y),s.push(d),m===1&&x&&Px.set(d,!0),y===1&&d.setAttribute(r,"true"),x||d.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",d,v)}})};return h(e),o.clear(),h5++,function(){s.forEach(function(f){var d=Df.get(f)-1,p=a.get(f)-1;Df.set(f,d),a.set(f,p),d||(Px.has(f)||f.removeAttribute(n),Px.delete(f)),p||f.removeAttribute(r)}),h5--,h5||(Df=new WeakMap,Df=new WeakMap,Px=new WeakMap,Rx={})}},_ce=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=bce(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Sce(n,i,r,"aria-hidden")):function(){return null}},Gy="Dialog",[ZM,Vue]=Cu(Gy),[Nce,xo]=ZM(Gy),eF=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=C.useRef(null),c=C.useRef(null),[u,h]=Sg({prop:n,defaultProp:i??!1,onChange:a,caller:Gy});return l.jsx(Nce,{scope:e,triggerRef:o,contentRef:c,contentId:rm(),titleId:rm(),descriptionId:rm(),open:u,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(f=>!f),[h]),modal:s,children:r})};eF.displayName=Gy;var tF="DialogTrigger",rF=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xo(tF,r),a=Ci(e,i.triggerRef);return l.jsx(Ir.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vN(i.open),...n,ref:a,onClick:Jr(t.onClick,i.onOpenToggle)})});rF.displayName=tF;var gN="DialogPortal",[Tce,nF]=ZM(gN,{forceMount:void 0}),iF=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=xo(gN,e);return l.jsx(Tce,{scope:e,forceMount:r,children:C.Children.map(n,s=>l.jsx(Bh,{present:r||a.open,children:l.jsx(q3,{asChild:!0,container:i,children:s})}))})};iF.displayName=gN;var D2="DialogOverlay",aF=C.forwardRef((t,e)=>{const r=nF(D2,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=xo(D2,t.__scopeDialog);return a.modal?l.jsx(Bh,{present:n||a.open,children:l.jsx(Ace,{...i,ref:e})}):null});aF.displayName=D2;var Cce=Om("DialogOverlay.RemoveScroll"),Ace=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xo(D2,r);return l.jsx(QM,{as:Cce,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Ir.div,{"data-state":vN(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ph="DialogContent",sF=C.forwardRef((t,e)=>{const r=nF(Ph,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=xo(Ph,t.__scopeDialog);return l.jsx(Bh,{present:n||a.open,children:a.modal?l.jsx(Ece,{...i,ref:e}):l.jsx(jce,{...i,ref:e})})});sF.displayName=Ph;var Ece=C.forwardRef((t,e)=>{const r=xo(Ph,t.__scopeDialog),n=C.useRef(null),i=Ci(e,r.contentRef,n);return C.useEffect(()=>{const a=n.current;if(a)return _ce(a)},[]),l.jsx(oF,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jr(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Jr(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:Jr(t.onFocusOutside,a=>a.preventDefault())})}),jce=C.forwardRef((t,e)=>{const r=xo(Ph,t.__scopeDialog),n=C.useRef(!1),i=C.useRef(!1);return l.jsx(oF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),oF=C.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=xo(Ph,r),c=C.useRef(null),u=Ci(e,c);return Ile(),l.jsxs(l.Fragment,{children:[l.jsx(qM,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(ey,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":vN(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(kce,{titleId:o.titleId}),l.jsx(Lce,{contentRef:c,descriptionId:o.descriptionId})]})]})}),xN="DialogTitle",lF=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xo(xN,r);return l.jsx(Ir.h2,{id:i.titleId,...n,ref:e})});lF.displayName=xN;var cF="DialogDescription",uF=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xo(cF,r);return l.jsx(Ir.p,{id:i.descriptionId,...n,ref:e})});uF.displayName=cF;var hF="DialogClose",fF=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xo(hF,r);return l.jsx(Ir.button,{type:"button",...n,ref:e,onClick:Jr(t.onClick,()=>i.onOpenChange(!1))})});fF.displayName=hF;function vN(t){return t?"open":"closed"}var dF="DialogTitleWarning",[Wue,pF]=yU(dF,{contentName:Ph,titleName:xN,docsSlug:"dialog"}),kce=({titleId:t})=>{const e=pF(dF),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Oce="DialogDescriptionWarning",Lce=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pF(Oce).contentName}}.`;return C.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Dce=eF,Pce=rF,Rce=iF,mF=aF,gF=sF,xF=lF,vF=uF,Mce=fF;const Fce=Dce,Ice=Pce,Bce=Rce,yF=C.forwardRef(({className:t,...e},r)=>l.jsx(mF,{className:Wr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));yF.displayName=mF.displayName;const zce=ny("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bF=C.forwardRef(({side:t="right",className:e,children:r,...n},i)=>l.jsxs(Bce,{children:[l.jsx(yF,{}),l.jsxs(gF,{ref:i,className:Wr(zce({side:t}),e),...n,children:[r,l.jsxs(Mce,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx($o,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bF.displayName=gF.displayName;const Uce=C.forwardRef(({className:t,...e},r)=>l.jsx(xF,{ref:r,className:Wr("text-lg font-semibold text-foreground",t),...e}));Uce.displayName=xF.displayName;const Hce=C.forwardRef(({className:t,...e},r)=>l.jsx(vF,{ref:r,className:Wr("text-sm text-muted-foreground",t),...e}));Hce.displayName=vF.displayName;function qce(){const{user:t,logout:e}=hi(),{state:r}=Vh(),{state:n}=L0();(t==null?void 0:t.email)==="admin@tshirtapp.com"||(t==null||t.role);const[i,a]=C.useState(!1),[s,o]=C.useState(0),[c,u]=C.useState({x:0,y:0}),[h,f]=C.useState(!1),[d,p]=C.useState(!1),x=C.useRef(null);C.useEffect(()=>{function v(b){x.current&&!x.current.contains(b.target)&&p(!1)}return d?document.addEventListener("mousedown",v):document.removeEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[d]),C.useEffect(()=>{const v=()=>{const S=window.scrollY;o(S)},b=S=>{u({x:S.clientX,y:S.clientY})};return window.addEventListener("scroll",v,{passive:!0}),window.addEventListener("mousemove",b,{passive:!0}),()=>{window.removeEventListener("scroll",v),window.removeEventListener("mousemove",b)}},[]);const m=Math.min(s/200,1),y=8+m*12;return l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
        .glass-navbar {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 50;
          backdrop-filter: blur(${y}px);
          background: rgba(15, 23, 42, ${.1+m*.4});
          border-bottom: 1px solid rgba(220, 38, 38, ${.2+m*.3});
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          height: 4rem; /* Fixed height for consistent spacing */
          transform: translateZ(0);
          will-change: transform, backdrop-filter;
        }

        .glass-navbar::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(
            135deg,
            rgba(220, 38, 38, 0.1) 0%,
            rgba(147, 51, 234, 0.05) 25%,
            rgba(59, 130, 246, 0.05) 50%,
            rgba(16, 185, 129, 0.05) 75%,
            rgba(245, 158, 11, 0.1) 100%
          );
          animation: gradientShift 8s ease-in-out infinite;
        }

        @keyframes gradientShift {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 0.6; }
        }

        .glass-nav-container {
          position: relative;
          z-index: 10;
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 1rem;
        }

        .glass-brand {
          position: relative;
          display: flex;
          align-items: center;
          padding: 0.75rem 1rem;
          text-decoration: none;
          overflow: hidden;
          border-radius: 0.75rem;
          transition: all 0.3s ease;
          /* margin-right: 33rem; */
          margin-right: 0; /* No right margin for better alignment */
          margin-left: -1rem;
        }

        .glass-brand:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 32px rgba(220, 38, 38, 0.3);
        }

        .glass-brand::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(241, 245, 249, 0.1));
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .glass-brand:hover::before {
          opacity: 1;
        }

        .animated-text {
          color: #fff;
          font-weight: 800;
          font-size: 1.75rem;
          position: relative;
          z-index: 10;
          text-shadow: 0 0 8px #fff, 0 0 2px #fff;
        }

        @keyframes textGradient {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        .glass-nav-list {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          list-style: none;
          margin: 0;
          padding: 0;
        }

        .glass-nav-item {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 0.75rem 1.5rem;
          border-radius: 1rem;
          text-decoration: none;
          color: white;
          font-weight: 500;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          overflow: hidden;
          backdrop-filter: blur(10px);
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-nav-item:hover {
          transform: translateY(-3px) scale(1.05);
          box-shadow: 0 10px 40px rgba(220, 38, 38, 0.3);
          background: rgba(255, 255, 255, 0.1);
          border-color: rgba(220, 38, 38, 0.4);
        }

        .admin-nav-item {
          background: rgba(34, 197, 94, 0.1);
          border-color: rgba(34, 197, 94, 0.3);
        }

        .admin-nav-item:hover {
          background: rgba(34, 197, 94, 0.2);
          border-color: rgba(34, 197, 94, 0.5);
          box-shadow: 0 10px 40px rgba(34, 197, 94, 0.3);
        }

        .glass-nav-bg {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(45deg, rgba(220, 38, 38, 0.2), rgba(147, 51, 234, 0.2));
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .admin-nav-bg {
          background: linear-gradient(45deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.2));
        }

        .glass-nav-item:hover .glass-nav-bg {
          opacity: 1;
        }

        .glass-nav-content {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .nav-icon {
          transition: all 0.3s ease;
        }

        .nav-title {
          font-size: 0.875rem;
          font-weight: 600;
          letter-spacing: 0.025em;
        }

        .glass-dropdown {
          backdrop-filter: blur(20px);
          background: rgba(15, 23, 42, 0.9);
          border: 1px solid rgba(220, 38, 38, 0.3);
          border-radius: 0.75rem;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .glass-dropdown-item {
          color: white;
          transition: all 0.2s ease;
          padding: 0.75rem 1rem;
          border-radius: 0.5rem;
          margin: 0.125rem;
        }

        .glass-dropdown-item:hover {
          background: rgba(220, 38, 38, 0.2);
          transform: translateX(4px);
        }

        .mobile-menu-trigger {
          backdrop-filter: blur(10px);
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 0.75rem;
          transition: all 0.3s ease;
        }

        .mobile-menu-trigger:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: scale(1.05);
        }

        .floating-orb {
          position: absolute;
          width: 200px;
          height: 200px;
          border-radius: 50%;
          background: linear-gradient(45deg, rgba(220, 38, 38, 0.1), rgba(147, 51, 234, 0.1));
          filter: blur(40px);
          animation: float 6s ease-in-out infinite;
          pointer-events: none;
        }

        .floating-orb:nth-child(1) {
          top: -100px;
          left: 10%;
          animation-delay: 0s;
        }

        .floating-orb:nth-child(2) {
          top: -100px;
          right: 10%;
          animation-delay: -2s;
        }

        .floating-orb:nth-child(3) {
          top: -100px;
          left: 50%;
          animation-delay: -4s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          33% { transform: translateY(-20px) rotate(120deg); }
          66% { transform: translateY(-10px) rotate(240deg); }
        }

        .nav-container-flex {
          display: flex;
          justify-content: space-between;
          align-items: center;
          height: 4rem;
        }

        .nav-menu-section {
          display: flex;
          align-items: center;
          margin-left: auto;
          margin-right: -8rem;
        }

        @media (max-width: 768px) {
          .glass-nav-list {
            display: none;
          }
          
          .nav-menu-section {
            margin-right: 0;
          }
          
          .glass-nav-container {
            padding: 0 -1rem;
          }
          
          .glass-brand {
            margin-right: 1rem;
          }
          
          .animated-text {
            font-size: 1.5rem;
          }
        }
      `}),l.jsxs("nav",{className:"glass-navbar",children:[l.jsx("div",{className:"floating-orb"}),l.jsx("div",{className:"floating-orb"}),l.jsx("div",{className:"floating-orb"}),l.jsx("div",{className:"glass-nav-container",children:l.jsxs("div",{className:"nav-container-flex",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",style:{marginLeft:"-1rem"},children:l.jsx(yr,{href:"/",className:"glass-brand",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"animated-text text-lg font-bold text-orange-500",children:"ANIME"}),l.jsx("span",{className:"animated-text text-lg font-bold text-orange-500 ml-1",children:"INDIA"}),l.jsx("span",{className:"animated-text text-sm font-medium text-white ml-2",children:"POD"})]})})}),l.jsx("div",{className:"nav-menu-section ml-auto",children:l.jsxs("ul",{className:"glass-nav-list",children:[l.jsx("li",{children:l.jsxs(yr,{href:"/",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(kH,{size:18})}),l.jsx("span",{className:"nav-title",children:"Home"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),l.jsx("li",{children:l.jsxs(yr,{href:"/products",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(tm,{size:18})}),l.jsx("span",{className:"nav-title",children:"Products"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),l.jsx("li",{children:l.jsxs(yr,{href:"/customize",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(n7,{size:18})}),l.jsx("span",{className:"nav-title",children:"Customize"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),l.jsx("li",{children:l.jsxs(yr,{href:"/contact",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(tc,{size:18})}),l.jsx("span",{className:"nav-title",children:"Contact"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),l.jsx("li",{children:t?l.jsxs("div",{style:{position:"relative"},ref:x,children:[l.jsxs("button",{className:"glass-nav-item group",onClick:()=>p(v=>!v),children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(Qa,{size:18})}),l.jsx("span",{className:"nav-title",children:"Account"})]}),l.jsx("div",{className:"glass-nav-bg"})]}),d&&l.jsxs("div",{className:"glass-dropdown",style:{position:"absolute",right:0,top:"2.5rem",minWidth:"160px"},children:[l.jsxs(yr,{href:"/account",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(Qa,{size:16,className:"inline mr-2"})," My Account"]}),l.jsxs(yr,{href:"/cart",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(aa,{size:16,className:"inline mr-2"})," My Cart"]}),l.jsxs(yr,{href:"/wishlist",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(ks,{size:16,className:"inline mr-2"})," My Wishlist"]}),l.jsxs(yr,{href:"/user-orders",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(tm,{size:16,className:"inline mr-2"})," My Orders"]}),l.jsxs("button",{className:"glass-dropdown-item block w-full text-left",onClick:()=>{e(),p(!1)},children:[l.jsx(Vv,{size:16,className:"inline mr-2"})," Logout"]})]})]}):l.jsxs("button",{className:"glass-nav-item group",onClick:()=>f(!0),children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(Qa,{size:18})}),l.jsx("span",{className:"nav-title",children:"Account"})]}),l.jsx("div",{className:"glass-nav-bg"})]})})]})}),l.jsxs(Fce,{children:[l.jsx(Ice,{asChild:!0,className:"md:hidden",children:l.jsxs($t,{variant:"ghost",size:"icon",className:"mobile-menu-trigger",children:[l.jsx(MH,{className:"h-6 w-6 text-white"}),l.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),l.jsx(bF,{side:"right",className:"w-[240px] sm:w-[300px] bg-gradient-to-br from-slate-900/95 to-black/95 backdrop-blur-xl text-white border-red-800/30",children:l.jsxs("div",{className:"py-4 flex flex-col space-y-4",children:[l.jsx(yr,{href:"/",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:"🏠 Home"}),l.jsx(yr,{href:"/products",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:"🛍️ Products"}),l.jsx(yr,{href:"/customize",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:"🎨 Customize"}),l.jsx(yr,{href:"/contact",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:"📧 Contact"}),l.jsxs(yr,{href:"/cart",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors flex items-center justify-between",children:["🛒 Cart",r.cart&&r.cart.itemCount>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:r.cart.itemCount})]}),l.jsxs(yr,{href:"/wishlist",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors flex items-center justify-between",children:["❤️ Wishlist",n.wishlist&&n.wishlist.itemCount>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n.wishlist.itemCount})]}),t?l.jsxs("div",{style:{position:"relative"},ref:x,children:[l.jsxs($t,{className:"glass-nav-item group w-full justify-center text-lg",onClick:()=>p(v=>!v),children:[l.jsx(Qa,{size:20})," Account"]}),d&&l.jsxs("div",{className:"glass-dropdown",style:{position:"absolute",right:0,top:"2.5rem",minWidth:"160px"},children:[l.jsxs(yr,{href:"/account",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(Qa,{size:16,className:"inline mr-2"})," My Account"]}),l.jsxs(yr,{href:"/cart",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(aa,{size:16,className:"inline mr-2"})," My Cart"]}),l.jsxs(yr,{href:"/wishlist",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(ks,{size:16,className:"inline mr-2"})," My Wishlist"]}),l.jsxs(yr,{href:"/user-orders",className:"glass-dropdown-item block",onClick:()=>p(!1),children:[l.jsx(tm,{size:16,className:"inline mr-2"})," My Orders"]}),l.jsxs("button",{className:"glass-dropdown-item block w-full text-left",onClick:()=>{e(),p(!1)},children:[l.jsx(Vv,{size:16,className:"inline mr-2"})," Logout"]})]})]}):l.jsxs($t,{className:"glass-nav-item group w-full justify-center text-lg",onClick:()=>f(!0),children:[l.jsx("div",{className:"glass-nav-content",children:l.jsx("span",{className:"nav-title",children:"Login"})}),l.jsx("div",{className:"glass-nav-bg"})]})]})})]})]})})]}),l.jsx(x2,{isOpen:h,onClose:()=>f(!1),defaultMode:"login"})]})}function Vce(){const t=new Date().getFullYear(),[e,r]=C.useState(!1);return C.useEffect(()=>{r(!0)},[]),l.jsxs("footer",{className:"bg-gradient-to-b from-gray-900 to-black text-white pt-16 pb-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1607604276583-eef5d076aa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080&q=80')] bg-fixed bg-center bg-no-repeat opacity-[0.03]"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-red-600/5 rounded-full blur-3xl animate-pulse-slow"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-600/5 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-700 via-red-600 to-red-700 opacity-30"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-8 transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsxs(yr,{href:"/",className:"group inline-flex items-center pb-2",children:[l.jsx("span",{className:"font-bold text-3xl animated-text",children:"ANIME"}),l.jsx("span",{className:"ml-2 font-bold text-3xl animated-text",children:"INDIA"}),l.jsx("span",{className:"ml-2 font-bold text-3xl animated-text",children:"POD"})]}),l.jsxs("div",{className:"mt-6 bg-white/5 backdrop-blur-sm p-4 rounded-lg border border-white/10",children:[l.jsx("p",{className:"text-gray-300",children:"Express your anime passion with our premium custom merchandise."}),l.jsxs("div",{className:"mt-4 flex space-x-5",children:[l.jsx("a",{href:"#",className:"text-white/70 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1",children:l.jsx("div",{className:"bg-white/10 hover:bg-white/20 p-2 rounded-full",children:l.jsx(LH,{size:20})})}),l.jsx("a",{href:"#",className:"text-white/70 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1",children:l.jsx("div",{className:"bg-white/10 hover:bg-white/20 p-2 rounded-full",children:l.jsx(eq,{size:20})})}),l.jsx("a",{href:"#",className:"text-white/70 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1",children:l.jsx("div",{className:"bg-white/10 hover:bg-white/20 p-2 rounded-full",children:l.jsx(XH,{size:20})})})]})]})]}),l.jsxs("div",{className:"mt-4 md:mt-0",children:[l.jsxs("h3",{className:"text-lg font-bold mb-5 text-white relative inline-block",children:["Products",l.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-red-500"})]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsxs("a",{href:"#regular",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Regular T-Shirts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#oversized",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Oversized T-Shirts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#polo",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Polo T-Shirts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#phone-covers",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Phone Covers"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#plates",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Plates"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#bottles",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Bottles"]})})]})]}),l.jsxs("div",{className:"mt-4 md:mt-0",children:[l.jsxs("h3",{className:"text-lg font-bold mb-5 text-white relative inline-block",children:["Resources",l.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-red-500"})]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsxs(yr,{href:"/customize",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Customization Guide"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Anime Design Tips"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Size Charts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Design Gallery"]})}),l.jsx("li",{children:l.jsxs(yr,{href:"/contact",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Contact"]})})]})]}),l.jsxs("div",{className:"mt-4 md:mt-0",children:[l.jsxs("h3",{className:"text-lg font-bold mb-5 text-white relative inline-block",children:["Customer Support",l.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-red-500"})]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"FAQs"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Shipping Information"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Returns & Exchanges"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Order Tracking"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Bn,{className:"h-3 w-3"})}),"Bulk Orders"]})})]})]})]}),l.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800/70 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-8 w-8 mr-3",children:l.jsxs("svg",{viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[l.jsx("path",{d:"M18 36C27.9411 36 36 27.9411 36 18C36 8.05887 27.9411 0 18 0C8.05887 0 0 8.05887 0 18C0 27.9411 8.05887 36 18 36Z",fill:"#1A1A1A"}),l.jsx("path",{d:"M28.5 18C28.5 23.799 23.799 28.5 18 28.5C12.201 28.5 7.5 23.799 7.5 18C7.5 12.201 12.201 7.5 18 7.5C23.799 7.5 28.5 12.201 28.5 18Z",stroke:"#EF4444",strokeWidth:"1.5"}),l.jsx("path",{d:"M24 18C24 21.3137 21.3137 24 18 24C14.6863 24 12 21.3137 12 18C12 14.6863 14.6863 12 18 12C21.3137 12 24 14.6863 24 18Z",fill:"#EF4444"})]})}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",t," ",l.jsx("span",{className:"text-red-500 font-semibold",children:"ANIME"}),l.jsx("span",{className:"text-gray-300",children:"INDIA"}),". All rights reserved."]})]}),l.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-6 text-sm",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors",children:"Privacy Policy"}),l.jsx("span",{className:"text-gray-700",children:"•"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors",children:"Terms of Service"}),l.jsx("span",{className:"text-gray-700",children:"•"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors",children:"Cookies Policy"})]})]})]})]})}const Ec={neko:{type:"neko",name:"Neko-chan",avatar:"https://api.dicebear.com/7.x/adventurer/svg?seed=Neko&backgroundColor=ffadad",expressions:{idle:"😊",happy:"😄",excited:"🤩",sad:"😢",confused:"😕"},animations:{entrance:"animate-bounce-in",idle:"animate-floating",talking:"animate-bounce-subtle",exit:"animate-slide-out"},greetings:["Nyaa~ Welcome to Anime India! I'm Neko-chan, your guide!","Konnichiwa! Need help finding the purr-fect anime merch?","Nyaa~ Looking for something special? I can help you!"],responses:{products:["We have the cutest anime t-shirts, nyaa~!","Check out our limited edition phone cases, they're paw-some!","Our anime water bottles are perfect for staying hydrated while watching your favorite shows!"],help:["Need help? Just ask me anything, nyaa~!","I can help you find the perfect anime merchandise, just tell me what you're looking for!","Not sure what to get? Try our customization tool to create your own design!"],customize:["You can create your own unique design in our customization page, nyaa~!","Want something unique? Try uploading your own artwork to our customizer!","Our customization tool lets you place designs exactly where you want them!"],random:["Did you know? One Piece has been running for over 20 years!","My favorite anime is... well, I love them all, nyaa~!","The most popular anime character in our store is currently Naruto!","Don't forget to check our weekly specials!"]}},samurai:{type:"samurai",name:"Kenshin",avatar:"https://api.dicebear.com/7.x/adventurer/svg?seed=Samurai&backgroundColor=c1deff",expressions:{idle:"😌",happy:"😁",excited:"⚔️",sad:"😔",confused:"🤔"},animations:{entrance:"animate-slide-in-right",idle:"animate-pulse-slow",talking:"animate-subtle-shake",exit:"animate-fade-out"},greetings:["Greetings, honorable customer. I am Kenshin, your merchandise guide.","Welcome to our dojo of anime merchandise. How may I assist you today?","A warrior seeks the perfect merchandise. May I help you on your quest?"],responses:{products:["Our samurai-inspired t-shirts are crafted with honor and quality.","The way of the warrior is represented in our exclusive anime collection.","Our battle-ready merchandise awaits your selection."],help:["A true warrior knows when to seek guidance. How may I assist you?","I am here to guide you through our collection with wisdom and expertise.","Ask, and you shall receive the knowledge you seek about our products."],customize:["Create a design that reflects your warrior spirit in our customization dojo.","The path to unique merchandise begins with our customization tools.","Express your true nature by designing your own battle gear."],random:["Did you know? The samurai code of bushido has seven virtues.","The most powerful weapon is not the sword, but knowledge of good merchandise.","Many anime series are inspired by Japan's rich samurai history.","A true warrior chooses quality over quantity. Our products offer both."]}},magical:{type:"magical",name:"Magi-chan",avatar:"https://api.dicebear.com/7.x/adventurer/svg?seed=Magical&backgroundColor=d4ffea",expressions:{idle:"✨",happy:"🌟",excited:"🔮",sad:"🌧️",confused:"❓"},animations:{entrance:"animate-sparkle-in",idle:"animate-glow-pulse",talking:"animate-magic-bounce",exit:"animate-poof-out"},greetings:["✨ Magical greetings! I'm Magi-chan, your enchanted shopping assistant! ✨","By the power of anime, I appear! How can I make your shopping magical today?","✨ Bibbidi-bobbidi-boo! Your magical guide has appeared! What's your wish? ✨"],responses:{products:["Our magical collection will transport you to your favorite anime worlds!","✨ These enchanted designs are limited edition - they might disappear in a poof! ✨","Each product is crafted with a sprinkle of magical quality and anime love!"],help:["My crystal ball can help you find exactly what you're looking for!","✨ Ask and you shall receive magical guidance through our collections! ✨","I've been trained in the ancient arts of customer assistance magic!"],customize:["✨ Our customization spell allows you to create truly magical merchandise! ✨","Wave your creative wand in our customization workshop!","Transform ordinary products into magical treasures with your own designs!"],random:["✨ Fun spell: The most magical anime series often involve transformation sequences!","Did you know? Our magical items are most powerful when worn during anime marathons!","The magic of anime brings people together across the world!","✨ Magical tip: Our weekly enchantments (sales) appear every Friday! ✨"]}}};function Wce({defaultMascot:t="neko",position:e="bottom-right",autoGreet:r=!0,minimizeByDefault:n=!1}){const[i,a]=C.useState(Ec[t]),[s,o]=C.useState(n),[c,u]=C.useState(!1),[h,f]=C.useState("idle"),[d,p]=C.useState(""),[x,m]=C.useState(!0),[y,v]=C.useState(i.animations.entrance),b=C.useRef(null),{toast:S}=H3(),[T,E]=F3(),P={"bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-right":"top-4 right-4","top-left":"top-4 left-4"};C.useEffect(()=>{if(r&&!s){const W=i.greetings[Math.floor(Math.random()*i.greetings.length)];j(W,"happy")}return()=>{b.current&&window.clearTimeout(b.current)}},[i,r,s]);const j=(W,D="idle")=>{f(D),p(W),v(i.animations.talking),b.current&&window.clearTimeout(b.current),b.current=window.setTimeout(()=>{p(""),f("idle"),v(i.animations.idle)},5e3)},L=W=>{u(!1),v(i.animations.exit),setTimeout(()=>{a(Ec[W]),v(Ec[W].animations.entrance),j(`Hello! I'm ${Ec[W].name}!`,"happy")},300)},F=()=>{m(!x),S({title:x?"Sound effects enabled":"Sound effects disabled",description:x?"You can now hear mascot interactions":"Mascot will be silent"})};return l.jsx("div",{className:`fixed ${P[e]} z-50 transition-all duration-300 ease-in-out`,children:s?l.jsx("div",{className:"cursor-pointer bg-white rounded-full p-2 shadow-lg hover:shadow-xl transition-all hover:scale-110",onClick:()=>o(!1),children:l.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center overflow-hidden border-2 border-red-500",children:l.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover animate-pulse-slow"})})}):l.jsx("div",{className:"mascot-container",children:l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-red-100 overflow-hidden w-72",children:[l.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-2 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-white font-medium",children:i.name}),l.jsx("button",{onClick:()=>u(!c),className:"ml-2 text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[l.jsx("path",{d:"m16 10-4-4-4 4"}),l.jsx("path",{d:"m16 14-4 4-4-4"})]})})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:F,className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1.5",children:x?l.jsx(JH,{className:"w-3.5 h-3.5"}):l.jsx(QH,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>o(!0),className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1.5",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5",children:l.jsx("path",{d:"M18 12H6"})})})]})]}),c&&l.jsxs("div",{className:"bg-white border-b border-gray-200 p-2 animate-fade-in",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Choose your companion:"}),l.jsx("div",{className:"flex space-x-2",children:Object.keys(Ec).map(W=>l.jsx("button",{onClick:()=>L(W),className:`flex-1 p-1.5 rounded-lg border transition-all ${i.type===W?"border-red-500 bg-red-50":"border-gray-200 hover:border-red-300 hover:bg-red-50"}`,children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:l.jsx("img",{src:Ec[W].avatar,alt:Ec[W].name,className:"w-full h-full object-cover"})}),l.jsx("span",{className:"text-xs mt-1",children:Ec[W].name})]})},W))})]}),l.jsxs("div",{className:"p-3 flex",children:[l.jsx("div",{className:"mr-3 flex-shrink-0",children:l.jsxs("div",{className:`relative w-16 h-16 rounded-full overflow-hidden border-2 border-red-200 ${y}`,children:[l.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute bottom-0 right-0 bg-white rounded-full w-6 h-6 flex items-center justify-center border border-red-200",children:l.jsx("span",{children:i.expressions[h]})})]})}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("div",{className:`bg-gray-100 p-2 rounded-lg min-h-[50px] flex items-center message-bubble ${d?"animate-pop-in":""}`,children:l.jsx("p",{className:"text-sm text-gray-800",children:d||"How can I help you today?"})}),l.jsx("div",{className:"absolute left-[-6px] top-3 w-3 h-3 bg-gray-100 transform rotate-45"})]})]}),l.jsxs("div",{className:"p-3 pt-0 grid grid-cols-2 gap-2",children:[l.jsx($t,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{j(i.responses.products[Math.floor(Math.random()*i.responses.products.length)],"happy"),setTimeout(()=>E("/products"),600)},children:"Show Products"}),l.jsx($t,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{j(i.responses.customize[Math.floor(Math.random()*i.responses.customize.length)],"excited"),setTimeout(()=>E("/customize"),600)},children:"Customize"}),l.jsx($t,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{j("Here are your orders, nyaa~!","excited"),setTimeout(()=>E("/user-orders"),600)},children:"Orders"}),l.jsx($t,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{j(i.responses.help[Math.floor(Math.random()*i.responses.help.length)],"happy"),setTimeout(()=>{window.open("https://wa.me/919266767693","_blank")},600)},children:"Need Help"})]})]})})})}const Hj=`${window.location.protocol}//${window.location.hostname}:5000`,P4=[{key:"pending",label:"Pending",icon:$3},{key:"processing",label:"Processing",icon:qH},{key:"shipped",label:"Shipped",icon:y0},{key:"delivered",label:"Delivered",icon:r0},{key:"completed",label:"Completed",icon:Ga},{key:"cancelled",label:"Cancelled",icon:ES},{key:"refunded",label:"Refunded",icon:ES}],f5=t=>{const e=P4.findIndex(r=>r.key===t);return e===-1?P4.length-1:e},Gce=()=>{const{user:t}=hi(),[e,r]=C.useState([]),[n,i]=C.useState([]),[a,s]=C.useState(!0),[o,c]=C.useState(null),[u,h]=C.useState(null);C.useEffect(()=>{(async()=>{s(!0),c(null);try{const p=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!p)throw new Error("You must be logged in to view your orders.");const x=await fetch(`${Hj}/api/purchases`,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}});if(!x.ok)throw new Error(`HTTP ${x.status}: ${x.statusText}`);const m=await x.json();if(!m.success||!Array.isArray(m.data))throw new Error(m.message||"Failed to fetch orders");r(m.data);const y=await sr.get(`${Hj}/api/products`);i(y.data.data||[])}catch(p){c(p.message||"Failed to load orders"),r([])}finally{s(!1)}})()},[]);const f=d=>{if(d.imageUrl)return d.imageUrl;const p=n.find(x=>x.name===d.productName);return p?p.imageUrl:void 0};return l.jsxs("div",{className:"max-w-6xl mx-auto pt-20 min-h-screen",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[l.jsx(aa,{className:"w-8 h-8 text-blue-600"}),"My Orders"]}),a&&l.jsx("div",{className:"text-center py-12 text-lg text-gray-600",children:"Loading your orders..."}),o&&l.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg text-center mb-4",children:o}),!a&&!o&&e.length===0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx(aa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders found"}),l.jsx("p",{className:"text-gray-600",children:"You haven't placed any orders yet."})]}),!a&&!o&&e.length>0&&l.jsx("div",{className:"space-y-6",children:e.map(d=>{var p,x;return l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(JO,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"font-medium",children:"Total:"})," ₹",d.totalAmount]}),l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx($3,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"font-medium",children:"Date:"})," ",d.createdAt?new Date(d.createdAt).toLocaleString():"Unknown"]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-2",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Items:"}),d.items&&d.items.length>0?d.items.map((m,y)=>l.jsxs("div",{className:"text-sm text-gray-700 flex items-center gap-2",children:[f(m)&&l.jsx("img",{src:f(m),alt:m.productName,className:"w-10 h-10 object-cover rounded shadow border border-gray-200 cursor-pointer hover:scale-105 transition-transform",onClick:()=>h({src:f(m),name:m.productName})}),l.jsx("span",{className:"font-semibold",children:m.productName}),l.jsxs("span",{children:["x",m.quantity]}),m.size&&l.jsxs("span",{className:"text-xs text-blue-600",children:["(",m.size,")"]})]},y)):l.jsx("span",{className:"text-gray-400",children:"No items"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsx(Qa,{className:"w-4 h-4 mr-1"}),((p=d.shippingAddress)==null?void 0:p.name)||(t==null?void 0:t.name)||(t==null?void 0:t.email),l.jsx("span",{children:"|"}),((x=d.shippingAddress)==null?void 0:x.email)||(t==null?void 0:t.email)]}),l.jsxs("div",{className:"relative mt-6 mb-2",children:[l.jsxs("div",{className:"absolute left-0 right-0 top-1/2 h-1 w-full z-0 flex",children:[l.jsx("div",{className:"h-1 rounded bg-blue-500 transition-all duration-300",style:{width:`${Math.max(0,Math.min(1,f5(d.status)/4))*100}%`,flex:"none"}}),l.jsx("div",{className:"h-1 rounded bg-gray-200 flex-1",style:{width:`${100-Math.max(0,Math.min(1,f5(d.status)/4))*100}%`}})]}),l.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[P4.slice(0,5).map((m,y)=>{const v=m.icon,b=f5(d.status),S=y<=b&&b<5,T=d.status==="cancelled"||d.status==="refunded";return l.jsxs("div",{className:"flex-1 flex flex-col items-center relative",children:[l.jsx("div",{className:`rounded-full w-8 h-8 flex items-center justify-center border-2 transition-all duration-200 ${T&&(m.key==="cancelled"||m.key==="refunded")?"bg-red-100 border-red-400 text-red-600":S?"bg-blue-100 border-blue-500 text-blue-600":"bg-gray-100 border-gray-300 text-gray-400"}`,children:l.jsx(v,{className:"w-5 h-5"})}),l.jsx("span",{className:`mt-2 text-xs font-medium ${T&&(m.key==="cancelled"||m.key==="refunded")?"text-red-600":S?"text-blue-700":"text-gray-400"}`,children:m.label})]},m.key)}),(d.status==="cancelled"||d.status==="refunded")&&l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"rounded-full w-8 h-8 flex items-center justify-center border-2 bg-red-100 border-red-400 text-red-600",children:l.jsx(ES,{className:"w-5 h-5"})}),l.jsx("span",{className:"mt-2 text-xs font-medium text-red-600 capitalize",children:d.status})]})]})]})]},d._id)})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",onClick:()=>h(null),children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",onClick:d=>d.stopPropagation(),children:[l.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:()=>h(null),children:l.jsx($o,{className:"w-6 h-6"})}),l.jsx("img",{src:u.src,alt:u.name,className:"w-full h-64 object-contain rounded mb-4"}),l.jsx("div",{className:"text-lg font-bold text-center text-gray-900",children:u.name})]})})]})},Yce=ny("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ed({className:t,variant:e,...r}){return l.jsx("div",{className:Wr(Yce({variant:e}),t),...r})}const qj=(()=>{const t=window.location.protocol,e=window.location.hostname;return`${t}//${e}:5000`})(),wF=({src:t,alt:e,className:r="",fallbackSrc:n="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=500&h=300&fit=crop",...i})=>{const[a,s]=C.useState(t),[o,c]=C.useState(!1),[u,h]=C.useState(!0),f=()=>{o||(c(!0),s(n))},d=()=>{h(!1)};return l.jsxs("div",{className:`relative ${r}`,children:[u&&l.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400 text-sm",children:"Loading..."})}),l.jsx("img",{src:a,alt:e,className:`${r} ${u?"opacity-0":"opacity-100"} transition-opacity duration-300`,onError:f,onLoad:d,...i})]})},Xce=({cartItems:t,onBack:e,onPaymentSuccess:r})=>{const{user:n}=hi(),i=()=>n!=null&&n.name?n.name:n!=null&&n.firstName&&(n!=null&&n.lastName)?`${n.firstName} ${n.lastName}`:"",[a,s]=C.useState({name:i(),email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",address:"",city:"",state:"",pincode:""}),[o,c]=C.useState("razorpay"),[u,h]=C.useState(!1),f=t.reduce((x,m)=>x+m.price*m.quantity,0),d=x=>{const{name:m,value:y}=x.target;s(v=>({...v,[m]:y}))},p=async()=>{var x,m;h(!0);try{o==="razorpay"?(await new Promise(S=>setTimeout(S,2e3)),alert("🎉 Payment Successful! Order confirmed.")):(await new Promise(S=>setTimeout(S,1e3)),alert("📦 Order placed! Pay on delivery."));const y={items:t.map(S=>({productId:S.productId,productName:S.productName,price:S.price,quantity:S.quantity,size:S.size||null,color:null})),totalAmount:f,paymentMethod:o,paymentId:o==="razorpay"?`pay_${Date.now()}`:null,shippingAddress:{name:a.name,email:a.email,phone:a.phone,street:a.address,city:a.city,state:a.state,zipCode:a.pincode,country:"India"},orderNotes:""},v=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!v)throw new Error("No authentication token found. Please login again.");const b=await sr.post(`${qj}/api/purchases`,y,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(b.data.success){console.log("✅ Purchase saved to MongoDB:",b.data.data);const S={id:b.data.data._id,userId:(n==null?void 0:n.id)||"guest",userEmail:(n==null?void 0:n.email)||a.email,userName:(n==null?void 0:n.name)||a.name,items:t.map(j=>({id:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,productId:j.productId,productName:j.productName,price:j.price,quantity:j.quantity,size:j.size||null})),totalAmount:f,status:"pending",createdAt:new Date().toISOString()},T={id:`order_${S.id}`,type:"order",title:"New Order Received",message:`Order #${S.id} for ₹${S.totalAmount} from ${S.userName}`,timestamp:new Date().toISOString(),read:!1,priority:"high",order:{id:S.id,totalAmount:S.totalAmount,userName:S.userName,userEmail:S.userEmail,items:S.items.map(j=>({productName:j.productName,quantity:j.quantity,size:j.size}))}},E=JSON.parse(localStorage.getItem("admin_notifications")||"[]");localStorage.setItem("admin_notifications",JSON.stringify([T,...E]));const P=JSON.parse(localStorage.getItem("all_purchases")||"[]");P.push(S),localStorage.setItem("all_purchases",JSON.stringify(P));try{(await sr.post(`${qj}/api/mail`,{purchase:S})).data.success?alert("🎉 Order placed successfully! Check your email for confirmation."):alert("Order placed successfully! Email notification failed.")}catch(j){console.error("Email notification failed:",j),alert("Order placed successfully! Email notification failed.")}r()}else throw new Error("Failed to save purchase to database")}catch(y){console.error("❌ Payment/Purchase failed:",y),alert(`❌ Payment failed: ${((m=(x=y.response)==null?void 0:x.data)==null?void 0:m.message)||y.message||"Please try again."}`)}finally{h(!1)}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center gap-2",children:"← Back to Cart"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"🛒 Checkout"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm h-fit",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"📦 Order Summary"}),l.jsx("div",{className:"space-y-4 mb-6",children:t.map((x,m)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(wF,{src:x.imageUrl||"",alt:x.productName,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold",children:x.productName}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",x.quantity]}),x.size&&l.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Size: ",x.size]})]}),l.jsxs("p",{className:"font-bold",children:["₹",(x.price*x.quantity).toFixed(2)]})]},`${x.productId}-${x.size||"no-size"}-${m}`))}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["₹",f.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Shipping:"}),l.jsx("span",{children:"FREE"})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["₹",f.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:"📋 Delivery Details"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(Qa,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",name:"name",value:a.name,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(tc,{className:"w-4 h-4 inline mr-2"}),"Email"]}),l.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(Ng,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),l.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(iy,{className:"w-4 h-4 inline mr-2"}),"Address"]}),l.jsx("textarea",{name:"address",value:a.address,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),l.jsx("input",{type:"text",name:"city",value:a.city,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),l.jsx("input",{type:"text",name:"state",value:a.state,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),l.jsx("input",{type:"text",name:"pincode",value:a.pincode,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"💳 Payment Method"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"radio",name:"payment",value:"razorpay",checked:o==="razorpay",onChange:x=>c(x.target.value),className:"mr-3"}),l.jsx(K3,{className:"w-5 h-5 mr-3 text-blue-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Credit/Debit Card, UPI, Net Banking"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Secure payment via Razorpay"})]})]}),l.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"radio",name:"payment",value:"cod",checked:o==="cod",onChange:x=>c(x.target.value),className:"mr-3"}),l.jsx(y0,{className:"w-5 h-5 mr-3 text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Cash on Delivery"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Pay when you receive the order"})]})]})]})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-2",children:[l.jsx(Ch,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Secure Checkout"})]}),l.jsx("div",{className:"text-sm text-green-700",children:"Your payment information is encrypted and secure. We never store your card details."})]}),l.jsx("button",{onClick:p,disabled:u,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-4 rounded-lg hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg font-semibold",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ga,{className:"w-5 h-5"}),"Place Order - ₹",f.toFixed(2)]})})]})]})]})})};function $ce(){var y;const{state:t,updateCartItem:e,removeFromCart:r,clearCart:n}=Vh(),{user:i}=hi(),[a,s]=C.useState(!1),[o,c]=C.useState(!1),[u,h]=C.useState(null);if(C.useEffect(()=>{t.error?h(t.error):h(null)},[t.error]),!i)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Shopping Cart"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Please login to view your cart"}),l.jsx(yr,{href:"/",children:l.jsxs($t,{className:"bg-red-600 hover:bg-red-700",children:[l.jsx(Lm,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]})})});if(t.loading)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Loading your cart..."})]})})});if(u)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Error Loading Cart"}),l.jsx("p",{className:"text-red-400 mb-6",children:u}),l.jsx($t,{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700",children:"Try Again"})]})})});const f=async(v,b)=>{if(!(b<1)){c(!0);try{await e(v,b)}catch(S){console.error("Error updating quantity:",S)}finally{c(!1)}}},d=async v=>{c(!0);try{await r(v)}catch(b){console.error("Error removing item:",b)}finally{c(!1)}},p=async()=>{c(!0);try{await n()}catch(v){console.error("Error clearing cart:",v)}finally{c(!1)}},x=()=>{s(!0)},m=()=>{s(!1),n()};return a?l.jsx(Xce,{cartItems:((y=t.cart)==null?void 0:y.items)||[],onBack:()=>s(!1),onPaymentSuccess:m}):!t.cart||t.cart.items.length===0?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(aa,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Cart is Empty"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Add some products to your cart to get started!"}),l.jsx(yr,{href:"/products",children:l.jsx($t,{className:"bg-red-600 hover:bg-red-700",children:"Browse Products"})})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Shopping Cart"}),l.jsxs($t,{variant:"outline",onClick:p,disabled:o,className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:[l.jsx(pu,{className:"w-4 h-4 mr-2"}),"Clear Cart"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.cart.items.map(v=>l.jsx(Mi,{className:"bg-slate-800 border-slate-700",children:l.jsx(Fi,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(wF,{src:v.imageUrl||"/placeholder-product.jpg",alt:v.productName,className:"w-20 h-20 object-cover rounded-lg"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:v.productName}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[l.jsxs("span",{children:["₹",v.price]}),v.size&&l.jsx(Ed,{variant:"secondary",children:v.size}),v.color&&l.jsx(Ed,{variant:"secondary",children:v.color})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($t,{size:"sm",variant:"outline",onClick:()=>f(v._id,v.quantity-1),disabled:o||v.quantity<=1,children:l.jsx(ay,{className:"w-4 h-4"})}),l.jsx("span",{className:"w-12 text-center font-semibold",children:v.quantity}),l.jsx($t,{size:"sm",variant:"outline",onClick:()=>f(v._id,v.quantity+1),disabled:o,children:l.jsx(J3,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-semibold text-white",children:["₹",(v.price*v.quantity).toFixed(2)]}),l.jsx($t,{size:"sm",variant:"ghost",onClick:()=>d(v._id),disabled:o,className:"text-red-400 hover:text-red-300 hover:bg-red-400/10",children:l.jsx(pu,{className:"w-4 h-4"})})]})]})})},v._id))}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs(Mi,{className:"bg-slate-800 border-slate-700 sticky top-24",children:[l.jsx(Ol,{children:l.jsx(Ll,{className:"text-xl font-bold",children:"Order Summary"})}),l.jsxs(Fi,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:["Items (",t.cart.itemCount,")"]}),l.jsxs("span",{children:["₹",t.cart.totalAmount.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{className:"text-green-400",children:"Free"})]}),l.jsx("div",{className:"border-t border-slate-600 pt-4",children:l.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["₹",t.cart.totalAmount.toFixed(2)]})]})}),l.jsx($t,{className:"w-full bg-red-600 hover:bg-red-700 text-white",size:"lg",onClick:x,children:"Proceed to Checkout"}),l.jsx("div",{className:"mt-3",children:l.jsx(yr,{href:"/products",children:l.jsx($t,{variant:"outline",className:"w-full",children:"Continue Shopping"})})})]})]})})]})]})})}const Kce=({src:t,alt:e,className:r="",fallbackSrc:n="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=500&h=300&fit=crop",...i})=>{const[a,s]=C.useState(t),[o,c]=C.useState(!1),[u,h]=C.useState(!0),f=()=>{o||(c(!0),s(n))},d=()=>{h(!1)};return l.jsxs("div",{className:`relative ${r}`,children:[u&&l.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400 text-sm",children:"Loading..."})}),l.jsx("img",{src:a,alt:e,className:`${r} ${u?"opacity-0":"opacity-100"} transition-opacity duration-300`,onError:f,onLoad:d,...i})]})};function Qce(){const{state:t,removeFromWishlist:e,clearWishlist:r}=L0(),{addToCart:n}=Vh(),{user:i}=hi(),[a,s]=C.useState(!1),[o,c]=C.useState(null);if(C.useEffect(()=>{t.error?c(t.error):c(null)},[t.error]),!i)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Wishlist"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Please login to view your wishlist"}),l.jsx(yr,{href:"/",children:l.jsxs($t,{className:"bg-red-600 hover:bg-red-700",children:[l.jsx(Lm,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]})})});if(t.loading)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Loading your wishlist..."})]})})});if(o)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Error Loading Wishlist"}),l.jsx("p",{className:"text-red-400 mb-6",children:o}),l.jsx($t,{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700",children:"Try Again"})]})})});const u=async d=>{s(!0);try{await e(d)}catch(p){console.error("Error removing from wishlist:",p)}finally{s(!1)}},h=async d=>{s(!0);try{await n({productId:d.productId,productName:d.productName,price:d.price,quantity:1,imageUrl:d.imageUrl})}catch(p){console.error("Error adding to cart:",p)}finally{s(!1)}},f=async()=>{s(!0);try{await r()}catch(d){console.error("Error clearing wishlist:",d)}finally{s(!1)}};return!t.wishlist||t.wishlist.items.length===0?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ks,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Wishlist is Empty"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Start adding products to your wishlist!"}),l.jsx(yr,{href:"/products",children:l.jsx($t,{className:"bg-red-600 hover:bg-red-700",children:"Browse Products"})})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"My Wishlist"}),l.jsxs($t,{variant:"outline",onClick:f,disabled:a,className:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white",children:[l.jsx(pu,{className:"w-4 h-4 mr-2"}),"Clear Wishlist"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.wishlist.items.map(d=>l.jsx(Mi,{className:"bg-slate-800 border-slate-700 hover:border-slate-600 transition-all duration-300 hover:shadow-lg hover:-translate-y-1",children:l.jsxs(Fi,{className:"p-4",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(Kce,{src:d.imageUrl||"/placeholder-product.jpg",alt:d.productName,className:"w-full h-48 object-cover rounded-lg mb-4"}),l.jsx($t,{size:"sm",variant:"ghost",onClick:()=>u(d.productId),disabled:a,className:"absolute top-2 right-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:l.jsx(pu,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-2 min-h-[3rem]",children:d.productName}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xl font-bold text-white",children:["₹",d.price]}),d.category&&l.jsx(Ed,{variant:"secondary",className:"text-xs",children:d.category})]}),l.jsxs("div",{className:"flex space-x-2 pt-2",children:[l.jsxs($t,{className:"flex-1 bg-red-600 hover:bg-red-700 text-sm",size:"sm",onClick:()=>h(d),disabled:a,children:[l.jsx(aa,{className:"w-4 h-4 mr-1"}),"Add to Cart"]}),l.jsxs($t,{variant:"outline",size:"sm",className:"flex-1 text-sm",children:[l.jsx(J3,{className:"w-4 h-4 mr-1"}),"Quick View"]})]})]})]})},d._id))}),l.jsxs("div",{className:"mt-8 text-center space-x-4 text-black",children:[l.jsx(yr,{href:"/products",children:l.jsx($t,{variant:"outline",children:"Continue Shopping"})}),l.jsx(yr,{href:"/cart",children:l.jsxs($t,{className:"bg-red-600 hover:bg-red-700",children:[l.jsx(aa,{className:"w-4 h-4 mr-2"}),"View Cart"]})})]})]})})}const Jce=({product:t,size:e,className:r=""})=>{var h;const{addToCart:n,state:i}=Vh(),{user:a}=hi(),[s,o]=It.useState(!1),c=((h=i.cart)==null?void 0:h.items.some(f=>f.productId===t.id.toString()&&f.size===e))||!1,u=async()=>{if(!a){alert("Please login to add items to cart");return}o(!0);try{await n({productId:t.id.toString(),productName:t.name,price:parseFloat(t.price),quantity:1,size:e||void 0,imageUrl:t.imageUrl})}catch(f){console.error("Error adding to cart:",f)}finally{o(!1)}};return l.jsxs($t,{onClick:u,disabled:s,className:`${c?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} ${r}`,children:[l.jsx(aa,{className:"w-4 h-4 mr-2"}),s?"Adding...":c?"Added to Cart":"Add to Cart"]})},Zce=({product:t,className:e=""})=>{var h;const{addToWishlist:r,removeFromWishlist:n,state:i}=L0(),{user:a}=hi(),[s,o]=It.useState(!1),c=((h=i.wishlist)==null?void 0:h.items.some(f=>f.productId===t.id.toString()))||!1,u=async()=>{if(!a){alert("Please login to manage wishlist");return}o(!0);try{c?await n(t.id.toString()):await r({productId:t.id.toString(),productName:t.name,price:parseFloat(t.price),imageUrl:t.imageUrl,category:t.category})}catch(f){console.error("Error toggling wishlist:",f)}finally{o(!1)}};return l.jsxs($t,{onClick:u,disabled:s,variant:c?"default":"outline",className:`${c?"bg-red-600 hover:bg-red-700":"bg-transparent hover:bg-red-50"} ${e}`,children:[l.jsx(ks,{className:`w-4 h-4 mr-2 ${c?"fill-current":""}`}),s?"Updating...":c?"Remove from Wishlist":"Add to Wishlist"]})};function eue(){var s,o,c,u,h,f;const{user:t}=hi(),{state:e,clearCart:r}=Vh(),{state:n,clearWishlist:i}=L0(),a={id:1,name:"Test Anime T-Shirt",price:"29.99",imageUrl:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=500",category:"T-Shirts"};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black text-white pt-20",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Cart & Wishlist Test"}),t?l.jsxs("div",{className:"space-y-8",children:[l.jsxs(Mi,{className:"bg-slate-800 border-slate-700",children:[l.jsx(Ol,{children:l.jsx(Ll,{children:"Test Product"})}),l.jsxs(Fi,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-20 h-20 object-cover rounded"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.name}),l.jsxs("p",{className:"text-gray-400",children:["₹",a.price]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Jce,{product:a}),l.jsx(Zce,{product:a})]})]})]}),l.jsxs(Mi,{className:"bg-slate-800 border-slate-700",children:[l.jsx(Ol,{children:l.jsx(Ll,{children:"Cart Status"})}),l.jsxs(Fi,{children:[l.jsxs("p",{children:["Items in cart: ",((s=e.cart)==null?void 0:s.itemCount)||0]}),l.jsxs("p",{children:["Total amount: ₹",((c=(o=e.cart)==null?void 0:o.totalAmount)==null?void 0:c.toFixed(2))||"0.00"]}),((u=e.cart)==null?void 0:u.items.length)>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Cart Items:"}),e.cart.items.map((d,p)=>l.jsxs("div",{className:"text-sm text-gray-400",children:[d.productName," - ₹",d.price," x ",d.quantity]},p))]}),l.jsx($t,{onClick:r,variant:"outline",className:"mt-4",children:"Clear Cart"})]})]}),l.jsxs(Mi,{className:"bg-slate-800 border-slate-700",children:[l.jsx(Ol,{children:l.jsx(Ll,{children:"Wishlist Status"})}),l.jsxs(Fi,{children:[l.jsxs("p",{children:["Items in wishlist: ",((h=n.wishlist)==null?void 0:h.itemCount)||0]}),((f=n.wishlist)==null?void 0:f.items.length)>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Wishlist Items:"}),n.wishlist.items.map((d,p)=>l.jsxs("div",{className:"text-sm text-gray-400",children:[d.productName," - ₹",d.price]},p))]}),l.jsx($t,{onClick:i,variant:"outline",className:"mt-4",children:"Clear Wishlist"})]})]})]}):l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-400 mb-4",children:"Please login to test cart and wishlist functionality"})})]})})}const tue=()=>{const[,t]=F3();return C.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("token");r?(localStorage.setItem("auth_token",r),setTimeout(()=>{t("/")},500)):setTimeout(()=>{t("/login")},1e3)},[t]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Signing you in with Google..."}),l.jsx("p",{className:"text-gray-600",children:"Please wait, redirecting..."})]})})},ko=C.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:Wr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ko.displayName="Input";var rue="Separator",Vj="horizontal",nue=["horizontal","vertical"],SF=C.forwardRef((t,e)=>{const{decorative:r,orientation:n=Vj,...i}=t,a=iue(n)?n:Vj,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(Ir.div,{"data-orientation":a,...o,...i,ref:e})});SF.displayName=rue;function iue(t){return nue.includes(t)}var _F=SF;const NF=C.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>l.jsx(_F,{ref:i,decorative:r,orientation:e,className:Wr("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));NF.displayName=_F.displayName;const aue=()=>{var x,m,y,v;const{state:t,logout:e}=hi(),{state:r}=Vh(),{state:n}=L0(),{toast:i}=H3(),[a,s]=C.useState(!1),[o,c]=C.useState(!1),[u,h]=C.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:""});C.useEffect(()=>{t.user&&h({firstName:t.user.firstName||"",lastName:t.user.lastName||"",email:t.user.email||"",phone:t.user.phone||"",address:t.user.address||"",city:t.user.city||"",state:t.user.state||"",zipCode:t.user.zipCode||"",country:t.user.country||""})},[t.user]);const f=b=>{const{name:S,value:T}=b.target;h(E=>({...E,[S]:T}))},d=async()=>{if(t.user){c(!0);try{const b=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),S=await sr.put("http://localhost:5000/api/users/profile",u,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(S.data.success)i({title:"Profile Updated",description:"Your profile has been updated successfully."}),s(!1);else throw new Error(S.data.message||"Failed to update profile")}catch(b){i({title:"Error",description:b instanceof Error?b.message:"Failed to update profile",variant:"destructive"})}finally{c(!1)}}},p=()=>{t.user&&h({firstName:t.user.firstName||"",lastName:t.user.lastName||"",email:t.user.email||"",phone:t.user.phone||"",address:t.user.address||"",city:t.user.city||"",state:t.user.state||"",zipCode:t.user.zipCode||"",country:t.user.country||""}),s(!1)};return!t.isAuthenticated||!t.user?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 pt-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx(Mi,{className:"text-center",children:l.jsxs(Fi,{className:"pt-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Sign In"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to access your account."}),l.jsx($t,{onClick:()=>window.location.href="/products",children:"Go to Products"})]})})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 pt-20",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Account"}),l.jsx("p",{className:"text-gray-600",children:"Manage your profile and account settings"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(Mi,{children:[l.jsx(Ol,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Ll,{className:"flex items-center gap-2",children:[l.jsx(Qa,{className:"w-5 h-5"}),"Profile Information"]}),l.jsx($7,{children:"Update your personal information and contact details"})]}),l.jsx("div",{className:"flex gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsxs($t,{size:"sm",onClick:d,disabled:o,className:"flex items-center gap-2",children:[l.jsx(Z3,{className:"w-4 h-4"}),o?"Saving...":"Save"]}),l.jsxs($t,{size:"sm",variant:"outline",onClick:p,disabled:o,className:"flex items-center gap-2",children:[l.jsx($o,{className:"w-4 h-4"}),"Cancel"]})]}):l.jsxs($t,{size:"sm",onClick:()=>s(!0),className:"flex items-center gap-2",children:[l.jsx(YH,{className:"w-4 h-4"}),"Edit"]})})]})}),l.jsxs(Fi,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsxs("span",{className:"text-white text-2xl font-bold",children:[(x=t.user.firstName)==null?void 0:x[0],(m=t.user.lastName)==null?void 0:m[0]]})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold",children:[t.user.firstName," ",t.user.lastName]}),l.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[l.jsx(tc,{className:"w-4 h-4"}),t.user.email]}),t.user.role&&l.jsx(Ed,{variant:"secondary",className:"mt-2",children:t.user.role})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),l.jsx(ko,{name:"firstName",value:u.firstName,onChange:f,disabled:!a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),l.jsx(ko,{name:"lastName",value:u.lastName,onChange:f,disabled:!a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx(ko,{name:"email",type:"email",value:u.email,onChange:f,disabled:!a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx(ko,{name:"phone",value:u.phone,onChange:f,disabled:!a})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx(ko,{name:"address",value:u.address,onChange:f,disabled:!a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),l.jsx(ko,{name:"city",value:u.city,onChange:f,disabled:!a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),l.jsx(ko,{name:"state",value:u.state,onChange:f,disabled:!a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),l.jsx(ko,{name:"zipCode",value:u.zipCode,onChange:f,disabled:!a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),l.jsx(ko,{name:"country",value:u.country,onChange:f,disabled:!a})]})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Mi,{children:[l.jsx(Ol,{children:l.jsxs(Ll,{className:"flex items-center gap-2",children:[l.jsx(BC,{className:"w-5 h-5"}),"Account Overview"]})}),l.jsxs(Fi,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Cart Items"}),l.jsx(Ed,{variant:"outline",children:((y=r.cart)==null?void 0:y.itemCount)||0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Wishlist Items"}),l.jsx(Ed,{variant:"outline",children:((v=n.wishlist)==null?void 0:v.itemCount)||0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Member Since"}),l.jsx("span",{className:"text-sm font-medium",children:t.user.createdAt?new Date(t.user.createdAt).toLocaleDateString():"N/A"})]})]})]}),l.jsxs(Mi,{children:[l.jsx(Ol,{children:l.jsx(Ll,{children:"Quick Actions"})}),l.jsxs(Fi,{className:"space-y-3",children:[l.jsx($t,{variant:"outline",className:"w-full justify-start",asChild:!0,children:l.jsxs("a",{href:"/cart",children:[l.jsx(tm,{className:"w-4 h-4 mr-2"}),"View Cart"]})}),l.jsx($t,{variant:"outline",className:"w-full justify-start",asChild:!0,children:l.jsxs("a",{href:"/wishlist",children:[l.jsx(ks,{className:"w-4 h-4 mr-2"}),"My Wishlist"]})}),l.jsx($t,{variant:"outline",className:"w-full justify-start",asChild:!0,children:l.jsxs("a",{href:"/user-orders",children:[l.jsx(K3,{className:"w-4 h-4 mr-2"}),"My Orders"]})}),l.jsx(NF,{}),l.jsxs($t,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700",onClick:e,children:[l.jsx(Vv,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}),l.jsxs(Mi,{children:[l.jsx(Ol,{children:l.jsxs(Ll,{className:"flex items-center gap-2",children:[l.jsx(Ch,{className:"w-5 h-5"}),"Security"]})}),l.jsxs(Fi,{className:"space-y-3",children:[l.jsxs($t,{variant:"outline",className:"w-full justify-start",children:[l.jsx(Ch,{className:"w-4 h-4 mr-2"}),"Change Password"]}),l.jsxs($t,{variant:"outline",className:"w-full justify-start",children:[l.jsx(BC,{className:"w-4 h-4 mr-2"}),"Privacy Settings"]})]})]})]})]})]})})};window.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img:not([loading])").forEach(e=>{e.setAttribute("loading","lazy"),e.setAttribute("decoding","async")}),IL(),BL()});function sue(){const[t]=F3(),e=t==="/customize";return l.jsxs("div",{className:"flex flex-col min-h-screen",children:[l.jsx(qce,{}),l.jsx("div",{className:"flex-grow",children:l.jsxs(Dz,{children:[l.jsx(za,{path:"/",component:pY}),l.jsx(za,{path:"/products",component:Eee}),l.jsx(za,{path:"/cart",component:$ce}),l.jsx(za,{path:"/wishlist",component:Qce}),l.jsx(za,{path:"/test",component:eue}),l.jsx(za,{path:"/user-orders",component:Gce}),l.jsx(za,{path:"/account",component:aue}),l.jsx(za,{path:"/contact",component:GX}),l.jsx(za,{path:"/customize",component:QX}),l.jsx(za,{path:"/tshirt-designer",component:mee}),l.jsx(za,{path:"/admin",component:kle})," ",l.jsx(za,{path:"/auth/callback",component:tue}),l.jsx(za,{component:EW})]})}),!e&&l.jsx(Vce,{}),!e&&l.jsx(Wce,{defaultMascot:"neko",position:"bottom-right",autoGreet:!0})]})}function oue(){return l.jsx(tU,{client:dU,children:l.jsxs(TW,{children:[l.jsx(Iq,{}),l.jsx(oee,{children:l.jsx(aee,{children:l.jsx(xee,{children:l.jsx(yee,{children:l.jsx(sue,{})})})})})]})})}let d5=null;const P2="scroll-active";function Wj(){document.body.classList.add(P2),d5!==null&&window.clearTimeout(d5),d5=window.setTimeout(()=>{document.body.classList.remove(P2)},150)}function lue(){window.addEventListener("scroll",Wj,{passive:!0}),window.addEventListener("scrollend",()=>{document.body.classList.remove(P2)},{passive:!0});const t=new IntersectionObserver(e=>{e.forEach(r=>{if(r.isIntersecting){const n=r.target;n.style.visibility="visible",t.unobserve(n)}})},{rootMargin:"200px"});return document.querySelectorAll(".lazy-section").forEach(e=>{t.observe(e)}),document.querySelectorAll(".embla").forEach(e=>{e.classList.add("carousel-component")}),()=>{window.removeEventListener("scroll",Wj),window.removeEventListener("scrollend",()=>{document.body.classList.remove(P2)})}}window.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img:not([loading])").forEach(e=>{e.setAttribute("loading","lazy"),e.setAttribute("decoding","async")})});const cue=iz.createRoot(document.getElementById("root"));cue.render(l.jsx(oue,{}));window.addEventListener("DOMContentLoaded",()=>{lue(),document.querySelectorAll("section:not(:first-child)").forEach(t=>{t.classList.add("lazy-section")})});export{Rr as _,fp as c,h0 as g};
